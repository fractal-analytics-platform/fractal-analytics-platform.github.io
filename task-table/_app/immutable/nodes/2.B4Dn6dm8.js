var Zn=Object.defineProperty;var Ds=a=>{throw TypeError(a)};var qn=(a,e,s)=>e in a?Zn(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var Q=(a,e,s)=>qn(a,typeof e!="symbol"?e+"":e,s),Xn=(a,e,s)=>e.has(a)||Ds("Cannot "+s);var Ms=(a,e,s)=>e.has(a)?Ds("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,s);var xt=(a,e,s)=>(Xn(a,e,"access private method"),s);import{s as os,n as Qe,o as yn,r as Wn,c as Qt,u as Kt,g as es,a as ts,k as Yn}from"../chunks/scheduler.BvLojk_z.js";import{S as rs,i as cs,m as We,j as X,g as x,e as D,b as Oe,c as M,d as G,f as xe,p as Ns,o as H,k as S,l as De,s as W,y as $e,h as Y,z as St,A as Ht,B as Ke,q as rt,a as ce,n as ct,t as oe,C as Jn,D as hs,u as us,v as ps,w as ds,x as fs,E as Ps,H as Qn,F as Kn}from"../chunks/index.fIxOdhEb.js";import{_ as ei}from"../chunks/preload-helper.C1FmrZbK.js";function ht(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function ms(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let st=ms();function _n(a){st=a}const vn=/[&<>"']/,ti=new RegExp(vn.source,"g"),En=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,si=new RegExp(En.source,"g"),ni={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hs=a=>ni[a];function ge(a,e){if(e){if(vn.test(a))return a.replace(ti,Hs)}else if(En.test(a))return a.replace(si,Hs);return a}const ii=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Tn(a){return a.replace(ii,(e,s)=>(s=s.toLowerCase(),s==="colon"?":":s.charAt(0)==="#"?s.charAt(1)==="x"?String.fromCharCode(parseInt(s.substring(2),16)):String.fromCharCode(+s.substring(1)):""))}const ai=/(^|[^\[])\^/g;function ee(a,e){a=typeof a=="string"?a:a.source,e=e||"";const s={replace:(t,i)=>(i=typeof i=="object"&&"source"in i?i.source:i,i=i.replace(ai,"$1"),a=a.replace(t,i),s),getRegex:()=>new RegExp(a,e)};return s}const li=/[^\w:]/g,oi=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Fs(a,e,s){if(a){let t;try{t=decodeURIComponent(Tn(s)).replace(li,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}e&&!oi.test(s)&&(s=ui(e,s));try{s=encodeURI(s).replace(/%25/g,"%")}catch{return null}return s}const Rt={},ri=/^[^:]+:\/*[^/]*$/,ci=/^([^:]+:)[\s\S]*$/,hi=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ui(a,e){Rt[" "+a]||(ri.test(a)?Rt[" "+a]=a+"/":Rt[" "+a]=Nt(a,"/",!0)),a=Rt[" "+a];const s=a.indexOf(":")===-1;return e.substring(0,2)==="//"?s?e:a.replace(ci,"$1")+e:e.charAt(0)==="/"?s?e:a.replace(hi,"$1")+e:a+e}const Ft={exec:()=>null};function $s(a,e){const s=a.replace(/\|/g,(l,r,p)=>{let c=!1,h=r;for(;--h>=0&&p[h]==="\\";)c=!c;return c?"|":" |"}),t=s.split(/ \|/);let i=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;i<t.length;i++)t[i]=t[i].trim().replace(/\\\|/g,"|");return t}function Nt(a,e,s){const t=a.length;if(t===0)return"";let i=0;for(;i<t;){const l=a.charAt(t-i-1);if(l===e&&!s)i++;else if(l!==e&&s)i++;else break}return a.slice(0,t-i)}function pi(a,e){if(a.indexOf(e[1])===-1)return-1;let s=0;for(let t=0;t<a.length;t++)if(a[t]==="\\")t++;else if(a[t]===e[0])s++;else if(a[t]===e[1]&&(s--,s<0))return t;return-1}function di(a,e){!a||a.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(a.sanitize||a.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(a.highlight||a.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),a.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),a.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),a.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),a.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(a.headerIds||a.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function zs(a,e,s,t){const i=e.href,l=e.title?ge(e.title):null,r=a[1].replace(/\\([\[\]])/g,"$1");if(a[0].charAt(0)!=="!"){t.state.inLink=!0;const p={type:"link",raw:s,href:i,title:l,text:r,tokens:t.inlineTokens(r)};return t.state.inLink=!1,p}return{type:"image",raw:s,href:i,title:l,text:ge(r)}}function fi(a,e){const s=a.match(/^(\s+)(?:```)/);if(s===null)return e;const t=s[1];return e.split(`
`).map(i=>{const l=i.match(/^\s+/);if(l===null)return i;const[r]=l;return r.length>=t.length?i.slice(t.length):i}).join(`
`)}class $t{constructor(e){Q(this,"options");Q(this,"rules");Q(this,"lexer");this.options=e||st}space(e){const s=this.rules.block.newline.exec(e);if(s&&s[0].length>0)return{type:"space",raw:s[0]}}code(e){const s=this.rules.block.code.exec(e);if(s){const t=s[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:s[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Nt(t,`
`)}}}fences(e){const s=this.rules.block.fences.exec(e);if(s){const t=s[0],i=fi(t,s[3]||"");return{type:"code",raw:t,lang:s[2]?s[2].trim().replace(this.rules.inline._escapes,"$1"):s[2],text:i}}}heading(e){const s=this.rules.block.heading.exec(e);if(s){let t=s[2].trim();if(/#$/.test(t)){const i=Nt(t,"#");(this.options.pedantic||!i||/ $/.test(i))&&(t=i.trim())}return{type:"heading",raw:s[0],depth:s[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){const s=this.rules.block.hr.exec(e);if(s)return{type:"hr",raw:s[0]}}blockquote(e){const s=this.rules.block.blockquote.exec(e);if(s){const t=s[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const l=this.lexer.blockTokens(t);return this.lexer.state.top=i,{type:"blockquote",raw:s[0],tokens:l,text:t}}}list(e){let s=this.rules.block.list.exec(e);if(s){let t=s[1].trim();const i=t.length>1,l={type:"list",raw:"",ordered:i,start:i?+t.slice(0,-1):"",loose:!1,items:[]};t=i?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=i?t:"[*+-]");const r=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`);let p="",c="",h=!1;for(;e;){let b=!1;if(!(s=r.exec(e))||this.rules.block.hr.test(e))break;p=s[0],e=e.substring(p.length);let k=s[2].split(`
`,1)[0].replace(/^\t+/,o=>" ".repeat(3*o.length)),_=e.split(`
`,1)[0],v=0;this.options.pedantic?(v=2,c=k.trimLeft()):(v=s[2].search(/[^ ]/),v=v>4?1:v,c=k.slice(v),v+=s[1].length);let w=!1;if(!k&&/^ *$/.test(_)&&(p+=_+`
`,e=e.substring(_.length+1),b=!0),!b){const o=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),u=new RegExp(`^ {0,${Math.min(3,v-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),d=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:\`\`\`|~~~)`),m=new RegExp(`^ {0,${Math.min(3,v-1)}}#`);for(;e;){const g=e.split(`
`,1)[0];if(_=g,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),d.test(_)||m.test(_)||o.test(_)||u.test(e))break;if(_.search(/[^ ]/)>=v||!_.trim())c+=`
`+_.slice(v);else{if(w||k.search(/[^ ]/)>=4||d.test(k)||m.test(k)||u.test(k))break;c+=`
`+_}!w&&!_.trim()&&(w=!0),p+=g+`
`,e=e.substring(g.length+1),k=_.slice(v)}}l.loose||(h?l.loose=!0:/\n *\n *$/.test(p)&&(h=!0));let L=null,n;this.options.gfm&&(L=/^\[[ xX]\] /.exec(c),L&&(n=L[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),l.items.push({type:"list_item",raw:p,task:!!L,checked:n,loose:!1,text:c,tokens:[]}),l.raw+=p}l.items[l.items.length-1].raw=p.trimRight(),l.items[l.items.length-1].text=c.trimRight(),l.raw=l.raw.trimRight();for(let b=0;b<l.items.length;b++)if(this.lexer.state.top=!1,l.items[b].tokens=this.lexer.blockTokens(l.items[b].text,[]),!l.loose){const k=l.items[b].tokens.filter(v=>v.type==="space"),_=k.length>0&&k.some(v=>/\n.*\n/.test(v.raw));l.loose=_}if(l.loose)for(let b=0;b<l.items.length;b++)l.items[b].loose=!0;return l}}html(e){const s=this.rules.block.html.exec(e);if(s){const t={type:"html",block:!0,raw:s[0],pre:!this.options.sanitizer&&(s[1]==="pre"||s[1]==="script"||s[1]==="style"),text:s[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(s[0]):ge(s[0]),l=t;l.type="paragraph",l.text=i,l.tokens=this.lexer.inline(i)}return t}}def(e){const s=this.rules.block.def.exec(e);if(s){const t=s[1].toLowerCase().replace(/\s+/g," "),i=s[2]?s[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",l=s[3]?s[3].substring(1,s[3].length-1).replace(this.rules.inline._escapes,"$1"):s[3];return{type:"def",tag:t,raw:s[0],href:i,title:l}}}table(e){const s=this.rules.block.table.exec(e);if(s){const t={type:"table",raw:s[0],header:$s(s[1]).map(i=>({text:i,tokens:[]})),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:s[3]&&s[3].trim()?s[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){let i=t.align.length,l,r,p,c;for(l=0;l<i;l++){const h=t.align[l];h&&(/^ *-+: *$/.test(h)?t.align[l]="right":/^ *:-+: *$/.test(h)?t.align[l]="center":/^ *:-+ *$/.test(h)?t.align[l]="left":t.align[l]=null)}for(i=t.rows.length,l=0;l<i;l++)t.rows[l]=$s(t.rows[l],t.header.length).map(h=>({text:h,tokens:[]}));for(i=t.header.length,r=0;r<i;r++)t.header[r].tokens=this.lexer.inline(t.header[r].text);for(i=t.rows.length,r=0;r<i;r++)for(c=t.rows[r],p=0;p<c.length;p++)c[p].tokens=this.lexer.inline(c[p].text);return t}}}lheading(e){const s=this.rules.block.lheading.exec(e);if(s)return{type:"heading",raw:s[0],depth:s[2].charAt(0)==="="?1:2,text:s[1],tokens:this.lexer.inline(s[1])}}paragraph(e){const s=this.rules.block.paragraph.exec(e);if(s){const t=s[1].charAt(s[1].length-1)===`
`?s[1].slice(0,-1):s[1];return{type:"paragraph",raw:s[0],text:t,tokens:this.lexer.inline(t)}}}text(e){const s=this.rules.block.text.exec(e);if(s)return{type:"text",raw:s[0],text:s[0],tokens:this.lexer.inline(s[0])}}escape(e){const s=this.rules.inline.escape.exec(e);if(s)return{type:"escape",raw:s[0],text:ge(s[1])}}tag(e){const s=this.rules.inline.tag.exec(e);if(s)return!this.lexer.state.inLink&&/^<a /i.test(s[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(s[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:s[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):ge(s[0]):s[0]}}link(e){const s=this.rules.inline.link.exec(e);if(s){const t=s[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const r=Nt(t.slice(0,-1),"\\");if((t.length-r.length)%2===0)return}else{const r=pi(s[2],"()");if(r>-1){const c=(s[0].indexOf("!")===0?5:4)+s[1].length+r;s[2]=s[2].substring(0,r),s[0]=s[0].substring(0,c).trim(),s[3]=""}}let i=s[2],l="";if(this.options.pedantic){const r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);r&&(i=r[1],l=r[3])}else l=s[3]?s[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(t)?i=i.slice(1):i=i.slice(1,-1)),zs(s,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:l&&l.replace(this.rules.inline._escapes,"$1")},s[0],this.lexer)}}reflink(e,s){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let i=(t[2]||t[1]).replace(/\s+/g," ");if(i=s[i.toLowerCase()],!i){const l=t[0].charAt(0);return{type:"text",raw:l,text:l}}return zs(t,i,t[0],this.lexer)}}emStrong(e,s,t=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const r=[...i[0]].length-1;let p,c,h=r,b=0;const k=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,s=s.slice(-1*e.length+r);(i=k.exec(s))!=null;){if(p=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!p)continue;if(c=[...p].length,i[3]||i[4]){h+=c;continue}else if((i[5]||i[6])&&r%3&&!((r+c)%3)){b+=c;continue}if(h-=c,h>0)continue;c=Math.min(c,c+h+b);const _=[...e].slice(0,r+i.index+c+1).join("");if(Math.min(r,c)%2){const w=_.slice(1,-1);return{type:"em",raw:_,text:w,tokens:this.lexer.inlineTokens(w)}}const v=_.slice(2,-2);return{type:"strong",raw:_,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const s=this.rules.inline.code.exec(e);if(s){let t=s[2].replace(/\n/g," ");const i=/[^ ]/.test(t),l=/^ /.test(t)&&/ $/.test(t);return i&&l&&(t=t.substring(1,t.length-1)),t=ge(t,!0),{type:"codespan",raw:s[0],text:t}}}br(e){const s=this.rules.inline.br.exec(e);if(s)return{type:"br",raw:s[0]}}del(e){const s=this.rules.inline.del.exec(e);if(s)return{type:"del",raw:s[0],text:s[2],tokens:this.lexer.inlineTokens(s[2])}}autolink(e,s){const t=this.rules.inline.autolink.exec(e);if(t){let i,l;return t[2]==="@"?(i=ge(this.options.mangle?s(t[1]):t[1]),l="mailto:"+i):(i=ge(t[1]),l=i),{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(e,s){let t;if(t=this.rules.inline.url.exec(e)){let i,l;if(t[2]==="@")i=ge(this.options.mangle?s(t[0]):t[0]),l="mailto:"+i;else{let r;do r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(r!==t[0]);i=ge(t[0]),t[1]==="www."?l="http://"+t[0]:l=t[0]}return{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,s){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ge(t[0]):t[0]:i=ge(this.options.smartypants?s(t[0]):t[0]),{type:"text",raw:t[0],text:i}}}}const F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ft,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};F._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;F._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;F.def=ee(F.def).replace("label",F._label).replace("title",F._title).getRegex();F.bullet=/(?:[*+-]|\d{1,9}[.)])/;F.listItemStart=ee(/^( *)(bull) */).replace("bull",F.bullet).getRegex();F.list=ee(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex();F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;F.html=ee(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();F.lheading=ee(F.lheading).replace(/bull/g,F.bullet).getRegex();F.paragraph=ee(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex();F.blockquote=ee(F.blockquote).replace("paragraph",F.paragraph).getRegex();F.normal={...F};F.gfm={...F.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};F.gfm.table=ee(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex();F.gfm.paragraph=ee(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex();F.pedantic={...F.normal,html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ft,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ee(F.normal._paragraph).replace("hr",F.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const A={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ft,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ft,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};A._punctuation="\\p{P}$+<=>`^|~";A.punctuation=ee(A.punctuation,"u").replace(/punctuation/g,A._punctuation).getRegex();A.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;A.anyPunctuation=/\\[punct]/g;A._escapes=/\\([punct])/g;A._comment=ee(F._comment).replace("(?:-->|$)","-->").getRegex();A.emStrong.lDelim=ee(A.emStrong.lDelim,"u").replace(/punct/g,A._punctuation).getRegex();A.emStrong.rDelimAst=ee(A.emStrong.rDelimAst,"gu").replace(/punct/g,A._punctuation).getRegex();A.emStrong.rDelimUnd=ee(A.emStrong.rDelimUnd,"gu").replace(/punct/g,A._punctuation).getRegex();A.anyPunctuation=ee(A.anyPunctuation,"gu").replace(/punct/g,A._punctuation).getRegex();A._escapes=ee(A._escapes,"gu").replace(/punct/g,A._punctuation).getRegex();A._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;A._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;A.autolink=ee(A.autolink).replace("scheme",A._scheme).replace("email",A._email).getRegex();A._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;A.tag=ee(A.tag).replace("comment",A._comment).replace("attribute",A._attribute).getRegex();A._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;A._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;A._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;A.link=ee(A.link).replace("label",A._label).replace("href",A._href).replace("title",A._title).getRegex();A.reflink=ee(A.reflink).replace("label",A._label).replace("ref",F._label).getRegex();A.nolink=ee(A.nolink).replace("ref",F._label).getRegex();A.reflinkSearch=ee(A.reflinkSearch,"g").replace("reflink",A.reflink).replace("nolink",A.nolink).getRegex();A.normal={...A};A.pedantic={...A.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",A._label).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",A._label).getRegex()};A.gfm={...A.normal,escape:ee(A.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};A.gfm.url=ee(A.gfm.url,"i").replace("email",A.gfm._extended_email).getRegex();A.breaks={...A.gfm,br:ee(A.br).replace("{2,}","*").getRegex(),text:ee(A.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function mi(a){return a.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Vs(a){let e="";for(let s=0;s<a.length;s++){const t=Math.random()>.5?"x"+a.charCodeAt(s).toString(16):a.charCodeAt(s).toString();e+="&#"+t+";"}return e}class ze{constructor(e){Q(this,"tokens");Q(this,"options");Q(this,"state");Q(this,"tokenizer");Q(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||st,this.options.tokenizer=this.options.tokenizer||new $t,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const s={block:F.normal,inline:A.normal};this.options.pedantic?(s.block=F.pedantic,s.inline=A.pedantic):this.options.gfm&&(s.block=F.gfm,this.options.breaks?s.inline=A.breaks:s.inline=A.gfm),this.tokenizer.rules=s}static get rules(){return{block:F,inline:A}}static lex(e,s){return new ze(s).lex(e)}static lexInline(e,s){return new ze(s).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let s;for(;s=this.inlineQueue.shift();)this.inlineTokens(s.src,s.tokens);return this.tokens}blockTokens(e,s=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(p,c,h)=>c+"    ".repeat(h.length));let t,i,l,r;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>(t=p.call({lexer:this},e,s))?(e=e.substring(t.raw.length),s.push(t),!0):!1))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),t.raw.length===1&&s.length>0?s[s.length-1].raw+=`
`:s.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),i=s[s.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):s.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),i=s[s.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+t.raw,i.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),s.push(t);continue}if(l=e,this.options.extensions&&this.options.extensions.startBlock){let p=1/0;const c=e.slice(1);let h;this.options.extensions.startBlock.forEach(b=>{h=b.call({lexer:this},c),typeof h=="number"&&h>=0&&(p=Math.min(p,h))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(this.state.top&&(t=this.tokenizer.paragraph(l))){i=s[s.length-1],r&&i.type==="paragraph"?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):s.push(t),r=l.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),i=s[s.length-1],i&&i.type==="text"?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):s.push(t);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,s}inline(e,s=[]){return this.inlineQueue.push({src:e,tokens:s}),s}inlineTokens(e,s=[]){let t,i,l,r=e,p,c,h;if(this.tokens.links){const b=Object.keys(this.tokens.links);if(b.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)b.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(p=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,p.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(h=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(b=>(t=b.call({lexer:this},e,s))?(e=e.substring(t.raw.length),s.push(t),!0):!1))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),i=s[s.length-1],i&&t.type==="text"&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):s.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),i=s[s.length-1],i&&t.type==="text"&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):s.push(t);continue}if(t=this.tokenizer.emStrong(e,r,h)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.autolink(e,Vs)){e=e.substring(t.raw.length),s.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,Vs))){e=e.substring(t.raw.length),s.push(t);continue}if(l=e,this.options.extensions&&this.options.extensions.startInline){let b=1/0;const k=e.slice(1);let _;this.options.extensions.startInline.forEach(v=>{_=v.call({lexer:this},k),typeof _=="number"&&_>=0&&(b=Math.min(b,_))}),b<1/0&&b>=0&&(l=e.substring(0,b+1))}if(t=this.tokenizer.inlineText(l,mi)){e=e.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(h=t.raw.slice(-1)),c=!0,i=s[s.length-1],i&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):s.push(t);continue}if(e){const b="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(b);break}else throw new Error(b)}}return s}}class zt{constructor(e){Q(this,"options");this.options=e||st}code(e,s,t){var l;const i=(l=(s||"").match(/^\S*/))==null?void 0:l[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(t=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+ge(i)+'">'+(t?e:ge(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:ge(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,s){return e}heading(e,s,t,i){if(this.options.headerIds){const l=this.options.headerPrefix+i.slug(t);return`<h${s} id="${l}">${e}</h${s}>
`}return`<h${s}>${e}</h${s}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,s,t){const i=s?"ol":"ul",l=s&&t!==1?' start="'+t+'"':"";return"<"+i+l+`>
`+e+"</"+i+`>
`}listitem(e,s,t){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,s){return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,s){const t=s.header?"th":"td";return(s.align?`<${t} align="${s.align}">`:`<${t}>`)+e+`</${t}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,s,t){const i=Fs(this.options.sanitize,this.options.baseUrl,e);if(i===null)return t;e=i;let l='<a href="'+e+'"';return s&&(l+=' title="'+s+'"'),l+=">"+t+"</a>",l}image(e,s,t){const i=Fs(this.options.sanitize,this.options.baseUrl,e);if(i===null)return t;e=i;let l=`<img src="${e}" alt="${t}"`;return s&&(l+=` title="${s}"`),l+=this.options.xhtml?"/>":">",l}text(e){return e}}class gs{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,s,t){return""+t}image(e,s,t){return""+t}br(){return""}}class bs{constructor(){Q(this,"seen");this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,s){let t=e,i=0;if(this.seen.hasOwnProperty(t)){i=this.seen[e];do i++,t=e+"-"+i;while(this.seen.hasOwnProperty(t))}return s||(this.seen[e]=i,this.seen[t]=0),t}slug(e,s={}){const t=this.serialize(e);return this.getNextSafeSlug(t,s.dryrun)}}class Ve{constructor(e){Q(this,"options");Q(this,"renderer");Q(this,"textRenderer");Q(this,"slugger");this.options=e||st,this.options.renderer=this.options.renderer||new zt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gs,this.slugger=new bs}static parse(e,s){return new Ve(s).parse(e)}static parseInline(e,s){return new Ve(s).parseInline(e)}parse(e,s=!0){let t="";for(let i=0;i<e.length;i++){const l=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const r=l,p=this.options.extensions.renderers[r.type].call({parser:this},r);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(r.type)){t+=p||"";continue}}switch(l.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{const r=l;t+=this.renderer.heading(this.parseInline(r.tokens),r.depth,Tn(this.parseInline(r.tokens,this.textRenderer)),this.slugger);continue}case"code":{const r=l;t+=this.renderer.code(r.text,r.lang,!!r.escaped);continue}case"table":{const r=l;let p="",c="";for(let b=0;b<r.header.length;b++)c+=this.renderer.tablecell(this.parseInline(r.header[b].tokens),{header:!0,align:r.align[b]});p+=this.renderer.tablerow(c);let h="";for(let b=0;b<r.rows.length;b++){const k=r.rows[b];c="";for(let _=0;_<k.length;_++)c+=this.renderer.tablecell(this.parseInline(k[_].tokens),{header:!1,align:r.align[_]});h+=this.renderer.tablerow(c)}t+=this.renderer.table(p,h);continue}case"blockquote":{const r=l,p=this.parse(r.tokens);t+=this.renderer.blockquote(p);continue}case"list":{const r=l,p=r.ordered,c=r.start,h=r.loose;let b="";for(let k=0;k<r.items.length;k++){const _=r.items[k],v=_.checked,w=_.task;let L="";if(_.task){const n=this.renderer.checkbox(!!v);h?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=n+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=n+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:n}):L+=n}L+=this.parse(_.tokens,h),b+=this.renderer.listitem(L,w,!!v)}t+=this.renderer.list(b,p,c);continue}case"html":{const r=l;t+=this.renderer.html(r.text,r.block);continue}case"paragraph":{const r=l;t+=this.renderer.paragraph(this.parseInline(r.tokens));continue}case"text":{let r=l,p=r.tokens?this.parseInline(r.tokens):r.text;for(;i+1<e.length&&e[i+1].type==="text";)r=e[++i],p+=`
`+(r.tokens?this.parseInline(r.tokens):r.text);t+=s?this.renderer.paragraph(p):p;continue}default:{const r='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return t}parseInline(e,s){s=s||this.renderer;let t="";for(let i=0;i<e.length;i++){const l=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const r=this.options.extensions.renderers[l.type].call({parser:this},l);if(r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){t+=r||"";continue}}switch(l.type){case"escape":{const r=l;t+=s.text(r.text);break}case"html":{const r=l;t+=s.html(r.text);break}case"link":{const r=l;t+=s.link(r.href,r.title,this.parseInline(r.tokens,s));break}case"image":{const r=l;t+=s.image(r.href,r.title,r.text);break}case"strong":{const r=l;t+=s.strong(this.parseInline(r.tokens,s));break}case"em":{const r=l;t+=s.em(this.parseInline(r.tokens,s));break}case"codespan":{const r=l;t+=s.codespan(r.text);break}case"br":{t+=s.br();break}case"del":{const r=l;t+=s.del(this.parseInline(r.tokens,s));break}case"text":{const r=l;t+=s.text(r.text);break}default:{const r='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return t}}class wt{constructor(e){Q(this,"options");this.options=e||st}preprocess(e){return e}postprocess(e){return e}}Q(wt,"passThroughHooks",new Set(["preprocess","postprocess"]));var tt,ss,On;class gi{constructor(...e){Ms(this,tt);Q(this,"defaults",ms());Q(this,"options",this.setOptions);Q(this,"parse",xt(this,tt,ss).call(this,ze.lex,Ve.parse));Q(this,"parseInline",xt(this,tt,ss).call(this,ze.lexInline,Ve.parseInline));Q(this,"Parser",Ve);Q(this,"parser",Ve.parse);Q(this,"Renderer",zt);Q(this,"TextRenderer",gs);Q(this,"Lexer",ze);Q(this,"lexer",ze.lex);Q(this,"Tokenizer",$t);Q(this,"Slugger",bs);Q(this,"Hooks",wt);this.use(...e)}walkTokens(e,s){var i,l;let t=[];for(const r of e)switch(t=t.concat(s.call(this,r)),r.type){case"table":{const p=r;for(const c of p.header)t=t.concat(this.walkTokens(c.tokens,s));for(const c of p.rows)for(const h of c)t=t.concat(this.walkTokens(h.tokens,s));break}case"list":{const p=r;t=t.concat(this.walkTokens(p.items,s));break}default:{const p=r;(l=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&l[p.type]?this.defaults.extensions.childTokens[p.type].forEach(c=>{t=t.concat(this.walkTokens(p[c],s))}):p.tokens&&(t=t.concat(this.walkTokens(p.tokens,s)))}}return t}use(...e){const s=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{const i={...t};if(i.async=this.defaults.async||i.async||!1,t.extensions&&(t.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const r=s.renderers[l.name];r?s.renderers[l.name]=function(...p){let c=l.renderer.apply(this,p);return c===!1&&(c=r.apply(this,p)),c}:s.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=s[l.level];r?r.unshift(l.tokenizer):s[l.level]=[l.tokenizer],l.start&&(l.level==="block"?s.startBlock?s.startBlock.push(l.start):s.startBlock=[l.start]:l.level==="inline"&&(s.startInline?s.startInline.push(l.start):s.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(s.childTokens[l.name]=l.childTokens)}),i.extensions=s),t.renderer){const l=this.defaults.renderer||new zt(this.defaults);for(const r in t.renderer){const p=t.renderer[r],c=r,h=l[c];l[c]=(...b)=>{let k=p.apply(l,b);return k===!1&&(k=h.apply(l,b)),k||""}}i.renderer=l}if(t.tokenizer){const l=this.defaults.tokenizer||new $t(this.defaults);for(const r in t.tokenizer){const p=t.tokenizer[r],c=r,h=l[c];l[c]=(...b)=>{let k=p.apply(l,b);return k===!1&&(k=h.apply(l,b)),k}}i.tokenizer=l}if(t.hooks){const l=this.defaults.hooks||new wt;for(const r in t.hooks){const p=t.hooks[r],c=r,h=l[c];wt.passThroughHooks.has(r)?l[c]=b=>{if(this.defaults.async)return Promise.resolve(p.call(l,b)).then(_=>h.call(l,_));const k=p.call(l,b);return h.call(l,k)}:l[c]=(...b)=>{let k=p.apply(l,b);return k===!1&&(k=h.apply(l,b)),k}}i.hooks=l}if(t.walkTokens){const l=this.defaults.walkTokens,r=t.walkTokens;i.walkTokens=function(p){let c=[];return c.push(r.call(this,p)),l&&(c=c.concat(l.call(this,p))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}tt=new WeakSet,ss=function(e,s){return(t,i,l)=>{typeof i=="function"&&(l=i,i=null);const r={...i},p={...this.defaults,...r};this.defaults.async===!0&&r.async===!1&&(p.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),p.async=!0);const c=xt(this,tt,On).call(this,!!p.silent,!!p.async,l);if(typeof t>"u"||t===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(di(p,l),p.hooks&&(p.hooks.options=p),l){const h=l,b=p.highlight;let k;try{p.hooks&&(t=p.hooks.preprocess(t)),k=e(t,p)}catch(w){return c(w)}const _=w=>{let L;if(!w)try{p.walkTokens&&this.walkTokens(k,p.walkTokens),L=s(k,p),p.hooks&&(L=p.hooks.postprocess(L))}catch(n){w=n}return p.highlight=b,w?c(w):h(null,L)};if(!b||b.length<3||(delete p.highlight,!k.length))return _();let v=0;this.walkTokens(k,w=>{w.type==="code"&&(v++,setTimeout(()=>{b(w.text,w.lang,(L,n)=>{if(L)return _(L);n!=null&&n!==w.text&&(w.text=n,w.escaped=!0),v--,v===0&&_()})},0))}),v===0&&_();return}if(p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(t):t).then(h=>e(h,p)).then(h=>p.walkTokens?Promise.all(this.walkTokens(h,p.walkTokens)).then(()=>h):h).then(h=>s(h,p)).then(h=>p.hooks?p.hooks.postprocess(h):h).catch(c);try{p.hooks&&(t=p.hooks.preprocess(t));const h=e(t,p);p.walkTokens&&this.walkTokens(h,p.walkTokens);let b=s(h,p);return p.hooks&&(b=p.hooks.postprocess(b)),b}catch(h){return c(h)}}},On=function(e,s,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+ge(i.message+"",!0)+"</pre>";if(s)return Promise.resolve(l);if(t){t(null,l);return}return l}if(s)return Promise.reject(i);if(t){t(i);return}throw i}};const et=new gi;function K(a,e,s){return et.parse(a,e,s)}K.options=K.setOptions=function(a){return et.setOptions(a),K.defaults=et.defaults,_n(K.defaults),K};K.getDefaults=ms;K.defaults=st;K.use=function(...a){return et.use(...a),K.defaults=et.defaults,_n(K.defaults),K};K.walkTokens=function(a,e){return et.walkTokens(a,e)};K.parseInline=et.parseInline;K.Parser=Ve;K.parser=Ve.parse;K.Renderer=zt;K.TextRenderer=gs;K.Lexer=ze;K.lexer=ze.lex;K.Tokenizer=$t;K.Slugger=bs;K.Hooks=wt;K.parse=K;K.options;K.setOptions;K.use;K.walkTokens;K.parseInline;Ve.parse;ze.lex;/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:xn,setPrototypeOf:Us,isFrozen:bi,getPrototypeOf:ki,getOwnPropertyDescriptor:wi}=Object;let{freeze:ve,seal:Ce,create:Sn}=Object,{apply:ns,construct:is}=typeof Reflect<"u"&&Reflect;ve||(ve=function(e){return e});Ce||(Ce=function(e){return e});ns||(ns=function(e,s,t){return e.apply(s,t)});is||(is=function(e,s){return new e(...s)});const At=Ae(Array.prototype.forEach),Bs=Ae(Array.prototype.pop),ft=Ae(Array.prototype.push),Pt=Ae(String.prototype.toLowerCase),Zt=Ae(String.prototype.toString),js=Ae(String.prototype.match),mt=Ae(String.prototype.replace),yi=Ae(String.prototype.indexOf),_i=Ae(String.prototype.trim),Ie=Ae(Object.prototype.hasOwnProperty),_e=Ae(RegExp.prototype.test),gt=vi(TypeError);function Ae(a){return function(e){for(var s=arguments.length,t=new Array(s>1?s-1:0),i=1;i<s;i++)t[i-1]=arguments[i];return ns(a,e,t)}}function vi(a){return function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return is(a,s)}}function Z(a,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt;Us&&Us(a,null);let t=e.length;for(;t--;){let i=e[t];if(typeof i=="string"){const l=s(i);l!==i&&(bi(e)||(e[t]=l),i=l)}a[i]=!0}return a}function Ei(a){for(let e=0;e<a.length;e++)Ie(a,e)||(a[e]=null);return a}function Je(a){const e=Sn(null);for(const[s,t]of xn(a))Ie(a,s)&&(Array.isArray(t)?e[s]=Ei(t):t&&typeof t=="object"&&t.constructor===Object?e[s]=Je(t):e[s]=t);return e}function bt(a,e){for(;a!==null;){const t=wi(a,e);if(t){if(t.get)return Ae(t.get);if(typeof t.value=="function")return Ae(t.value)}a=ki(a)}function s(){return null}return s}const Gs=ve(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),qt=ve(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xt=ve(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ti=ve(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wt=ve(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Oi=ve(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zs=ve(["#text"]),qs=ve(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Yt=ve(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xs=ve(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lt=ve(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xi=Ce(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Si=Ce(/<%[\w\W]*|[\w\W]*%>/gm),Ri=Ce(/\$\{[\w\W]*}/gm),Ai=Ce(/^data-[\-\w.\u00B7-\uFFFF]+$/),Li=Ce(/^aria-[\-\w]+$/),Rn=Ce(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ci=Ce(/^(?:\w+script|data):/i),Ii=Ce(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),An=Ce(/^html$/i),Di=Ce(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ws=Object.freeze({__proto__:null,ARIA_ATTR:Li,ATTR_WHITESPACE:Ii,CUSTOM_ELEMENT:Di,DATA_ATTR:Ai,DOCTYPE_NAME:An,ERB_EXPR:Si,IS_ALLOWED_URI:Rn,IS_SCRIPT_OR_DATA:Ci,MUSTACHE_EXPR:xi,TMPLIT_EXPR:Ri});const kt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Mi=function(){return typeof window>"u"?null:window},Ni=function(e,s){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let t=null;const i="data-tt-policy-suffix";s&&s.hasAttribute(i)&&(t=s.getAttribute(i));const l="dompurify"+(t?"#"+t:"");try{return e.createPolicy(l,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},Ys=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ln(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mi();const e=$=>Ln($);if(e.version="3.2.3",e.removed=[],!a||!a.document||a.document.nodeType!==kt.document)return e.isSupported=!1,e;let{document:s}=a;const t=s,i=t.currentScript,{DocumentFragment:l,HTMLTemplateElement:r,Node:p,Element:c,NodeFilter:h,NamedNodeMap:b=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:k,DOMParser:_,trustedTypes:v}=a,w=c.prototype,L=bt(w,"cloneNode"),n=bt(w,"remove"),o=bt(w,"nextSibling"),u=bt(w,"childNodes"),d=bt(w,"parentNode");if(typeof r=="function"){const $=s.createElement("template");$.content&&$.content.ownerDocument&&(s=$.content.ownerDocument)}let m,g="";const{implementation:y,createNodeIterator:R,createDocumentFragment:C,getElementsByTagName:N}=s,{importNode:V}=t;let T=Ys();e.isSupported=typeof xn=="function"&&typeof d=="function"&&y&&y.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:B,TMPLIT_EXPR:q,DATA_ATTR:J,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:Se,ATTR_WHITESPACE:Re,CUSTOM_ELEMENT:O}=Ws;let{IS_ALLOWED_URI:j}=Ws,U=null;const Ue=Z({},[...Gs,...qt,...Xt,...Wt,...Zs]);let ie=null;const Me=Z({},[...qs,...Yt,...Xs,...Lt]);let ae=Object.seal(Sn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Be=null,je=null,Ye=!0,be=!0,nt=!1,de=!0,Ne=!1,he=!0,ke=!1,se=!1,ut=!1,z=!1,te=!1,ne=!1,Le=!0,we=!1;const yt="user-content-";let fe=!0,Xe=!1,Ge={},Ee=null;const it=Z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ks=null;const ws=Z({},["audio","video","img","source","image","track"]);let Vt=null;const ys=Z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_t="http://www.w3.org/1998/Math/MathML",vt="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml";let at=Ze,Ut=!1,Bt=null;const $n=Z({},[_t,vt,Ze],Zt);let Et=Z({},["mi","mo","mn","ms","mtext"]),Tt=Z({},["annotation-xml"]);const zn=Z({},["title","style","font","a","script"]);let pt=null;const Vn=["application/xhtml+xml","text/html"],Un="text/html";let re=null,lt=null;const Bn=s.createElement("form"),_s=function(f){return f instanceof RegExp||f instanceof Function},jt=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(lt&&lt===f)){if((!f||typeof f!="object")&&(f={}),f=Je(f),pt=Vn.indexOf(f.PARSER_MEDIA_TYPE)===-1?Un:f.PARSER_MEDIA_TYPE,re=pt==="application/xhtml+xml"?Zt:Pt,U=Ie(f,"ALLOWED_TAGS")?Z({},f.ALLOWED_TAGS,re):Ue,ie=Ie(f,"ALLOWED_ATTR")?Z({},f.ALLOWED_ATTR,re):Me,Bt=Ie(f,"ALLOWED_NAMESPACES")?Z({},f.ALLOWED_NAMESPACES,Zt):$n,Vt=Ie(f,"ADD_URI_SAFE_ATTR")?Z(Je(ys),f.ADD_URI_SAFE_ATTR,re):ys,ks=Ie(f,"ADD_DATA_URI_TAGS")?Z(Je(ws),f.ADD_DATA_URI_TAGS,re):ws,Ee=Ie(f,"FORBID_CONTENTS")?Z({},f.FORBID_CONTENTS,re):it,Be=Ie(f,"FORBID_TAGS")?Z({},f.FORBID_TAGS,re):{},je=Ie(f,"FORBID_ATTR")?Z({},f.FORBID_ATTR,re):{},Ge=Ie(f,"USE_PROFILES")?f.USE_PROFILES:!1,Ye=f.ALLOW_ARIA_ATTR!==!1,be=f.ALLOW_DATA_ATTR!==!1,nt=f.ALLOW_UNKNOWN_PROTOCOLS||!1,de=f.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ne=f.SAFE_FOR_TEMPLATES||!1,he=f.SAFE_FOR_XML!==!1,ke=f.WHOLE_DOCUMENT||!1,z=f.RETURN_DOM||!1,te=f.RETURN_DOM_FRAGMENT||!1,ne=f.RETURN_TRUSTED_TYPE||!1,ut=f.FORCE_BODY||!1,Le=f.SANITIZE_DOM!==!1,we=f.SANITIZE_NAMED_PROPS||!1,fe=f.KEEP_CONTENT!==!1,Xe=f.IN_PLACE||!1,j=f.ALLOWED_URI_REGEXP||Rn,at=f.NAMESPACE||Ze,Et=f.MATHML_TEXT_INTEGRATION_POINTS||Et,Tt=f.HTML_INTEGRATION_POINTS||Tt,ae=f.CUSTOM_ELEMENT_HANDLING||{},f.CUSTOM_ELEMENT_HANDLING&&_s(f.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=f.CUSTOM_ELEMENT_HANDLING.tagNameCheck),f.CUSTOM_ELEMENT_HANDLING&&_s(f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),f.CUSTOM_ELEMENT_HANDLING&&typeof f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ne&&(be=!1),te&&(z=!0),Ge&&(U=Z({},Zs),ie=[],Ge.html===!0&&(Z(U,Gs),Z(ie,qs)),Ge.svg===!0&&(Z(U,qt),Z(ie,Yt),Z(ie,Lt)),Ge.svgFilters===!0&&(Z(U,Xt),Z(ie,Yt),Z(ie,Lt)),Ge.mathMl===!0&&(Z(U,Wt),Z(ie,Xs),Z(ie,Lt))),f.ADD_TAGS&&(U===Ue&&(U=Je(U)),Z(U,f.ADD_TAGS,re)),f.ADD_ATTR&&(ie===Me&&(ie=Je(ie)),Z(ie,f.ADD_ATTR,re)),f.ADD_URI_SAFE_ATTR&&Z(Vt,f.ADD_URI_SAFE_ATTR,re),f.FORBID_CONTENTS&&(Ee===it&&(Ee=Je(Ee)),Z(Ee,f.FORBID_CONTENTS,re)),fe&&(U["#text"]=!0),ke&&Z(U,["html","head","body"]),U.table&&(Z(U,["tbody"]),delete Be.tbody),f.TRUSTED_TYPES_POLICY){if(typeof f.TRUSTED_TYPES_POLICY.createHTML!="function")throw gt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof f.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');m=f.TRUSTED_TYPES_POLICY,g=m.createHTML("")}else m===void 0&&(m=Ni(v,i)),m!==null&&typeof g=="string"&&(g=m.createHTML(""));ve&&ve(f),lt=f}},vs=Z({},[...qt,...Xt,...Ti]),Es=Z({},[...Wt,...Oi]),jn=function(f){let E=d(f);(!E||!E.tagName)&&(E={namespaceURI:at,tagName:"template"});const I=Pt(f.tagName),le=Pt(E.tagName);return Bt[f.namespaceURI]?f.namespaceURI===vt?E.namespaceURI===Ze?I==="svg":E.namespaceURI===_t?I==="svg"&&(le==="annotation-xml"||Et[le]):!!vs[I]:f.namespaceURI===_t?E.namespaceURI===Ze?I==="math":E.namespaceURI===vt?I==="math"&&Tt[le]:!!Es[I]:f.namespaceURI===Ze?E.namespaceURI===vt&&!Tt[le]||E.namespaceURI===_t&&!Et[le]?!1:!Es[I]&&(zn[I]||!vs[I]):!!(pt==="application/xhtml+xml"&&Bt[f.namespaceURI]):!1},Pe=function(f){ft(e.removed,{element:f});try{d(f).removeChild(f)}catch{n(f)}},Ot=function(f,E){try{ft(e.removed,{attribute:E.getAttributeNode(f),from:E})}catch{ft(e.removed,{attribute:null,from:E})}if(E.removeAttribute(f),f==="is")if(z||te)try{Pe(E)}catch{}else try{E.setAttribute(f,"")}catch{}},Ts=function(f){let E=null,I=null;if(ut)f="<remove></remove>"+f;else{const ue=js(f,/^[\r\n\t ]+/);I=ue&&ue[0]}pt==="application/xhtml+xml"&&at===Ze&&(f='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+f+"</body></html>");const le=m?m.createHTML(f):f;if(at===Ze)try{E=new _().parseFromString(le,pt)}catch{}if(!E||!E.documentElement){E=y.createDocument(at,"template",null);try{E.documentElement.innerHTML=Ut?g:le}catch{}}const me=E.body||E.documentElement;return f&&I&&me.insertBefore(s.createTextNode(I),me.childNodes[0]||null),at===Ze?N.call(E,ke?"html":"body")[0]:ke?E.documentElement:me},Os=function(f){return R.call(f.ownerDocument||f,f,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Gt=function(f){return f instanceof k&&(typeof f.nodeName!="string"||typeof f.textContent!="string"||typeof f.removeChild!="function"||!(f.attributes instanceof b)||typeof f.removeAttribute!="function"||typeof f.setAttribute!="function"||typeof f.namespaceURI!="string"||typeof f.insertBefore!="function"||typeof f.hasChildNodes!="function")},xs=function(f){return typeof p=="function"&&f instanceof p};function qe($,f,E){At($,I=>{I.call(e,f,E,lt)})}const Ss=function(f){let E=null;if(qe(T.beforeSanitizeElements,f,null),Gt(f))return Pe(f),!0;const I=re(f.nodeName);if(qe(T.uponSanitizeElement,f,{tagName:I,allowedTags:U}),f.hasChildNodes()&&!xs(f.firstElementChild)&&_e(/<[/\w]/g,f.innerHTML)&&_e(/<[/\w]/g,f.textContent)||f.nodeType===kt.progressingInstruction||he&&f.nodeType===kt.comment&&_e(/<[/\w]/g,f.data))return Pe(f),!0;if(!U[I]||Be[I]){if(!Be[I]&&As(I)&&(ae.tagNameCheck instanceof RegExp&&_e(ae.tagNameCheck,I)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(I)))return!1;if(fe&&!Ee[I]){const le=d(f)||f.parentNode,me=u(f)||f.childNodes;if(me&&le){const ue=me.length;for(let Te=ue-1;Te>=0;--Te){const He=L(me[Te],!0);He.__removalCount=(f.__removalCount||0)+1,le.insertBefore(He,o(f))}}}return Pe(f),!0}return f instanceof c&&!jn(f)||(I==="noscript"||I==="noembed"||I==="noframes")&&_e(/<\/no(script|embed|frames)/i,f.innerHTML)?(Pe(f),!0):(Ne&&f.nodeType===kt.text&&(E=f.textContent,At([P,B,q],le=>{E=mt(E,le," ")}),f.textContent!==E&&(ft(e.removed,{element:f.cloneNode()}),f.textContent=E)),qe(T.afterSanitizeElements,f,null),!1)},Rs=function(f,E,I){if(Le&&(E==="id"||E==="name")&&(I in s||I in Bn))return!1;if(!(be&&!je[E]&&_e(J,E))){if(!(Ye&&_e(pe,E))){if(!ie[E]||je[E]){if(!(As(f)&&(ae.tagNameCheck instanceof RegExp&&_e(ae.tagNameCheck,f)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(f))&&(ae.attributeNameCheck instanceof RegExp&&_e(ae.attributeNameCheck,E)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(E))||E==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&_e(ae.tagNameCheck,I)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(I))))return!1}else if(!Vt[E]){if(!_e(j,mt(I,Re,""))){if(!((E==="src"||E==="xlink:href"||E==="href")&&f!=="script"&&yi(I,"data:")===0&&ks[f])){if(!(nt&&!_e(Se,mt(I,Re,"")))){if(I)return!1}}}}}}return!0},As=function(f){return f!=="annotation-xml"&&js(f,O)},Ls=function(f){qe(T.beforeSanitizeAttributes,f,null);const{attributes:E}=f;if(!E||Gt(f))return;const I={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0};let le=E.length;for(;le--;){const me=E[le],{name:ue,namespaceURI:Te,value:He}=me,dt=re(ue);let ye=ue==="value"?He:_i(He);if(I.attrName=dt,I.attrValue=ye,I.keepAttr=!0,I.forceKeepAttr=void 0,qe(T.uponSanitizeAttribute,f,I),ye=I.attrValue,we&&(dt==="id"||dt==="name")&&(Ot(ue,f),ye=yt+ye),he&&_e(/((--!?|])>)|<\/(style|title)/i,ye)){Ot(ue,f);continue}if(I.forceKeepAttr||(Ot(ue,f),!I.keepAttr))continue;if(!de&&_e(/\/>/i,ye)){Ot(ue,f);continue}Ne&&At([P,B,q],Is=>{ye=mt(ye,Is," ")});const Cs=re(f.nodeName);if(Rs(Cs,dt,ye)){if(m&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Te)switch(v.getAttributeType(Cs,dt)){case"TrustedHTML":{ye=m.createHTML(ye);break}case"TrustedScriptURL":{ye=m.createScriptURL(ye);break}}try{Te?f.setAttributeNS(Te,ue,ye):f.setAttribute(ue,ye),Gt(f)?Pe(f):Bs(e.removed)}catch{}}}qe(T.afterSanitizeAttributes,f,null)},Gn=function $(f){let E=null;const I=Os(f);for(qe(T.beforeSanitizeShadowDOM,f,null);E=I.nextNode();)qe(T.uponSanitizeShadowNode,E,null),Ss(E),Ls(E),E.content instanceof l&&$(E.content);qe(T.afterSanitizeShadowDOM,f,null)};return e.sanitize=function($){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=null,I=null,le=null,me=null;if(Ut=!$,Ut&&($="<!-->"),typeof $!="string"&&!xs($))if(typeof $.toString=="function"){if($=$.toString(),typeof $!="string")throw gt("dirty is not a string, aborting")}else throw gt("toString is not a function");if(!e.isSupported)return $;if(se||jt(f),e.removed=[],typeof $=="string"&&(Xe=!1),Xe){if($.nodeName){const He=re($.nodeName);if(!U[He]||Be[He])throw gt("root node is forbidden and cannot be sanitized in-place")}}else if($ instanceof p)E=Ts("<!---->"),I=E.ownerDocument.importNode($,!0),I.nodeType===kt.element&&I.nodeName==="BODY"||I.nodeName==="HTML"?E=I:E.appendChild(I);else{if(!z&&!Ne&&!ke&&$.indexOf("<")===-1)return m&&ne?m.createHTML($):$;if(E=Ts($),!E)return z?null:ne?g:""}E&&ut&&Pe(E.firstChild);const ue=Os(Xe?$:E);for(;le=ue.nextNode();)Ss(le),Ls(le),le.content instanceof l&&Gn(le.content);if(Xe)return $;if(z){if(te)for(me=C.call(E.ownerDocument);E.firstChild;)me.appendChild(E.firstChild);else me=E;return(ie.shadowroot||ie.shadowrootmode)&&(me=V.call(t,me,!0)),me}let Te=ke?E.outerHTML:E.innerHTML;return ke&&U["!doctype"]&&E.ownerDocument&&E.ownerDocument.doctype&&E.ownerDocument.doctype.name&&_e(An,E.ownerDocument.doctype.name)&&(Te="<!DOCTYPE "+E.ownerDocument.doctype.name+`>
`+Te),Ne&&At([P,B,q],He=>{Te=mt(Te,He," ")}),m&&ne?m.createHTML(Te):Te},e.setConfig=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jt($),se=!0},e.clearConfig=function(){lt=null,se=!1},e.isValidAttribute=function($,f,E){lt||jt({});const I=re($),le=re(f);return Rs(I,le,E)},e.addHook=function($,f){typeof f=="function"&&ft(T[$],f)},e.removeHook=function($){return Bs(T[$])},e.removeHooks=function($){T[$]=[]},e.removeAllHooks=function(){T=Ys()},e}var Pi=Ln();const Hi=[{pkg_name:"fractal_tasks_core",version:"1.4.2",task_list:[{version:"1.4.2",name:"Convert Cellvoyager to OME-Zarr",category:"Conversion",modality:"HCS",tags:["Yokogawa","Cellvoyager","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Converts **2D and 3D images from CellVoyager CV7000/8000** systems into OME-Zarr format, creating OME-Zarr HCS plates and combining all fields of view in a well into a single image.
- Saves Fractal **region-of-interest (ROI) tables** for both individual fields of view and the entire well.
- Handles overlapping fields of view by adjusting their positions to be non-overlapping while retaining the original position data as additional columns in the ROI tables.
- Supports processing multiple plates in a single task.

### Limitations
- Currently, this task does not support time-resolved data and ignores the time fields in CellVoyager metadata.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Convert Cellvoyager Multiplexing to OME-Zarr",category:"Conversion",modality:"HCS",tags:["Yokogawa","Cellvoyager","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Converts **multiplexed 2D and 3D images from CellVoyager CV7000/8000** systems into OME-Zarr format, storing each acquisition as a separate OME-Zarr image in the same OME-Zarr plate.
- Creates **OME-Zarr HCS plates**, combining all fields of view for each acquisition in a well into a single image.
- Saves Fractal **region-of-interest (ROI) tables** for both individual fields of view and the entire well.
- Handles overlapping fields of view by adjusting their positions to be non-overlapping, while preserving the original position data as additional columns in the ROI tables.

### Limitations
- This task currently does not support time-resolved data and ignores the time fields in CellVoyager metadata.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Project Image (HCS Plate)",category:"Image Processing",modality:"HCS",tags:["Preprocessing","3D"],input_types:{is_3D:!0},output_types:{is_3D:!1},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Performs **Z-axis projection of intensity images** using a specified projection method.
- **Generates a new OME-Zarr HCS plate** to store the projected data.

### Limitations
- Supports projections only for OME-Zarr HCS plates; other collections of OME-Zarrs are not yet supported.
- Currently limited to data in the CZYX format.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Illumination Correction",category:"Image Processing",modality:null,tags:["Preprocessing","2D","3D"],input_types:{illumination_corrected:!1},output_types:{illumination_corrected:!0},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- **Corrects illumination** in OME-Zarr images using **pre-calculated flatfield profiles**.
- Optionally performs **background subtraction**.

### Limitations
- Requires pre-calculated flatfield profiles in TIFF format.
- Supports only fixed-value background subtraction; background subtraction profiles are not supported.
`,type:"parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Cellpose Segmentation",category:"Segmentation",modality:null,tags:["Deep Learning","Convolutional Neural Network","Instance Segmentation","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- **Segments images using Cellpose models**.
- Supports both **built-in Cellpose models** (shipped with Cellpose) and **user-trained models**.
- Accepts dual image input for segmentation.
- Can process **arbitrary regions of interest (ROIs)**, including whole images, fields of view (FOVs), or masked outputs from prior segmentations, based on corresponding ROI tables.
- Provides access to all advanced Cellpose parameters.
- Allows custom rescaling options per channel, particularly useful for sparse images.

### Limitations
- Compatible only with Cellpose 2.x models; does not yet support 3.x models.
`,type:"parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Calculate Registration (image-based)",category:"Registration",modality:"HCS",tags:["Multiplexing","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- **Computes image-based registration** transformations for acquisitions in **HCS** OME-Zarr datasets.
- Processes images grouped by well, under the assumption that each well contains one image per acquisition.
- Calculates transformations for **specified regions of interest (ROIs)** and stores the results in the corresponding ROI table.
- Typically used as the first task in a workflow, followed by \`Find Registration Consensus\` and optionally \`Apply Registration to Image\`.

### Limitations
- Supports only HCS OME-Zarr datasets, leveraging their acquisition metadata and well-based image grouping.
- Assumes each well contains a single image per acquisition.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Find Registration Consensus",category:"Registration",modality:"HCS",tags:["Multiplexing","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Determines the **consensus alignment** region across all selected acquisitions **within each well of an HCS OME-Zarr dataset**.
- Generates a new ROI table for each image, defining consensus regions that are aligned across all acquisitions.
- Typically used as the second task in a workflow, following \`Calculate Registration (image-based)\` and optionally preceding \`Apply Registration to Image\`.

### Limitations
- Supports only HCS OME-Zarr datasets, leveraging their acquisition metadata and well-based image grouping.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Apply Registration to Image",category:"Registration",modality:"HCS",tags:["Multiplexing","2D","3D"],input_types:{registered:!1},output_types:{registered:!0},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:"### Purpose\n- **Applies pre-calculated registration** transformations to images in an **HCS** OME-Zarr dataset, aligning all acquisitions to a specified reference acquisition.\n- **Masks regions not included** in the registered ROI table and aligns both intensity and label images.\n- Replaces the non-aligned image with the newly aligned image in the dataset if `overwrite input` is selected.\n- Typically used as the third task in a workflow, following `Calculate Registration (image-based)` and `Find Registration Consensus`.\n\n### Limitations\n- If `overwrite input` is selected, the non-aligned image is permanently deleted, which may impact workflows requiring access to the original images.\n",type:"parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Import OME-Zarr",category:null,modality:null,tags:["2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Imports a **single OME-Zarr dataset** into the Fractal framework for further processing.
- Supports importing either a **full OME-Zarr HCS plate** or an **individual OME-Zarr image**.
- Ensures the OME-Zarr dataset is located in the \`zarr_dir\` specified by the dataset.
- Generates the necessary **image list metadata** required for processing the OME-Zarr with Fractal.
- Optionally **adds new ROI tables** to the existing OME-Zarr, enabling compatibility with many other tasks.

### Limitations
- Supports only OME-Zarr datasets already present in the \`zarr_dir\` of the corresponding dataset.
- Assumes the input OME-Zarr is correctly structured and formatted for compatibility with the Fractal framework.
`,type:"non_parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'},{version:"1.4.2",name:"Napari Workflows Wrapper",category:"Measurement",modality:null,tags:["2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Executes a **napari workflow** on the regions of interest (ROIs) within a single OME-NGFF image.
- Processes specified images and labels as inputs to the workflow, producing outputs such as new labels and data tables.
- Offers **flexibility in defining input and output** specifications to customize the workflow for specific datasets and analysis needs.

### Limitations
- Currently supports only Napari workflows that utilize functions from the \`napari-segment-blobs-and-things-with-membranes\` module. Other Napari-compatible modules are not supported.

### Input Specifications
Napari workflows require explicit definitions of input and output data.
Example of valid \`input_specs\`:
\`\`\`json
{
    "in_1": {"type": "image", "channel": {"wavelength_id": "A01_C02"}},
    "in_2": {"type": "image", "channel": {"label": "DAPI"}},
    "in_3": {"type": "label", "label_name": "label_DAPI"}
}
\`\`\`

Example of valid \`output_specs\`:
\`\`\`json
{
    "out_1": {"type": "label", "label_name": "label_DAPI_new"},
    "out_2": {"type": "dataframe", "table_name": "measurements"},
}
\`\`\`
`,type:"parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.4.2` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.4.2"`\n'}]},{pkg_name:"fractal_faim_ipa",version:"0.4.6",task_list:[{version:"0.4.6",name:"FAIM IPA OME-Zarr Converter",category:"Conversion",modality:"HCS",tags:["Molecular Devices","Image Xpress","MD"],input_types:{},output_types:{},docs_link:"https://github.com/fractal-analytics-platform/fractal-faim-ipa",docs_info:`### Purpose
- Converts **2D and 3D images from MD Molecular Devices** systems into OME-Zarr format, creating OME-Zarr HCS plates and combining all fields of view in a well into a single image.
- Saves Fractal **region-of-interest (ROI) tables** for both individual fields of view and the entire well.
- Handles overlapping fields of view by either fusing images or saving them in grid tiles (depending on the \`tile_alignment\` option).

### Limitations
- The \`image_dir\` needs to be set to the the parent folder containing the following sub-folders: YYYY-MM-DD / Project_ID / Actual image files (potentially in ZStep folders). If it is run directly from the folder containing the images, it will fail.
`,type:"non_parallel",authors:null,install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `fractal-faim-ipa` and package version `0.4.6`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-faim-ipa==0.4.6"`\n```\n'}]},{pkg_name:"fractal_lif_converters",version:"0.3.4",task_list:[{version:"0.3.4",name:"Convert Lif Plate to OME-Zarr",category:"Conversion",modality:"HCS",tags:["Leica","Plate converter"],input_types:{},output_types:{},docs_link:"https://github.com/fractal-analytics-platform/fractal-lif-converters",docs_info:`## convert_lif_plate_init_task
Initialize the conversion of LIF files to an OME-Zarr - Plate.
## convert_lif_compute_task
Export a single scene or plate acquisition from a LIF file to OME-Zarr.
`,type:"compound",authors:"Lorenzo Cerrone",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `fractal-lif-converters` and package version `0.3.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-lif-converters==0.3.4"`\n```\n'},{version:"0.3.4",name:"Convert Lif Scene to OME-Zarr",category:"Conversion",modality:null,tags:["Leica","Single Image Converter"],input_types:{},output_types:{},docs_link:"https://github.com/fractal-analytics-platform/fractal-lif-converters",docs_info:`## convert_lif_scene_init_task
Initialize the conversion of LIF files to OME-Zarr - NgffImages.
## convert_lif_compute_task
Export a single scene or plate acquisition from a LIF file to OME-Zarr.
`,type:"compound",authors:"Lorenzo Cerrone",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `fractal-lif-converters` and package version `0.3.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-lif-converters==0.3.4"`\n```\n'}]},{pkg_name:"operetta_compose",version:"0.2.4",task_list:[{version:"0.2.4",name:"Harmony to OME-Zarr",category:"Conversion",modality:"HCS",tags:["Opera","Operetta","Perkin Elmer"],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:`## harmony_to_ome_zarr
Convert TIFFs which were exported from Harmony (Operetta/Opera, Perkin-Elmer) to OME-ZARR
`,type:"non_parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'},{version:"0.2.4",name:"Stardist segmentation",category:"Segmentation",modality:null,tags:[],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:`## stardist_segmentation
Segment cells with Stardist
`,type:"parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'},{version:"0.2.4",name:"Regionprops measurement",category:"Measurement",modality:null,tags:["regionprops","intensity","morphology"],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:`## regionprops_measurement
Take measurements using regionprobs and write the features to the OME-ZARR
`,type:"parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'},{version:"0.2.4",name:"Feature classification",category:null,modality:null,tags:["napari feature classifier","object classification"],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:`## feature_classification
Classify cells using the [napari-feature-classifier](https://github.com/fractal-napari-plugins-collection/napari-feature-classifier) and write them to the OME-ZARR
`,type:"parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'},{version:"0.2.4",name:"Condition registration",category:null,modality:"HCS",tags:["Metadata","Treatment conditions"],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:"## condition_registration\nRegister the experimental (drug layout) in the OME-ZARR.\nThe table should contain at least the columns `row` and `col` identifying the well.\nIt can have an arbitrary number of additional metadata columns (e.g. drug, concentration, medium, sample).\nDrug combinations can be specified by two entries pointing to the same `row` / `col`\n",type:"parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'}]},{pkg_name:"fractal_helper_tasks",version:"0.2.0",task_list:[{version:"0.2.0",name:"Drop T Dimension",category:null,modality:null,tags:["Singleton time dimension"],input_types:{},output_types:{has_t:!1},docs_link:"https://github.com/jluethi/fractal-helper-tasks",docs_info:`### Purpose
- Removes a **singleton time (T) dimension** from an OME-Zarr image.  
- Creates a new OME-Zarr image with updated metadata and dimensions.
- Optionally overwrites the input image if \`overwrite_input\` is set to True.

### Outputs
- A **new Zarr image** without the singleton T-dimension, stored with a configurable suffix.  

### Limitations
- Only processes OME-Zarr images where the **T-axis is the first axis**.  
- Assumes the T-dimension is **singleton**; does not process non-singleton time axes.  
- Does not copy associated **label images** or **ROI tables** to the new Zarr structure.  `,type:"non_parallel",authors:"Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.2.0/fractal_helper_tasks-0.2.0-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.2.0/fractal_helper_tasks-0.2.0-py3-none-any.whl)
2. Run \`pip install fractal_helper_tasks-0.2.0-py3-none-any.whl\`
`},{version:"0.2.0",name:"Convert 2D segmentation to 3D",category:null,modality:null,tags:["Mixed modality","2D to 3D workflows"],input_types:{is_3D:!1},output_types:{},docs_link:"https://github.com/jluethi/fractal-helper-tasks",docs_info:`### Purpose
- Converts a **2D segmentation** image into a **3D segmentation** by replicating the 2D segmentation across Z-slices.  
- Supports OME-Zarr datasets where **2D and 3D images** share the same base name but differ by suffixes.  
- Optionally copies associated ROI tables and adjusts them to align with the replicated Z-dimensions.  

### Outputs
- A **3D segmentation label image** saved with a new name.  
- Updated **ROI tables** adjusted for Z-dimensions (optional).  

### Limitations
- Only supports **same-base 2D and 3D Zarr names**; full flexibility in file names is not yet implemented.  
- Assumes **2D OME-Zarr images** and corresponding 3D images are stored in the same base folder and just differ with a suffix before the .zarr.  
`,type:"parallel",authors:"Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.2.0/fractal_helper_tasks-0.2.0-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.2.0/fractal_helper_tasks-0.2.0-py3-none-any.whl)
2. Run \`pip install fractal_helper_tasks-0.2.0-py3-none-any.whl\`
`},{version:"0.2.0",name:"Rechunk OME-Zarr",category:null,modality:null,tags:["Rechunking","Many files"],input_types:{},output_types:{},docs_link:"https://github.com/jluethi/fractal-helper-tasks",docs_info:`### Purpose
- Rechunks OME-Zarr to new chunking parameters: Changes whether the array is stored as many small files or few larger files.
- Optionally applies the same rechunking to label images.

### Outputs
- A **new Zarr image** that is rechunked.
`,type:"parallel",authors:"Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.2.0/fractal_helper_tasks-0.2.0-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.2.0/fractal_helper_tasks-0.2.0-py3-none-any.whl)
2. Run \`pip install fractal_helper_tasks-0.2.0-py3-none-any.whl\`
`}]},{pkg_name:"scmultiplex",version:"0.8.2",task_list:[{version:"0.8.2",name:"scMultiplex Calculate Object Linking",category:"Registration",modality:"HCS",tags:["multiplexing","2D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Links segmented objects between a reference and an alignment acquisition within a single well of an HCS OME-Zarr dataset.  
- Calculates object shifts using segmentation label maps, aligns objects, and identifies matching labels based on an Intersection over Union (IoU) cutoff threshold.  
- Generates a linking table that maps object labels from the reference acquisition to those in the alignment acquisition.

### Outputs
- A linking table stored in the alignment acquisition directory.  
- The table includes matched object pairs and their IoU scores.

### Limitations
- Only works for HCS OME-Zarr datasets where a **single well ROI** is used for linking. Multi-ROI processing (e.g., for FOV ROI tables) is not yet supported.  
- Requires segmentation label maps to be provided for both the reference and alignment acquisitions.  
- Matching is performed using an IoU threshold; objects below the threshold are not linked.  
- Pixel sizes must match between the reference and alignment acquisitions for accurate registration.  
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Calculate Linking Consensus",category:"Registration",modality:"HCS",tags:["multiplexing","2D","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Calculates a **consensus linking table** across all multiplexing rounds in an HCS OME-Zarr dataset.  
- Aligns object labels from all acquisitions to a reference acquisition, ensuring consistent object identities across rounds.  
- Stores the resulting consensus table in the reference acquisition directory.

### Outputs
- A **consensus linking table** that maps object labels from all rounds to a single, aligned consensus.  
- The table includes:
  - Original object labels from each round (e.g., \`R0_label\`, \`R1_label\`, ...).  
  - A new consensus label (\`consensus_label\`) and index (\`consensus_index\`) for aligned objects.

### Limitations
- Requires pre-existing linking tables generated by a previous linking task (e.g., \`Calculate Object Linking\`).  
- Assumes that the input linking tables follow a consistent structure across rounds.  
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Relabel by Linking Consensus",category:"Registration",modality:"HCS",tags:["multiplexing","2D","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Relabels segmentation images and ROI tables in an OME-Zarr dataset based on a pre-calculated **consensus linking table**.  
- Aligns object labels across multiplexing rounds to ensure consistency with the consensus object identities.  
- Outputs new segmentation images and ROI tables with updated labels.
- Requires a valid **consensus linking table** as input, typically generated by the \`Calculate Linking Consensus\` task.  
- Non-consensus objects are set to background and excluded from the outputs.

### Outputs
- A **new segmentation image** where object labels match the consensus labels.  
- A **relabelled ROI table** corresponding to the updated segmentation image, saved with a \`_linked\` suffix.

### Limitations
- Only supports **single well ROI tables**; multi-ROI processing (e.g., field of view ROIs) is not yet implemented.  
- Input segmentation images and ROI tables must match in terms of object labels; inconsistencies will cause errors.  
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Calculate Platymatch Registration",category:"Registration",modality:"HCS",tags:["multiplexing","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Calculates point-cloud-based registration between segmentation images using **PlatyMatch**.  
- Works well for **complex 3D registration**.
- Aligns sub-objects (e.g., nuclei) that belong to parent objects (e.g., organoids) by calculating **affine** and optionally **free-form deformation** transformations.  
- Outputs linking tables of matched sub-objects and optionally saves transformation matrices to disk.

### Outputs
- A **linking table** that maps sub-objects between reference and alignment rounds using affine and/or free-form deformation (FFD) transformations.  
- Transformation matrices (optional), saved on disk for each object pair.  

### Limitations
- Only supports **single well ROI tables**; multi-ROI processing (e.g., FOV ROIs) is not yet implemented.  
- Requires parent objects to be linked in a prior step using a **consensus linking table**.  
- Assumes consistent pixel sizes between reference and alignment rounds for accurate registration.  
- Relies on sufficient sub-object counts for alignment; regions with fewer than 3 sub-objects are skipped.`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Surface Mesh Multiscale",category:"Image Processing",modality:"HCS",tags:["3D","mesh"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Calculates **3D surface meshes** for parent objects (e.g., tissues, organoids) based on 3D child-level segmentation (e.g., nuclei).  
- Optionally applies **multiscale label fusion** to estimate a smooth parent shape by merging child objects.  
- Generates smoothened surface meshes using **VTK algorithms**, with optional mesh decimation for reduced complexity.  
- Outputs 3D meshes in \`.stl\` or \`.vtp\` format and a new well label map in the dataset.

### Outputs
- **Surface meshes** of parent objects, saved as \`.stl\` (single object) or \`.vtp\` (multi-object) files in the dataset’s \`meshes\` folder.  
- A **new label map** containing fused child-level objects, saved in the OME-Zarr dataset (only if multiscale processing is enabled).  
- A **bounding-box ROI table** corresponding to the new label map.

### Limitations
- Requires pre-segmented child objects and a parent object ROI table.  
- Multiscale processing requires a **parent label** for accurate object grouping and fusion.  
- Label map outputs may have **overlaps clipped**, where higher-label IDs take precedence in dense regions.  
- Mesh quality can vary with complex geometries; manual tuning of smoothing parameters may be needed for optimal results.`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Segment by Intensity Threshold",category:"Segmentation",modality:"HCS",tags:["Classical segmentation","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Performs **full 3D object segmentation** of raw intensity images using intensity thresholding.  
- Combines two intensity channels, applies **Gaussian smoothing** and **Canny edge detection** for refined masks.  
- Filters out debris and neighboring objects by selecting the **largest connected component** within a masked region.  
- Outputs a new 3D segmentation label image and an updated masking ROI table.

### Outputs
- A **new 3D label image** stored in the dataset, with refined object segmentation.  
- A corresponding **bounding-box ROI table** saved as \`{output_label_name}_ROI_table\`.  

### Limitations
- Requires pre-segmented 2D MIP-based ROI regions as input for masking.  
- Supports intensity thresholding with either **Otsu's method** or a user-defined threshold.  
- Assumes consistent image resolution and pixel intensities across channels.  
- Regions with extreme intensity variations or overlapping objects may require manual parameter tuning for optimal results.`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Spherical Harmonics from Label Image",category:"Measurement",modality:"HCS",tags:["3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Computes **spherical harmonics** for 3D segmented objects in a label image using the **aics_shparam** library.  
- Calculates and analyzes the **shape features** of objects, including reconstruction error.  
- Outputs spherical harmonic coefficients and optionally saves reconstructed surface meshes.

### Outputs
- A **feature table** containing spherical harmonic coefficients and reconstruction error (**MSE**) per object.  
- Optionally, the **computed surface mesh** and the **reconstructed mesh** (from harmonics), saved as \`.stl\` files in a new \`meshes\` folder.

### Limitations
- Input label image must contain 3D segmented objects; neighboring objects are removed by masking.  
- The accuracy of spherical harmonics depends on the chosen **maximum degree (\`lmax\`)** and input label quality.  
- Mesh reconstruction might smooth out fine details in highly complex shapes.
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Mesh Measurements",category:"Measurement",modality:"HCS",tags:["3D","mesh","morphology"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Extracts detailed **shape features** from 3D meshes, including volume, surface area, solidity, concavity, and aspect ratio.  
- Optionally calculates **Gaussian curvature** for mesh surfaces and **spherical harmonics** to decompose mesh geometry.  
- Outputs feature tables, curvature meshes, and optional harmonic-reconstructed meshes.

### Outputs
1. A **feature table** with extracted mesh measurements, including:
   - Volume, surface area, aspect ratio, concavity, normalized surface area-to-volume ratio, and more.  
2. Optional **spherical harmonic coefficients** and reconstruction error (MSE), saved as a separate table.  
3. Optional **reconstructed meshes** from spherical harmonics saved as \`.stl\`.  
4. Optional **Gaussian curvature meshes** saved as \`.vtp\` files in a new \`curvature\` folder.  
5. Optional **convex hull** and **bounding box** meshes saved as \`.vtp\` files.

### Limitations
- Requires pre-existing **.stl meshes** within the Zarr structure (e.g., generated by the **Surface Mesh Multiscale** task).  
- Mesh files must match the **object labels** specified in the ROI table.  
- Computational cost increases when enabling **Gaussian curvature** or **spherical harmonics** calculations.  
- Mesh quality and accuracy depend on the input segmentation and mesh generation parameters.`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Feature Measurements",category:"Measurement",modality:null,tags:["regionprops","morphology","intensity"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- **Measures intensity and morphology features** from existing segmentation images in an OME-Zarr dataset.  
- Computes advanced 3D morphology metrics, including surface area, using extended \`regionprops\` measurements.  
- Supports both intensity-based and morphology-only measurements:  
   - If no input intensity channels are provided, the task calculates morphology features only.  
   - For intensity measurements, channels can be specified individually, allowing flexibility across different image inputs.  
- Enables **measurements within masked objects** (e.g., measuring nuclei properties within organoids) by specifying an \`input_ROI_table\` that defines parent regions, such as organoid ROIs.

### Limitations
- Currently tested only on image data in the **CZYX** format.  
- Measurement accuracy and performance may depend on the spacing and resolution of input images.  
- Does not support measurements at lower resolutions (e.g., beyond level 0).`,type:"parallel",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.2",name:"scMultiplex Expand Labels",category:null,modality:null,tags:["2D","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`### Purpose
- Expands segmented **labels** in 2D or 3D images **without overlap**.  
- Supports expansion by a fixed pixel distance or dynamically based on **label size**.  
- Optionally masks expanded labels using **parent objects** to prevent spillover.  
- Outputs an expanded label image and preserves non-overlapping object boundaries.

### Outputs
- A new **expanded label image** saved with an \`_expanded\` suffix.  

### Limitations
- If masking by parent is enabled, the parent object label image must be provided.  
- Expansion beyond object boundaries may be clipped, depending on the surrounding labels and image dimensions.  `,type:"parallel",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.2/scmultiplex-0.8.2-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.2-py3-none-any.whl[fractal-tasks]"\`
`}]},{pkg_name:"fractal_ome_zarr_hcs_stitching",version:"0.0.8",task_list:[{version:"0.0.8",name:"Stitching Task",category:"Registration",modality:null,tags:["multiview-stitcher","Fusion","Registration","Stitching","2D","3D"],input_types:{stitched:!1},output_types:{stitched:!0},docs_link:"https://github.com/m-albert/fractal-ome-zarr-hcs-stitching",docs_info:`## stitching_task
Stitches FOVs from an OME-Zarr image.

Performs registration and fusion of FOVs indicated
in the FOV_ROI_table of the OME-Zarr image. Writes the
fused image back to a "fused" group in the same Zarr array.

Todo:
  - include and update output metadata / FOV ROI table
  - test 2D / 3D
  - optimize for large data
  - currently optimized for search first mode, need to implement
    registration pair finding for "grid" (?) mode
`,type:"parallel",authors:"Marvin Albert, Joel Luethi, Nicole Repina",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/m-albert/fractal-ome-zarr-hcs-stitching/releases/download/v0.0.8/fractal_ome_zarr_hcs_stitching-0.0.8-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/m-albert/fractal-ome-zarr-hcs-stitching/releases/download/v0.0.8/fractal_ome_zarr_hcs_stitching-0.0.8-py3-none-any.whl)
2. Run \`pip install fractal_ome_zarr_hcs_stitching-0.0.8-py3-none-any.whl\`
`}]},{pkg_name:"abbott",version:"0.0.2",task_list:[{version:"0.0.2",name:"Compute Registration (elastix)",category:"Registration",modality:"HCS",tags:["Multiplexing"],input_types:{},output_types:{},docs_link:"https://github.com/pelkmanslab/abbott",docs_info:`### Purpose
- **Computes image-based registration** transformations for acquisitions in **HCS** OME-Zarr datasets using the elastix library.
- Needs Elastix profiles to configure the registration.
- Processes images grouped by well, under the assumption that each well contains one image per acquisition.
- Calculates transformations for **specified regions of interest (ROIs)** and stores the results in a registration subfolder per OME-Zarr image.
- Typically used as the first task in a workflow, followed by \`Apply Registration (elastix)\`.

### Limitations
- Supports only HCS OME-Zarr datasets, leveraging their acquisition metadata and well-based image grouping.
- Assumes each well contains a single image per acquisition.
`,type:"compound",authors:"Ruth Hornbachner",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/pelkmanslab/abbott/releases/download/v0.0.2/abbott-0.0.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/pelkmanslab/abbott/releases/download/v0.0.2/abbott-0.0.2-py3-none-any.whl)
2. Run \`pip install abbott-0.0.2-py3-none-any.whl\`
`},{version:"0.0.2",name:"Apply Registration (elastix)",category:"Registration",modality:"HCS",tags:["Multiplexing"],input_types:{registered:!1},output_types:{registered:!0},docs_link:"https://github.com/pelkmanslab/abbott",docs_info:"### Purpose\n- **Applies pre-calculated registration** from `Compute Registration elastix` task to images in an **HCS** OME-Zarr dataset, aligning all acquisitions to a specified reference acquisition.\n- Replaces the non-aligned image with the newly aligned image in the dataset if `overwrite input` is selected.\n- Typically used as the second task in a workflow, following `Calculate Registration (elastix)`.\n\n### Limitations\n- If `overwrite input` is selected, the non-aligned image is permanently deleted, which may impact workflows requiring access to the original images.\n",type:"parallel",authors:"Ruth Hornbachner",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/pelkmanslab/abbott/releases/download/v0.0.2/abbott-0.0.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/pelkmanslab/abbott/releases/download/v0.0.2/abbott-0.0.2-py3-none-any.whl)
2. Run \`pip install abbott-0.0.2-py3-none-any.whl\`
`}]},{pkg_name:"abbott",version:"0.0.2",task_list:[{version:"0.0.2",name:"Compute Registration (elastix)",category:"Registration",modality:"HCS",tags:["Multiplexing"],input_types:{},output_types:{},docs_link:"https://github.com/pelkmanslab/abbott",docs_info:`### Purpose
- **Computes image-based registration** transformations for acquisitions in **HCS** OME-Zarr datasets using the elastix library.
- Needs Elastix profiles to configure the registration.
- Processes images grouped by well, under the assumption that each well contains one image per acquisition.
- Calculates transformations for **specified regions of interest (ROIs)** and stores the results in a registration subfolder per OME-Zarr image.
- Typically used as the first task in a workflow, followed by \`Apply Registration (elastix)\`.

### Limitations
- Supports only HCS OME-Zarr datasets, leveraging their acquisition metadata and well-based image grouping.
- Assumes each well contains a single image per acquisition.
`,type:"compound",authors:"Ruth Hornbachner",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/pelkmanslab/abbott/releases/download/v0.0.2/abbott-0.0.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/pelkmanslab/abbott/releases/download/v0.0.2/abbott-0.0.2-py3-none-any.whl)
2. Run \`pip install abbott-0.0.2-py3-none-any.whl\`
`},{version:"0.0.2",name:"Apply Registration (elastix)",category:"Registration",modality:"HCS",tags:["Multiplexing"],input_types:{registered:!1},output_types:{registered:!0},docs_link:"https://github.com/pelkmanslab/abbott",docs_info:"### Purpose\n- **Applies pre-calculated registration** from `Compute Registration elastix` task to images in an **HCS** OME-Zarr dataset, aligning all acquisitions to a specified reference acquisition.\n- Replaces the non-aligned image with the newly aligned image in the dataset if `overwrite input` is selected.\n- Typically used as the second task in a workflow, following `Calculate Registration (elastix)`.\n\n### Limitations\n- If `overwrite input` is selected, the non-aligned image is permanently deleted, which may impact workflows requiring access to the original images.\n",type:"parallel",authors:"Ruth Hornbachner",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/pelkmanslab/abbott/releases/download/v0.0.2/abbott-0.0.2-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/pelkmanslab/abbott/releases/download/v0.0.2/abbott-0.0.2-py3-none-any.whl)
2. Run \`pip install abbott-0.0.2-py3-none-any.whl\`
`}]}];var Fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cn(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Jt={};const $i=typeof process=="object"&&Jt&&Jt.NODE_DEBUG&&/\bsemver\b/i.test(Jt.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{};var In=$i;const zi="2.0.0",Dn=256,Vi=Number.MAX_SAFE_INTEGER||9007199254740991,Ui=16,Bi=Dn-6,ji=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Mn={MAX_LENGTH:Dn,MAX_SAFE_COMPONENT_LENGTH:Ui,MAX_SAFE_BUILD_LENGTH:Bi,MAX_SAFE_INTEGER:Vi,RELEASE_TYPES:ji,SEMVER_SPEC_VERSION:zi,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},as={exports:{}};(function(a,e){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:t,MAX_LENGTH:i}=Mn,l=In;e=a.exports={};const r=e.re=[],p=e.safeRe=[],c=e.src=[],h=e.t={};let b=0;const k="[a-zA-Z0-9-]",_=[["\\s",1],["\\d",i],[k,t]],v=L=>{for(const[n,o]of _)L=L.split(`${n}*`).join(`${n}{0,${o}}`).split(`${n}+`).join(`${n}{1,${o}}`);return L},w=(L,n,o)=>{const u=v(n),d=b++;l(L,d,n),h[L]=d,c[d]=n,r[d]=new RegExp(n,o?"g":void 0),p[d]=new RegExp(u,o?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${k}*`),w("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),w("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${k}+`),w("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),w("FULL",`^${c[h.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),w("LOOSE",`^${c[h.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),w("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),w("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?(?:${c[h.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",c[h.COERCE],!0),w("COERCERTLFULL",c[h.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(as,as.exports);var Gi=as.exports;const Zi=Object.freeze({loose:!0}),qi=Object.freeze({}),Xi=a=>a?typeof a!="object"?Zi:a:qi;var Wi=Xi;const Js=/^[0-9]+$/,Nn=(a,e)=>{const s=Js.test(a),t=Js.test(e);return s&&t&&(a=+a,e=+e),a===e?0:s&&!t?-1:t&&!s?1:a<e?-1:1},Yi=(a,e)=>Nn(e,a);var Ji={compareIdentifiers:Nn,rcompareIdentifiers:Yi};const Ct=In,{MAX_LENGTH:Qs,MAX_SAFE_INTEGER:It}=Mn,{safeRe:Ks,t:en}=Gi,Qi=Wi,{compareIdentifiers:ot}=Ji;let Ki=class Fe{constructor(e,s){if(s=Qi(s),e instanceof Fe){if(e.loose===!!s.loose&&e.includePrerelease===!!s.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Qs)throw new TypeError(`version is longer than ${Qs} characters`);Ct("SemVer",e,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const t=e.trim().match(s.loose?Ks[en.LOOSE]:Ks[en.FULL]);if(!t)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>It||this.major<0)throw new TypeError("Invalid major version");if(this.minor>It||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>It||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const l=+i;if(l>=0&&l<It)return l}return i}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ct("SemVer.compare",this.version,this.options,e),!(e instanceof Fe)){if(typeof e=="string"&&e===this.version)return 0;e=new Fe(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Fe||(e=new Fe(e,this.options)),ot(this.major,e.major)||ot(this.minor,e.minor)||ot(this.patch,e.patch)}comparePre(e){if(e instanceof Fe||(e=new Fe(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let s=0;do{const t=this.prerelease[s],i=e.prerelease[s];if(Ct("prerelease compare",s,t,i),t===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(t===void 0)return-1;if(t===i)continue;return ot(t,i)}while(++s)}compareBuild(e){e instanceof Fe||(e=new Fe(e,this.options));let s=0;do{const t=this.build[s],i=e.build[s];if(Ct("build compare",s,t,i),t===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(t===void 0)return-1;if(t===i)continue;return ot(t,i)}while(++s)}inc(e,s,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s,t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s,t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s,t),this.inc("pre",s,t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s,t),this.inc("pre",s,t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(t)?1:0;if(!s&&t===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let l=this.prerelease.length;for(;--l>=0;)typeof this.prerelease[l]=="number"&&(this.prerelease[l]++,l=-2);if(l===-1){if(s===this.prerelease.join(".")&&t===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(s){let l=[s,i];t===!1&&(l=[s]),ot(this.prerelease[0],s)===0?isNaN(this.prerelease[1])&&(this.prerelease=l):this.prerelease=l}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ea=Ki;const tn=ea,ta=(a,e,s)=>new tn(a,s).compare(new tn(e,s));var sa=ta;const na=sa,ia=(a,e)=>na(a,e,!0);var aa=ia;const la=Cn(aa);function oa(a,e){const s=[];for(const t of a)for(const i of t.task_list){const l=t[e];let r=s.find(h=>h.groupTitle===l);const p=ca(t,i),c=t.version||"";if(r){let h=r.tasks.find(b=>Object.values(b.taskVersions).find(k=>k.task_name===i.name));h?h.taskVersions[c]=p:(h={selectedVersion:c,taskVersions:{[c]:p}},r.tasks.push(h))}else r={groupTitle:t[e],tasks:[{selectedVersion:c,taskVersions:{[c]:p}}]},s.push(r)}return ra(s),s}function ra(a){for(const e of a){for(const s of e.tasks){const t=Object.keys(s.taskVersions).filter(i=>i!=="");t.length>0&&(ls(t),s.selectedVersion=t[0])}e.tasks.sort((s,t)=>s.taskVersions[s.selectedVersion].task_id<t.taskVersions[t.selectedVersion].task_id?-1:1)}a.sort((e,s)=>e.groupTitle.localeCompare(s.groupTitle,void 0,{sensitivity:"base"}))}function ls(a){try{a.sort((e,s)=>e?s?la(e,s):1:-1).reverse()}catch(e){console.warn("Semver error:",e)}return a}function ca(a,e){return{pkg_name:a.pkg_name,task_id:e.id,task_name:e.name,version:a.version||"",category:e.category,modality:e.modality,authors:e.authors,tags:e.tags,input_types:e.input_types,docs_info:e.docs_info||"",docs_link:e.docs_link,install_instructions:e.install_instructions}}var Pn={exports:{}};(function(a,e){(function(s,t){a.exports=t()})(Fi,function(){class s{constructor(n){n||(n={}),this.main=n.main||"ss-main",this.placeholder=n.placeholder||"ss-placeholder",this.values=n.values||"ss-values",this.single=n.single||"ss-single",this.max=n.max||"ss-max",this.value=n.value||"ss-value",this.valueText=n.valueText||"ss-value-text",this.valueDelete=n.valueDelete||"ss-value-delete",this.valueOut=n.valueOut||"ss-value-out",this.deselect=n.deselect||"ss-deselect",this.deselectPath=n.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=n.arrow||"ss-arrow",this.arrowClose=n.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=n.arrowOpen||"M10,70 L50,30 L90,70",this.content=n.content||"ss-content",this.openAbove=n.openAbove||"ss-open-above",this.openBelow=n.openBelow||"ss-open-below",this.search=n.search||"ss-search",this.searchHighlighter=n.searchHighlighter||"ss-search-highlight",this.searching=n.searching||"ss-searching",this.addable=n.addable||"ss-addable",this.addablePath=n.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=n.list||"ss-list",this.optgroup=n.optgroup||"ss-optgroup",this.optgroupLabel=n.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=n.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=n.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=n.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=n.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=n.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=n.optgroupClosable||"ss-closable",this.option=n.option||"ss-option",this.optionDelete=n.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=n.highlighted||"ss-highlighted",this.open=n.open||"ss-open",this.close=n.close||"ss-close",this.selected=n.selected||"ss-selected",this.error=n.error||"ss-error",this.disabled=n.disabled||"ss-disabled",this.hide=n.hide||"ss-hide"}}function t(){return Math.random().toString(36).substring(2,10)}function i(L,n){function o(d,m){return m&&d&&d.classList&&d.classList.contains(m)||m&&d&&d.dataset&&d.dataset.id&&d.dataset.id===n?d:null}function u(d,m){return!d||d===document?null:o(d,m)?d:u(d.parentNode,m)}return o(L,n)||u(L,n)}function l(L,n=50,o=!1){let u;return function(...d){const m=self,g=()=>{u=null,o||L.apply(m,d)},y=o&&!u;clearTimeout(u),u=setTimeout(g,n),y&&L.apply(m,d)}}function r(L,n){return JSON.stringify(L)===JSON.stringify(n)}function p(L){const n=L.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,o=>"-"+o.toLowerCase());return L[0]===L[0].toUpperCase()?n.substring(1):n}class c{constructor(n){if(this.id=!n.id||n.id===""?t():n.id,this.label=n.label||"",this.selectAll=n.selectAll===void 0?!1:n.selectAll,this.selectAllText=n.selectAllText||"Select All",this.closable=n.closable||"off",this.options=[],n.options)for(const o of n.options)this.options.push(new h(o))}}class h{constructor(n){this.id=!n.id||n.id===""?t():n.id,this.value=n.value===void 0?n.text:n.value,this.text=n.text||"",this.html=n.html||"",this.selected=n.selected!==void 0?n.selected:!1,this.display=n.display!==void 0?n.display:!0,this.disabled=n.disabled!==void 0?n.disabled:!1,this.mandatory=n.mandatory!==void 0?n.mandatory:!1,this.placeholder=n.placeholder!==void 0?n.placeholder:!1,this.class=n.class||"",this.style=n.style||"",this.data=n.data||{}}}class b{constructor(n,o){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=n,this.setData(o)}validateDataArray(n){if(!Array.isArray(n))return new Error("Data must be an array");for(let o of n)if(o instanceof c||"label"in o){if(!("label"in o))return new Error("Optgroup must have a label");if("options"in o&&o.options)for(let u of o.options){const d=this.validateOption(u);if(d)return d}}else if(o instanceof h||"text"in o){const u=this.validateOption(o);if(u)return u}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(n){return"text"in n?null:new Error("Option must have a text")}partialToFullData(n){let o=[];return n.forEach(u=>{if(u instanceof c||"label"in u){let d=[];"options"in u&&u.options&&u.options.forEach(m=>{d.push(new h(m))}),d.length>0&&o.push(new c(u))}(u instanceof h||"text"in u)&&o.push(new h(u))}),o}setData(n){this.data=this.partialToFullData(n),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(n,o=!1){if(o){let u=[new h(n)];this.setData(u.concat(this.getData()))}else this.setData(this.getData().concat(new h(n)))}setSelectedBy(n,o){let u=null,d=!1;const m=[];for(let y of this.data){if(y instanceof c)for(let R of y.options)u||(u=R),R.selected=d?!1:o.includes(R[n]),R.selected&&(m.push(R),this.selectType==="single"&&(d=!0));y instanceof h&&(u||(u=y),y.selected=d?!1:o.includes(y[n]),y.selected&&(m.push(y),this.selectType==="single"&&(d=!0)))}this.selectType==="single"&&u&&!d&&(u.selected=!0,m.push(u));const g=o.map(y=>{var R;return((R=m.find(C=>C[n]===y))===null||R===void 0?void 0:R.id)||""});this.selectedOrder=g}getSelected(){return this.getSelectedOptions().map(n=>n.id)}getSelectedValues(){return this.getSelectedOptions().map(n=>n.value)}getSelectedOptions(){return this.filter(n=>n.selected,!1)}getOptgroupByID(n){for(let o of this.data)if(o instanceof c&&o.id===n)return o;return null}getOptionByID(n){let o=this.filter(u=>u.id===n,!1);return o.length?o[0]:null}getSelectType(){return this.selectType}getFirstOption(){let n=null;for(let o of this.data)if(o instanceof c?n=o.options[0]:o instanceof h&&(n=o),n)break;return n}search(n,o){return n=n.trim(),n===""?this.getData():this.filter(u=>o(u,n),!0)}filter(n,o){const u=[];return this.data.forEach(d=>{if(d instanceof c){let m=[];if(d.options.forEach(g=>{(!n||n(g))&&(o?m.push(new h(g)):u.push(new h(g)))}),m.length>0){let g=new c(d);g.options=m,u.push(g)}}d instanceof h&&(!n||n(d))&&u.push(new h(d))}),u}selectedOrderOptions(n){const o=[];return this.selectedOrder.forEach(u=>{const d=n.find(m=>m.id===u);d&&o.push(d)}),n.forEach(u=>{let d=!1;o.forEach(m=>{if(u.id===m.id){d=!0;return}}),d||o.push(u)}),o}}class k{constructor(n,o,u,d){this.store=u,this.settings=n,this.classes=o,this.callbacks=d,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const n=this.store.getSelectedOptions();if(n.length){const o=n[n.length-1].id,u=this.content.list.querySelector('[data-id="'+o+'"]');u&&this.ensureElementInView(this.content.list,u)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const n of this.settings.class)n.trim()!==""&&(this.main.main.classList.add(n.trim()),this.content.main.classList.add(n.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var n;const o=document.createElement("div");o.dataset.id=this.settings.id,o.setAttribute("aria-label",this.settings.ariaLabel),o.tabIndex=0,o.onkeydown=N=>{switch(N.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),N.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const V=this.content.list.querySelector("."+this.classes.highlighted);return V&&V.click(),!1;case"Escape":return this.callbacks.close(),!1}return N.key.length===1&&this.callbacks.open(),!0},o.onclick=N=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const u=document.createElement("div");u.classList.add(this.classes.values),o.appendChild(u);const d=document.createElement("div");d.classList.add(this.classes.deselect);const m=(n=this.store)===null||n===void 0?void 0:n.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&m&&m.length<=0?d.classList.add(this.classes.hide):d.classList.remove(this.classes.hide),d.onclick=N=>{if(N.stopPropagation(),this.settings.disabled)return;let V=!0;const T=this.store.getSelectedOptions(),P=[];if(this.callbacks.beforeChange&&(V=this.callbacks.beforeChange(P,T)===!0),V){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const B=this.store.getFirstOption(),q=B?B.id:"";this.callbacks.setSelected(q,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("viewBox","0 0 100 100");const y=document.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("d",this.classes.deselectPath),g.appendChild(y),d.appendChild(g),o.appendChild(d);const R=document.createElementNS("http://www.w3.org/2000/svg","svg");R.classList.add(this.classes.arrow),R.setAttribute("viewBox","0 0 100 100");const C=document.createElementNS("http://www.w3.org/2000/svg","path");return C.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&R.classList.add(this.classes.hide),R.appendChild(C),o.appendChild(R),{main:o,values:u,deselect:{main:d,svg:g,path:y},arrow:{main:R,path:C}}}mainFocus(n){n!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const n=this.store.filter(d=>d.placeholder,!1);let o=this.settings.placeholderText;n.length&&(n[0].html!==""?o=n[0].html:n[0].text!==""&&(o=n[0].text));const u=document.createElement("div");return u.classList.add(this.classes.placeholder),u.innerHTML=o,u}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const n=this.store.filter(u=>u.selected&&!u.placeholder,!1),o=n.length>0?n[0]:null;if(!o)this.main.values.innerHTML=this.placeholder().outerHTML;else{const u=document.createElement("div");u.classList.add(this.classes.single),o.html?u.innerHTML=o.html:u.innerText=o.text,this.main.values.innerHTML=u.outerHTML}!this.settings.allowDeselect||!n.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let n=this.main.values.childNodes,o=this.store.filter(d=>d.selected&&d.display,!1);if(o.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const d=this.main.values.querySelector("."+this.classes.placeholder);d&&d.remove()}if(o.length>this.settings.maxValuesShown){const d=document.createElement("div");d.classList.add(this.classes.max),d.textContent=this.settings.maxValuesMessage.replace("{number}",o.length.toString()),this.main.values.innerHTML=d.outerHTML;return}else{const d=this.main.values.querySelector("."+this.classes.max);d&&d.remove()}this.settings.keepOrder&&(o=this.store.selectedOrderOptions(o));let u=[];for(let d=0;d<n.length;d++){const m=n[d],g=m.getAttribute("data-id");g&&(o.filter(R=>R.id===g,!1).length||u.push(m))}for(const d of u)d.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(d)&&this.main.values.removeChild(d)},100);n=this.main.values.childNodes;for(let d=0;d<o.length;d++){let m=!0;for(let g=0;g<n.length;g++)o[d].id===String(n[g].dataset.id)&&(m=!1);m&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(o[d])):n.length===0?this.main.values.appendChild(this.multipleValue(o[d])):d===0?this.main.values.insertBefore(this.multipleValue(o[d]),n[d]):n[d-1].insertAdjacentElement("afterend",this.multipleValue(o[d])))}}multipleValue(n){const o=document.createElement("div");o.classList.add(this.classes.value),o.dataset.id=n.id;const u=document.createElement("div");if(u.classList.add(this.classes.valueText),u.textContent=n.text,o.appendChild(u),!n.mandatory){const d=document.createElement("div");d.classList.add(this.classes.valueDelete),d.onclick=y=>{if(y.preventDefault(),y.stopPropagation(),this.settings.disabled)return;let R=!0;const C=this.store.getSelectedOptions(),N=C.filter(V=>V.selected&&V.id!==n.id,!0);if(!(this.settings.minSelected&&N.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(R=this.callbacks.beforeChange(N,C)===!0),R)){let V=[];for(const T of N){if(T instanceof c)for(const P of T.options)V.push(P.id);T instanceof h&&V.push(T.id)}this.callbacks.setSelected(V,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(N),this.updateDeselectAll()}};const m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttribute("viewBox","0 0 100 100");const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",this.classes.optionDelete),m.appendChild(g),d.appendChild(m),o.appendChild(d)}return o}contentDiv(){const n=document.createElement("div");n.dataset.id=this.settings.id;const o=this.searchDiv();n.appendChild(o.main);const u=this.listDiv();return n.appendChild(u),{main:n,search:o,list:u}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const n=document.createElement("div"),o=document.createElement("input"),u=document.createElement("div");n.classList.add(this.classes.search);const d={main:n,input:o};if(this.settings.showSearch||(n.classList.add(this.classes.hide),o.readOnly=!0),o.type="search",o.placeholder=this.settings.searchPlaceholder,o.tabIndex=-1,o.setAttribute("aria-label",this.settings.searchPlaceholder),o.setAttribute("autocapitalize","off"),o.setAttribute("autocomplete","off"),o.setAttribute("autocorrect","off"),o.oninput=l(m=>{this.callbacks.search(m.target.value)},100),o.onkeydown=m=>{switch(m.key){case"ArrowUp":case"ArrowDown":return m.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const g=this.content.list.querySelector("."+this.classes.highlighted);return g?(g.click(),!1):!0;case"Enter":if(this.callbacks.addable)return u.click(),!1;{const y=this.content.list.querySelector("."+this.classes.highlighted);if(y)return y.click(),!1}return!0}return!0},n.appendChild(o),this.callbacks.addable){u.classList.add(this.classes.addable);const m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttribute("viewBox","0 0 100 100");const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",this.classes.addablePath),m.appendChild(g),u.appendChild(m),u.onclick=y=>{if(y.preventDefault(),y.stopPropagation(),!this.callbacks.addable)return;const R=this.content.search.input.value.trim();if(R===""){this.content.search.input.focus();return}const C=V=>{let T=new h(V);if(this.callbacks.addOption(T),this.settings.isMultiple){let P=this.store.getSelected();P.push(T.id),this.callbacks.setSelected(P,!0)}else this.callbacks.setSelected([T.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},N=this.callbacks.addable(R);N===!1||N===void 0||N===null||(N instanceof Promise?N.then(V=>{typeof V=="string"?C({text:V,value:V}):N instanceof Error?this.renderError(N.message):C(V)}):typeof N=="string"?C({text:N,value:N}):N instanceof Error?this.renderError(N.message):C(N))},n.appendChild(u),d.addable={main:u,svg:m,path:g}}return d}searchFocus(){this.content.search.input.focus()}getOptions(n=!1,o=!1,u=!1){let d="."+this.classes.option;return n&&(d+=":not(."+this.classes.placeholder+")"),o&&(d+=":not(."+this.classes.disabled+")"),u&&(d+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(d))}highlight(n){const o=this.getOptions(!0,!0,!0);if(o.length===0)return;if(o.length===1&&!o[0].classList.contains(this.classes.highlighted)){o[0].classList.add(this.classes.highlighted);return}let u=!1;for(const d of o)d.classList.contains(this.classes.highlighted)&&(u=!0);if(!u){for(const d of o)if(d.classList.contains(this.classes.selected)){d.classList.add(this.classes.highlighted);break}}for(let d=0;d<o.length;d++)if(o[d].classList.contains(this.classes.highlighted)){const m=o[d];m.classList.remove(this.classes.highlighted);const g=m.parentElement;if(g&&g.classList.contains(this.classes.open)){const C=g.querySelector("."+this.classes.optgroupLabel);C&&C.click()}let y=o[n==="down"?d+1<o.length?d+1:0:d-1>=0?d-1:o.length-1];y.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,y);const R=y.parentElement;if(R&&R.classList.contains(this.classes.close)){const C=R.querySelector("."+this.classes.optgroupLabel);C&&C.click()}return}o[n==="down"?0:o.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,o[n==="down"?0:o.length-1])}listDiv(){const n=document.createElement("div");return n.classList.add(this.classes.list),n}renderError(n){this.content.list.innerHTML="";const o=document.createElement("div");o.classList.add(this.classes.error),o.textContent=n,this.content.list.appendChild(o)}renderSearching(){this.content.list.innerHTML="";const n=document.createElement("div");n.classList.add(this.classes.searching),n.textContent=this.settings.searchingText,this.content.list.appendChild(n)}renderOptions(n){if(this.content.list.innerHTML="",n.length===0){const o=document.createElement("div");o.classList.add(this.classes.search),this.callbacks.addable?o.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):o.innerHTML=this.settings.searchText,this.content.list.appendChild(o);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(u=>u.placeholder,!1).length||this.store.addOption(new h({text:"",value:"",selected:!1,placeholder:!0}),!0));for(const o of n){if(o instanceof c){const u=document.createElement("div");u.classList.add(this.classes.optgroup);const d=document.createElement("div");d.classList.add(this.classes.optgroupLabel),u.appendChild(d);const m=document.createElement("div");m.classList.add(this.classes.optgroupLabelText),m.textContent=o.label,d.appendChild(m);const g=document.createElement("div");if(g.classList.add(this.classes.optgroupActions),d.appendChild(g),this.settings.isMultiple&&o.selectAll){const y=document.createElement("div");y.classList.add(this.classes.optgroupSelectAll);let R=!0;for(const P of o.options)if(!P.selected){R=!1;break}R&&y.classList.add(this.classes.selected);const C=document.createElement("span");C.textContent=o.selectAllText,y.appendChild(C);const N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.setAttribute("viewBox","0 0 100 100"),y.appendChild(N);const V=document.createElementNS("http://www.w3.org/2000/svg","path");V.setAttribute("d",this.classes.optgroupSelectAllBox),N.appendChild(V);const T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("d",this.classes.optgroupSelectAllCheck),N.appendChild(T),y.addEventListener("click",P=>{P.preventDefault(),P.stopPropagation();const B=this.store.getSelected();if(R){const q=B.filter(J=>{for(const pe of o.options)if(J===pe.id)return!1;return!0});this.callbacks.setSelected(q,!0);return}else{const q=B.concat(o.options.map(J=>J.id));for(const J of o.options)this.store.getOptionByID(J.id)||this.callbacks.addOption(J);this.callbacks.setSelected(q,!0);return}}),g.appendChild(y)}if(o.closable!=="off"){const y=document.createElement("div");y.classList.add(this.classes.optgroupClosable);const R=document.createElementNS("http://www.w3.org/2000/svg","svg");R.setAttribute("viewBox","0 0 100 100"),R.classList.add(this.classes.arrow),y.appendChild(R);const C=document.createElementNS("http://www.w3.org/2000/svg","path");R.appendChild(C),o.options.some(N=>N.selected)||this.content.search.input.value.trim()!==""?(y.classList.add(this.classes.open),C.setAttribute("d",this.classes.arrowOpen)):o.closable==="open"?(u.classList.add(this.classes.open),C.setAttribute("d",this.classes.arrowOpen)):o.closable==="close"&&(u.classList.add(this.classes.close),C.setAttribute("d",this.classes.arrowClose)),d.addEventListener("click",N=>{N.preventDefault(),N.stopPropagation(),u.classList.contains(this.classes.close)?(u.classList.remove(this.classes.close),u.classList.add(this.classes.open),C.setAttribute("d",this.classes.arrowOpen)):(u.classList.remove(this.classes.open),u.classList.add(this.classes.close),C.setAttribute("d",this.classes.arrowClose))}),g.appendChild(y)}u.appendChild(d);for(const y of o.options)u.appendChild(this.option(y));this.content.list.appendChild(u)}o instanceof h&&this.content.list.appendChild(this.option(o))}}option(n){if(n.placeholder){const u=document.createElement("div");return u.classList.add(this.classes.option),u.classList.add(this.classes.hide),u}const o=document.createElement("div");return o.dataset.id=n.id,o.classList.add(this.classes.option),o.setAttribute("role","option"),n.class&&n.class.split(" ").forEach(u=>{o.classList.add(u)}),n.style&&(o.style.cssText=n.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?o.innerHTML=this.highlightText(n.html!==""?n.html:n.text,this.content.search.input.value,this.classes.searchHighlighter):n.html!==""?o.innerHTML=n.html:o.textContent=n.text,this.settings.showOptionTooltips&&o.textContent&&o.setAttribute("title",o.textContent),n.display||o.classList.add(this.classes.hide),n.disabled&&o.classList.add(this.classes.disabled),n.selected&&this.settings.hideSelected&&o.classList.add(this.classes.hide),n.selected?(o.classList.add(this.classes.selected),o.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",o.id)):(o.classList.remove(this.classes.selected),o.setAttribute("aria-selected","false")),o.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation();const d=this.store.getSelected(),m=u.currentTarget,g=String(m.dataset.id);if(n.disabled||n.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=d.length&&!n.selected||this.settings.isMultiple&&this.settings.minSelected>=d.length&&n.selected)return;let y=!1;const R=this.store.getSelectedOptions();let C=[];this.settings.isMultiple&&(n.selected?C=R.filter(N=>N.id!==g):C=R.concat(n)),this.settings.isMultiple||(n.selected?C=[]:C=[n]),this.callbacks.beforeChange||(y=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(C,R)===!1?y=!1:y=!0),y&&(this.store.getOptionByID(g)||this.callbacks.addOption(n),this.callbacks.setSelected(C.map(N=>N.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(C))}),o}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(n,o,u){let d=n;const m=new RegExp("(?![^<]*>)("+o.trim()+")(?![^<]*>[^<>]*</)","i");if(!n.match(m))return n;const g=n.match(m).index,y=g+n.match(m)[0].toString().length,R=n.substring(g,y);return d=d.replace(m,`<mark class="${u}">${R}</mark>`),d}moveContentAbove(){const n=this.main.main.offsetHeight,o=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const u=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(n+o-1)+"px 0px 0px 0px",this.content.main.style.top=u.top+u.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=u.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=u.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const n=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=n.top+n.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=n.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=n.width+"px")}ensureElementInView(n,o){const u=n.scrollTop+n.offsetTop,d=u+n.clientHeight,m=o.offsetTop,g=m+o.clientHeight;m<u?n.scrollTop-=u-m:g>d&&(n.scrollTop+=g-d)}putContent(){const n=this.main.main.offsetHeight,o=this.main.main.getBoundingClientRect(),u=this.content.main.offsetHeight;return window.innerHeight-(o.top+n)<=u&&o.top>u?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const n=this.store.getSelectedOptions(),o=n&&n.length>0,u=this.settings.isMultiple,d=this.settings.allowDeselect,m=this.main.deselect.main,g=this.classes.hide;d&&!(u&&!o)?m.classList.remove(g):m.classList.add(g)}}class _{constructor(n){this.listen=!1,this.observer=null,this.select=n,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(n){this.listen=n,n&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),n||this.observer&&this.observer.disconnect()}valueChange(n){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(n){if(!this.listen)return;let o=!1,u=!1,d=!1;for(const m of n){if(m.target===this.select&&(m.attributeName==="disabled"&&(u=!0),m.attributeName==="class"&&(o=!0),m.type==="childList")){for(const g of m.addedNodes)if(g.nodeName==="OPTION"&&g.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}d=!0}(m.target.nodeName==="OPTGROUP"||m.target.nodeName==="OPTION")&&(d=!0)}o&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),u&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),d&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let n=[];const o=this.select.childNodes;for(const u of o)u.nodeName==="OPTGROUP"&&n.push(this.getDataFromOptgroup(u)),u.nodeName==="OPTION"&&n.push(this.getDataFromOption(u));return n}getDataFromOptgroup(n){let o={id:n.id,label:n.label,selectAll:n.dataset?n.dataset.selectall==="true":!1,selectAllText:n.dataset?n.dataset.selectalltext:"Select all",closable:n.dataset?n.dataset.closable:"off",options:[]};const u=n.childNodes;for(const d of u)d.nodeName==="OPTION"&&o.options.push(this.getDataFromOption(d));return o}getDataFromOption(n){return{id:n.id,value:n.value,text:n.text,html:n.dataset&&n.dataset.html?n.dataset.html:"",selected:n.selected,display:n.style.display!=="none",disabled:n.disabled,mandatory:n.dataset?n.dataset.mandatory==="true":!1,placeholder:n.dataset.placeholder==="true",class:n.className,style:n.style.cssText,data:n.dataset}}getSelectedOptions(){let n=[];const o=this.select.childNodes;for(const u of o){if(u.nodeName==="OPTGROUP"){const d=u.childNodes;for(const m of d)if(m.nodeName==="OPTION"){const g=m;g.selected&&n.push(this.getDataFromOption(g))}}if(u.nodeName==="OPTION"){const d=u;d.selected&&n.push(this.getDataFromOption(d))}}return n}getSelectedValues(){return this.getSelectedOptions().map(n=>n.value)}setSelected(n){this.changeListen(!1);const o=this.select.childNodes;for(const u of o){if(u.nodeName==="OPTGROUP"){const m=u.childNodes;for(const g of m)if(g.nodeName==="OPTION"){const y=g;y.selected=n.includes(y.id)}}if(u.nodeName==="OPTION"){const d=u;d.selected=n.includes(d.id)}}this.changeListen(!0)}setSelectedByValue(n){this.changeListen(!1);const o=this.select.childNodes;for(const u of o){if(u.nodeName==="OPTGROUP"){const m=u.childNodes;for(const g of m)if(g.nodeName==="OPTION"){const y=g;y.selected=n.includes(y.value)}}if(u.nodeName==="OPTION"){const d=u;d.selected=n.includes(d.value)}}this.changeListen(!0)}updateSelect(n,o,u){this.changeListen(!1),n&&(this.select.dataset.id=n),o&&(this.select.style.cssText=o),u&&(this.select.className="",u.forEach(d=>{d.trim()!==""&&this.select.classList.add(d.trim())})),this.changeListen(!0)}updateOptions(n){this.changeListen(!1),this.select.innerHTML="";for(const o of n)o instanceof c&&this.select.appendChild(this.createOptgroup(o)),o instanceof h&&this.select.appendChild(this.createOption(o));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(n){const o=document.createElement("optgroup");if(o.id=n.id,o.label=n.label,n.selectAll&&(o.dataset.selectAll="true"),n.closable!=="off"&&(o.dataset.closable=n.closable),n.options)for(const u of n.options)o.appendChild(this.createOption(u));return o}createOption(n){const o=document.createElement("option");return o.id=n.id,o.value=n.value,o.textContent=n.text,n.html!==""&&o.setAttribute("data-html",n.html),n.selected&&(o.selected=n.selected),n.disabled&&(o.disabled=!0),n.display||(o.style.display="none"),n.placeholder&&o.setAttribute("data-placeholder","true"),n.mandatory&&o.setAttribute("data-mandatory","true"),n.class&&n.class.split(" ").forEach(u=>{o.classList.add(u)}),n.data&&typeof n.data=="object"&&Object.keys(n.data).forEach(u=>{o.setAttribute("data-"+p(u),n.data[u])}),o}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class v{constructor(n){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,n||(n={}),this.id="ss-"+t(),this.style=n.style||"",this.class=n.class||[],this.disabled=n.disabled!==void 0?n.disabled:!1,this.alwaysOpen=n.alwaysOpen!==void 0?n.alwaysOpen:!1,this.showSearch=n.showSearch!==void 0?n.showSearch:!0,this.focusSearch=n.focusSearch!==void 0?n.focusSearch:!0,this.ariaLabel=n.ariaLabel||"Combobox",this.searchPlaceholder=n.searchPlaceholder||"Search",this.searchText=n.searchText||"No Results",this.searchingText=n.searchingText||"Searching...",this.searchHighlight=n.searchHighlight!==void 0?n.searchHighlight:!1,this.closeOnSelect=n.closeOnSelect!==void 0?n.closeOnSelect:!0,this.contentLocation=n.contentLocation||document.body,this.contentPosition=n.contentPosition||"absolute",this.openPosition=n.openPosition||"auto",this.placeholderText=n.placeholderText!==void 0?n.placeholderText:"Select Value",this.allowDeselect=n.allowDeselect!==void 0?n.allowDeselect:!1,this.hideSelected=n.hideSelected!==void 0?n.hideSelected:!1,this.keepOrder=n.keepOrder!==void 0?n.keepOrder:!1,this.showOptionTooltips=n.showOptionTooltips!==void 0?n.showOptionTooltips:!1,this.minSelected=n.minSelected||0,this.maxSelected=n.maxSelected||1e3,this.timeoutDelay=n.timeoutDelay||200,this.maxValuesShown=n.maxValuesShown||20,this.maxValuesMessage=n.maxValuesMessage||"{number} selected",this.addableText=n.addableText||'Press "Enter" to add {value}'}}class w{constructor(n){var o;if(this.events={search:void 0,searchFilter:(y,R)=>y.text.toLowerCase().indexOf(R.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=l(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=l(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=y=>{this.settings.isOpen&&y.target&&!i(y.target,this.settings.id)&&this.close(y.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof n.select=="string"?document.querySelector(n.select):n.select,!this.selectEl){n.events&&n.events.error&&n.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){n.events&&n.events.error&&n.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new v(n.settings),this.cssClasses=new s(n.cssClasses);const u=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const y in n.events)n.events.hasOwnProperty(y)&&(u.indexOf(y)!==-1?this.events[y]=l(n.events[y],100):this.events[y]=n.events[y]);this.settings.disabled=!((o=n.settings)===null||o===void 0)&&o.disabled?n.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new _(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=y=>{this.setSelected(y.map(R=>R.id))},this.select.onClassChange=y=>{this.settings.class=y,this.render.updateClassStyles()},this.select.onDisabledChange=y=>{y?this.disable():this.enable()},this.select.onOptionsChange=y=>{this.setData(y)},this.store=new b(this.settings.isMultiple?"multiple":"single",n.data?n.data:this.select.getData()),n.data&&this.select.updateOptions(this.store.getData());const d={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new k(this.settings,this.cssClasses,this.store,d),this.render.renderValues(),this.render.renderOptions(this.store.getData());const m=this.selectEl.getAttribute("aria-label"),g=this.selectEl.getAttribute("aria-labelledby");m?this.render.main.main.setAttribute("aria-label",m):g&&this.render.main.main.setAttribute("aria-labelledby",g),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(n){const o=this.store.getSelected(),u=this.store.validateDataArray(n);if(u){this.events.error&&this.events.error(u);return}this.store.setData(n);const d=this.store.getData();this.select.updateOptions(d),this.render.renderValues(),this.render.renderOptions(d),this.events.afterChange&&!r(o,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let n=this.store.getSelectedOptions();return this.settings.keepOrder&&(n=this.store.selectedOrderOptions(n)),n.map(o=>o.value)}setSelected(n,o=!0){const u=this.store.getSelected(),d=this.store.getDataOptions();n=Array.isArray(n)?n:[n];const m=[];for(const y of n){if(d.find(R=>R.id==y)){m.push(y);continue}for(const R of d.filter(C=>C.value==y))m.push(R.id)}this.store.setSelectedBy("id",m);const g=this.store.getData();this.select.updateOptions(g),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(g),o&&this.events.afterChange&&!r(u,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(n){const o=this.store.getSelected();this.store.getDataOptions().some(d=>{var m;return d.value===((m=n.value)!==null&&m!==void 0?m:n.text)})||this.store.addOption(n);const u=this.store.getData();this.select.updateOptions(u),this.render.renderValues(),this.render.renderOptions(u),this.events.afterChange&&!r(o,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(n=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(n),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(n){if(this.render.content.search.input.value!==n&&(this.render.content.search.input.value=n),!this.events.search){this.render.renderOptions(n===""?this.store.getData():this.store.search(n,this.events.searchFilter));return}this.render.renderSearching();const o=this.events.search(n,this.store.getSelectedOptions());if(o instanceof Promise){o.then(u=>{this.render.renderOptions(this.store.partialToFullData(u))}).catch(u=>{this.render.renderError(typeof u=="string"?u:u.message)});return}else Array.isArray(o)?this.render.renderOptions(this.store.partialToFullData(o)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return w})})(Pn);var ha=Pn.exports;const ua=Cn(ha);function sn(a){let e,s;return{c(){e=D("span"),s=Oe(a[0]),this.h()},l(t){e=M(t,"SPAN",{style:!0,class:!0});var i=G(e);s=xe(i,a[0]),i.forEach(x),this.h()},h(){Ns(e,"background-color",a[2](a[0])),H(e,"class","badge rounded-pill coloured-badge text-dark")},m(t,i){X(t,e,i),S(e,s)},p(t,i){i&1&&De(s,t[0]),i&1&&Ns(e,"background-color",t[2](t[0]))},d(t){t&&x(e)}}}function pa(a){let e,s=a[0]&&a[1]&&sn(a);return{c(){s&&s.c(),e=We()},l(t){s&&s.l(t),e=We()},m(t,i){s&&s.m(t,i),X(t,e,i)},p(t,[i]){t[0]&&t[1]?s?s.p(t,i):(s=sn(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:Qe,o:Qe,d(t){t&&x(e),s&&s.d(t)}}}function da(a,e,s){let{value:t}=e,i;function l(p){return new i({lightness:.8,saturation:.95}).hex(p)}let r=!1;return yn(async()=>{i=(await ei(async()=>{const{default:p}=await import("../chunks/esm.B-bOhdOb.js");return{default:p}},[],import.meta.url)).default,s(1,r=!0)}),a.$$set=p=>{"value"in p&&s(0,t=p.value)},[t,r,l]}class Hn extends rs{constructor(e){super(),cs(this,e,da,pa,os,{value:0})}}function nn(a,e,s){const t=a.slice();return t[32]=e[s],t}function an(a,e,s){const t=a.slice();return t[35]=e[s],t[36]=e,t[37]=s,t}const fa=a=>({task:a[0]&2}),ln=a=>({task:a[35].taskVersions[a[35].selectedVersion]});function on(a,e,s){const t=a.slice();return t[38]=e[s],t}const ma=a=>({}),rn=a=>({}),ga=a=>({}),cn=a=>({});function ba(a){let e,s,t,i,l,r,p,c,h,b,k,_,v,w,L,n,o,u,d=a[7][Fn]+"",m,g,y,R="Category",C,N,V="Modality",T,P,B="Metadata",q,J,pe="Version",Se,Re,O,j,U,Ue,ie,Me,ae,Be,je=a[5]===1?"task":"tasks",Ye,be;const nt=a[15]["extra-columns-colgroup"],de=Qt(nt,a,a[14],cn),Ne=a[15]["extra-columns-header"],he=Qt(Ne,a,a[14],rn);let ke=ht(a[1]),se=[];for(let z=0;z<ke.length;z+=1)se[z]=mn(nn(a,ke,z));const ut=z=>ce(se[z],1,1,()=>{se[z]=null});return{c(){e=D("div"),s=D("div"),t=D("table"),i=D("colgroup"),l=D("col"),r=W(),p=D("col"),c=W(),h=D("col"),b=W(),k=D("col"),_=W(),v=D("col"),w=W(),de&&de.c(),L=W(),n=D("thead"),o=D("tr"),u=D("th"),m=Oe(d),g=W(),y=D("th"),y.textContent=R,C=W(),N=D("th"),N.textContent=V,T=W(),P=D("th"),P.textContent=B,q=W(),J=D("th"),J.textContent=pe,Se=W(),he&&he.c(),Re=W(),O=D("tbody");for(let z=0;z<se.length;z+=1)se[z].c();j=W(),U=D("p"),Ue=Oe("Showing "),ie=Oe(a[6]),Me=Oe(" of "),ae=Oe(a[5]),Be=W(),Ye=Oe(je),this.h()},l(z){e=M(z,"DIV",{class:!0});var te=G(e);s=M(te,"DIV",{class:!0});var ne=G(s);t=M(ne,"TABLE",{class:!0,id:!0});var Le=G(t);i=M(Le,"COLGROUP",{});var we=G(i);l=M(we,"COL",{}),r=Y(we),p=M(we,"COL",{}),c=Y(we),h=M(we,"COL",{}),b=Y(we),k=M(we,"COL",{}),_=Y(we),v=M(we,"COL",{width:!0}),w=Y(we),de&&de.l(we),we.forEach(x),L=Y(Le),n=M(Le,"THEAD",{});var yt=G(n);o=M(yt,"TR",{});var fe=G(o);u=M(fe,"TH",{class:!0});var Xe=G(u);m=xe(Xe,d),Xe.forEach(x),g=Y(fe),y=M(fe,"TH",{class:!0,"data-svelte-h":!0}),$e(y)!=="svelte-10ppr1q"&&(y.textContent=R),C=Y(fe),N=M(fe,"TH",{class:!0,"data-svelte-h":!0}),$e(N)!=="svelte-slk3w9"&&(N.textContent=V),T=Y(fe),P=M(fe,"TH",{class:!0,"data-svelte-h":!0}),$e(P)!=="svelte-v7n8cf"&&(P.textContent=B),q=Y(fe),J=M(fe,"TH",{class:!0,"data-svelte-h":!0}),$e(J)!=="svelte-1mhdjxa"&&(J.textContent=pe),Se=Y(fe),he&&he.l(fe),fe.forEach(x),yt.forEach(x),Re=Y(Le),O=M(Le,"TBODY",{});var Ge=G(O);for(let it=0;it<se.length;it+=1)se[it].l(Ge);Ge.forEach(x),Le.forEach(x),ne.forEach(x),te.forEach(x),j=Y(z),U=M(z,"P",{class:!0});var Ee=G(U);Ue=xe(Ee,"Showing "),ie=xe(Ee,a[6]),Me=xe(Ee," of "),ae=xe(Ee,a[5]),Be=Y(Ee),Ye=xe(Ee,je),Ee.forEach(x),this.h()},h(){H(v,"width","120"),H(u,"class","svelte-1h5c2ka"),H(y,"class","svelte-1h5c2ka"),H(N,"class","svelte-1h5c2ka"),H(P,"class","svelte-1h5c2ka"),H(J,"class","svelte-1h5c2ka"),H(t,"class","table table-borderless svelte-1h5c2ka"),H(t,"id","filtered-tasks-table"),H(s,"class","card-body p-0"),H(e,"class","card"),H(U,"class","mt-3 text-center mb-0")},m(z,te){X(z,e,te),S(e,s),S(s,t),S(t,i),S(i,l),S(i,r),S(i,p),S(i,c),S(i,h),S(i,b),S(i,k),S(i,_),S(i,v),S(i,w),de&&de.m(i,null),S(t,L),S(t,n),S(n,o),S(o,u),S(u,m),S(o,g),S(o,y),S(o,C),S(o,N),S(o,T),S(o,P),S(o,q),S(o,J),S(o,Se),he&&he.m(o,null),S(t,Re),S(t,O);for(let ne=0;ne<se.length;ne+=1)se[ne]&&se[ne].m(O,null);X(z,j,te),X(z,U,te),S(U,Ue),S(U,ie),S(U,Me),S(U,ae),S(U,Be),S(U,Ye),be=!0},p(z,te){if(de&&de.p&&(!be||te[0]&16384)&&Kt(de,nt,z,z[14],be?ts(nt,z[14],te,ga):es(z[14]),cn),he&&he.p&&(!be||te[0]&16384)&&Kt(he,Ne,z,z[14],be?ts(Ne,z[14],te,ma):es(z[14]),rn),te[0]&16410){ke=ht(z[1]);let ne;for(ne=0;ne<ke.length;ne+=1){const Le=nn(z,ke,ne);se[ne]?(se[ne].p(Le,te),oe(se[ne],1)):(se[ne]=mn(Le),se[ne].c(),oe(se[ne],1),se[ne].m(O,null))}for(rt(),ne=ke.length;ne<se.length;ne+=1)ut(ne);ct()}(!be||te[0]&64)&&De(ie,z[6]),(!be||te[0]&32)&&De(ae,z[5]),(!be||te[0]&32)&&je!==(je=z[5]===1?"task":"tasks")&&De(Ye,je)},i(z){if(!be){oe(de,z),oe(he,z);for(let te=0;te<ke.length;te+=1)oe(se[te]);be=!0}},o(z){ce(de,z),ce(he,z),se=se.filter(Boolean);for(let te=0;te<se.length;te+=1)ce(se[te]);be=!1},d(z){z&&(x(e),x(j),x(U)),de&&de.d(z),he&&he.d(z),hs(se,z)}}}function ka(a){let e,s=`There are no available tasks. You can add new tasks on the
		<a href="/v2/tasks/management">Tasks management</a> page.`;return{c(){e=D("p"),e.innerHTML=s},l(t){e=M(t,"P",{"data-svelte-h":!0}),$e(e)!=="svelte-1jz05g4"&&(e.innerHTML=s)},m(t,i){X(t,e,i)},p:Qe,i:Qe,o:Qe,d(t){t&&x(e)}}}function hn(a){let e,s,t,i,l,r,p,c,h=bn(a[35].taskVersions[a[35].selectedVersion])+"",b,k,_,v,w,L,n;function o(T,P){return T[35].taskVersions[T[35].selectedVersion].docs_link?ya:wa}let u=o(a),d=u(a),m=a[35].taskVersions[a[35].selectedVersion].category&&un(a),g=a[35].taskVersions[a[35].selectedVersion].modality&&pn(a);function y(T,P){return P[0]&2&&(v=null),v==null&&(v=Object.keys(T[35].taskVersions).length>1),v?va:_a}let R=y(a,[-1,-1]),C=R(a);const N=a[15]["extra-columns"],V=Qt(N,a,a[14],ln);return{c(){e=D("tr"),s=D("td"),d.c(),t=W(),i=D("td"),m&&m.c(),l=W(),r=D("td"),g&&g.c(),p=W(),c=D("td"),b=Oe(h),k=W(),_=D("td"),C.c(),w=W(),V&&V.c(),L=W(),this.h()},l(T){e=M(T,"TR",{});var P=G(e);s=M(P,"TD",{class:!0});var B=G(s);d.l(B),B.forEach(x),t=Y(P),i=M(P,"TD",{class:!0});var q=G(i);m&&m.l(q),q.forEach(x),l=Y(P),r=M(P,"TD",{class:!0});var J=G(r);g&&g.l(J),J.forEach(x),p=Y(P),c=M(P,"TD",{class:!0});var pe=G(c);b=xe(pe,h),pe.forEach(x),k=Y(P),_=M(P,"TD",{class:!0});var Se=G(_);C.l(Se),Se.forEach(x),w=Y(P),V&&V.l(P),L=Y(P),P.forEach(x),this.h()},h(){H(s,"class","task-name-col svelte-1h5c2ka"),H(i,"class","svelte-1h5c2ka"),H(r,"class","svelte-1h5c2ka"),H(c,"class","metadata-col svelte-1h5c2ka"),H(_,"class","version-col svelte-1h5c2ka")},m(T,P){X(T,e,P),S(e,s),d.m(s,null),S(e,t),S(e,i),m&&m.m(i,null),S(e,l),S(e,r),g&&g.m(r,null),S(e,p),S(e,c),S(c,b),S(e,k),S(e,_),C.m(_,null),S(e,w),V&&V.m(e,null),S(e,L),n=!0},p(T,P){u===(u=o(T))&&d?d.p(T,P):(d.d(1),d=u(T),d&&(d.c(),d.m(s,null))),T[35].taskVersions[T[35].selectedVersion].category?m?(m.p(T,P),P[0]&2&&oe(m,1)):(m=un(T),m.c(),oe(m,1),m.m(i,null)):m&&(rt(),ce(m,1,1,()=>{m=null}),ct()),T[35].taskVersions[T[35].selectedVersion].modality?g?(g.p(T,P),P[0]&2&&oe(g,1)):(g=pn(T),g.c(),oe(g,1),g.m(r,null)):g&&(rt(),ce(g,1,1,()=>{g=null}),ct()),(!n||P[0]&2)&&h!==(h=bn(T[35].taskVersions[T[35].selectedVersion])+"")&&De(b,h),R===(R=y(T,P))&&C?C.p(T,P):(C.d(1),C=R(T),C&&(C.c(),C.m(_,null))),V&&V.p&&(!n||P[0]&16386)&&Kt(V,N,T,T[14],n?ts(N,T[14],P,fa):es(T[14]),ln)},i(T){n||(oe(m),oe(g),oe(V,T),n=!0)},o(T){ce(m),ce(g),ce(V,T),n=!1},d(T){T&&x(e),d.d(),m&&m.d(),g&&g.d(),C.d(),V&&V.d(T)}}}function wa(a){let e=a[35].taskVersions[a[35].selectedVersion].task_name+"",s;return{c(){s=Oe(e)},l(t){s=xe(t,e)},m(t,i){X(t,s,i)},p(t,i){i[0]&2&&e!==(e=t[35].taskVersions[t[35].selectedVersion].task_name+"")&&De(s,e)},d(t){t&&x(s)}}}function ya(a){let e,s=a[35].taskVersions[a[35].selectedVersion].task_name+"",t,i;return{c(){e=D("a"),t=Oe(s),this.h()},l(l){e=M(l,"A",{href:!0,target:!0});var r=G(e);t=xe(r,s),r.forEach(x),this.h()},h(){H(e,"href",i=a[35].taskVersions[a[35].selectedVersion].docs_link),H(e,"target","_blank")},m(l,r){X(l,e,r),S(e,t)},p(l,r){r[0]&2&&s!==(s=l[35].taskVersions[l[35].selectedVersion].task_name+"")&&De(t,s),r[0]&2&&i!==(i=l[35].taskVersions[l[35].selectedVersion].docs_link)&&H(e,"href",i)},d(l){l&&x(e)}}}function un(a){let e,s,t,i,l;s=new Hn({props:{value:a[35].taskVersions[a[35].selectedVersion].category}});function r(){return a[17](a[35])}return{c(){e=D("button"),us(s.$$.fragment),this.h()},l(p){e=M(p,"BUTTON",{class:!0});var c=G(e);ps(s.$$.fragment,c),c.forEach(x),this.h()},h(){H(e,"class","btn btn-link p-0")},m(p,c){X(p,e,c),ds(s,e,null),t=!0,i||(l=Ke(e,"click",r),i=!0)},p(p,c){a=p;const h={};c[0]&2&&(h.value=a[35].taskVersions[a[35].selectedVersion].category),s.$set(h)},i(p){t||(oe(s.$$.fragment,p),t=!0)},o(p){ce(s.$$.fragment,p),t=!1},d(p){p&&x(e),fs(s),i=!1,l()}}}function pn(a){let e,s,t,i,l;s=new Hn({props:{value:a[35].taskVersions[a[35].selectedVersion].modality}});function r(){return a[18](a[35])}return{c(){e=D("button"),us(s.$$.fragment),this.h()},l(p){e=M(p,"BUTTON",{class:!0});var c=G(e);ps(s.$$.fragment,c),c.forEach(x),this.h()},h(){H(e,"class","btn btn-link p-0")},m(p,c){X(p,e,c),ds(s,e,null),t=!0,i||(l=Ke(e,"click",r),i=!0)},p(p,c){a=p;const h={};c[0]&2&&(h.value=a[35].taskVersions[a[35].selectedVersion].modality),s.$set(h)},i(p){t||(oe(s.$$.fragment,p),t=!0)},o(p){ce(s.$$.fragment,p),t=!1},d(p){p&&x(e),fs(s),i=!1,l()}}}function _a(a){let e=a[35].taskVersions[a[35].selectedVersion].version+"",s;return{c(){s=Oe(e)},l(t){s=xe(t,e)},m(t,i){X(t,s,i)},p(t,i){i[0]&2&&e!==(e=t[35].taskVersions[t[35].selectedVersion].version+"")&&De(s,e)},d(t){t&&x(s)}}}function va(a){let e,s,t,i,l=ht(ls(Object.keys(a[35].taskVersions))),r=[];for(let c=0;c<l.length;c+=1)r[c]=dn(on(a,l,c));function p(){a[19].call(e,a[36],a[37])}return{c(){e=D("select");for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=M(c,"SELECT",{class:!0,"aria-label":!0});var h=G(e);for(let b=0;b<r.length;b+=1)r[b].l(h);h.forEach(x),this.h()},h(){H(e,"class","form-select"),H(e,"aria-label",s="Version for task "+a[35].taskVersions[a[35].selectedVersion].task_name),a[35].selectedVersion===void 0&&Yn(p)},m(c,h){X(c,e,h);for(let b=0;b<r.length;b+=1)r[b]&&r[b].m(e,null);Ps(e,a[35].selectedVersion,!0),t||(i=Ke(e,"change",p),t=!0)},p(c,h){if(a=c,h[0]&2){l=ht(ls(Object.keys(a[35].taskVersions)));let b;for(b=0;b<l.length;b+=1){const k=on(a,l,b);r[b]?r[b].p(k,h):(r[b]=dn(k),r[b].c(),r[b].m(e,null))}for(;b<r.length;b+=1)r[b].d(1);r.length=l.length}h[0]&2&&s!==(s="Version for task "+a[35].taskVersions[a[35].selectedVersion].task_name)&&H(e,"aria-label",s),h[0]&2&&Ps(e,a[35].selectedVersion)},d(c){c&&x(e),hs(r,c),t=!1,i()}}}function dn(a){let e,s=(a[38]||"None")+"",t,i;return{c(){e=D("option"),t=Oe(s),this.h()},l(l){e=M(l,"OPTION",{});var r=G(e);t=xe(r,s),r.forEach(x),this.h()},h(){e.__value=i=a[38],Ht(e,e.__value)},m(l,r){X(l,e,r),S(e,t)},p(l,r){r[0]&2&&s!==(s=(l[38]||"None")+"")&&De(t,s),r[0]&2&&i!==(i=l[38])&&(e.__value=i,Ht(e,e.__value))},d(l){l&&x(e)}}}function fn(a){let e,s,t=a[35].taskVersions[a[35].selectedVersion]&&hn(a);return{c(){t&&t.c(),e=We()},l(i){t&&t.l(i),e=We()},m(i,l){t&&t.m(i,l),X(i,e,l),s=!0},p(i,l){i[35].taskVersions[i[35].selectedVersion]?t?(t.p(i,l),l[0]&2&&oe(t,1)):(t=hn(i),t.c(),oe(t,1),t.m(e.parentNode,e)):t&&(rt(),ce(t,1,1,()=>{t=null}),ct())},i(i){s||(oe(t),s=!0)},o(i){ce(t),s=!1},d(i){i&&x(e),t&&t.d(i)}}}function mn(a){let e,s,t=a[32].groupTitle+"",i,l,r,p,c=ht(a[32].tasks),h=[];for(let k=0;k<c.length;k+=1)h[k]=fn(an(a,c,k));const b=k=>ce(h[k],1,1,()=>{h[k]=null});return{c(){e=D("tr"),s=D("th"),i=Oe(t),l=W();for(let k=0;k<h.length;k+=1)h[k].c();r=We(),this.h()},l(k){e=M(k,"TR",{class:!0});var _=G(e);s=M(_,"TH",{colspan:!0,class:!0});var v=G(s);i=xe(v,t),v.forEach(x),_.forEach(x),l=Y(k);for(let w=0;w<h.length;w+=1)h[w].l(k);r=We(),this.h()},h(){H(s,"colspan","3"),H(s,"class","svelte-1h5c2ka"),H(e,"class","border-top")},m(k,_){X(k,e,_),S(e,s),S(s,i),X(k,l,_);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(k,_);X(k,r,_),p=!0},p(k,_){if((!p||_[0]&2)&&t!==(t=k[32].groupTitle+"")&&De(i,t),_[0]&16410){c=ht(k[32].tasks);let v;for(v=0;v<c.length;v+=1){const w=an(k,c,v);h[v]?(h[v].p(w,_),oe(h[v],1)):(h[v]=fn(w),h[v].c(),oe(h[v],1),h[v].m(r.parentNode,r))}for(rt(),v=c.length;v<h.length;v+=1)b(v);ct()}},i(k){if(!p){for(let _=0;_<c.length;_+=1)oe(h[_]);p=!0}},o(k){h=h.filter(Boolean);for(let _=0;_<h.length;_+=1)ce(h[_]);p=!1},d(k){k&&(x(e),x(l),x(r)),hs(h,k)}}}function Ea(a){let e,s,t,i,l="Filter tasks",r,p,c,h,b,k,_,v,w,L="Reset",n,o,u='<div class="col"><select id="package-filter" class="invisible"></select></div> <div class="col"><select id="category-filter" class="invisible"></select></div> <div class="col"><select id="modality-filter" class="invisible"></select></div> <div class="col"><select id="tag-filter" class="invisible"></select></div>',d,m,g,y,R,C,N;const V=[ka,ba],T=[];function P(B,q){return B[0].length===0?0:1}return m=P(a),g=T[m]=V[m](a),{c(){e=D("div"),s=D("div"),t=D("div"),i=D("div"),i.textContent=l,r=W(),p=D("div"),c=D("div"),h=D("div"),b=D("div"),k=D("input"),_=W(),v=D("div"),w=D("button"),w.textContent=L,n=W(),o=D("div"),o.innerHTML=u,d=W(),g.c(),y=We(),this.h()},l(B){e=M(B,"DIV",{class:!0});var q=G(e);s=M(q,"DIV",{class:!0});var J=G(s);t=M(J,"DIV",{class:!0});var pe=G(t);i=M(pe,"DIV",{class:!0,"data-svelte-h":!0}),$e(i)!=="svelte-gyxyme"&&(i.textContent=l),r=Y(pe),p=M(pe,"DIV",{class:!0});var Se=G(p);c=M(Se,"DIV",{class:!0});var Re=G(c);h=M(Re,"DIV",{class:!0});var O=G(h);b=M(O,"DIV",{class:!0});var j=G(b);k=M(j,"INPUT",{type:!0,class:!0,placeholder:!0}),j.forEach(x),O.forEach(x),_=Y(Re),v=M(Re,"DIV",{});var U=G(v);w=M(U,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(w)!=="svelte-1iagwg6"&&(w.textContent=L),U.forEach(x),Re.forEach(x),Se.forEach(x),pe.forEach(x),n=Y(J),o=M(J,"DIV",{class:!0,"data-svelte-h":!0}),$e(o)!=="svelte-1t55mms"&&(o.innerHTML=u),J.forEach(x),q.forEach(x),d=Y(B),g.l(B),y=We(),this.h()},h(){H(i,"class","col-3 col-lg-6"),H(k,"type","text"),H(k,"class","form-control ms-auto"),H(k,"placeholder","Search..."),H(b,"class","input-group input-group-sm"),H(h,"class","flex-fill"),H(w,"class","btn btn-outline-secondary btn-sm ms-3"),H(c,"class","d-flex"),H(p,"class","col-9 col-lg-6"),H(t,"class","row mb-2"),H(o,"class","row"),H(s,"class","card-body"),H(e,"class","card mb-2"),St(e,"invisible",a[0].length===0),St(e,"collapse",a[0].length===0)},m(B,q){X(B,e,q),S(e,s),S(s,t),S(t,i),S(t,r),S(t,p),S(p,c),S(c,h),S(h,b),S(b,k),Ht(k,a[2]),S(c,_),S(c,v),S(v,w),S(s,n),S(s,o),X(B,d,q),T[m].m(B,q),X(B,y,q),R=!0,C||(N=[Ke(k,"input",a[16]),Ke(w,"click",a[8])],C=!0)},p(B,q){q[0]&4&&k.value!==B[2]&&Ht(k,B[2]),(!R||q[0]&1)&&St(e,"invisible",B[0].length===0),(!R||q[0]&1)&&St(e,"collapse",B[0].length===0);let J=m;m=P(B),m===J?T[m].p(B,q):(rt(),ce(T[J],1,1,()=>{T[J]=null}),ct(),g=T[m],g?g.p(B,q):(g=T[m]=V[m](B),g.c()),oe(g,1),g.m(y.parentNode,y))},i(B){R||(oe(g),R=!0)},o(B){ce(g),R=!1},d(B){B&&(x(e),x(d),x(y)),T[m].d(B),C=!1,Wn(N)}}}let Fn="pkg_name",Ta="";function Oa(a){return!0}function Dt(a,e,s){a==null||a.setData([{text:s,placeholder:!0},...e])}function gn(a,e){return[...new Set(a.flatMap(s=>s.task_list).map(e).filter(s=>s!==null))]}function Mt(a){return a.map(e=>({text:e,value:e}))}function bn(a){const e=[];return e.push(...a.tags),a.authors&&e.push(a.authors),e.join(", ")}function xa(a,e,s){let t,i,{$$slots:l={},$$scope:r}=e,{taskGroups:p}=e,c=[],h=[],b="",k,_="",v,w="",L,n="",o,u="",d={pkg_name:"Task"};function m(){p&&(B(p),s(0,c=oa(p,Fn)),g())}function g(){s(1,h=c.map(O=>{const j=O.tasks.filter(U=>y(U.taskVersions[U.selectedVersion]));return{...O,tasks:j}}).filter(O=>O.tasks.length>0))}function y(O){return R(O)&&C(O)&&N(O)&&T(O)&&V(O)&&Oa()}function R(O){if(!b)return!0;const j=b.toLowerCase();return O.task_name.toLowerCase().includes(j)||O.pkg_name.toLowerCase().includes(j)||O.category&&O.category.toLowerCase().includes(j)||O.modality&&O.modality.toLowerCase().includes(j)||O.authors&&O.authors.toLowerCase().includes(j)||Object.keys(O.input_types).find(U=>U.toLowerCase().includes(j))!==void 0||O.tags.find(U=>U.toLowerCase().includes(j))!==void 0}function C(O){return _?O.category!==null&&O.category===_:!0}function N(O){return w?O.modality!==null&&O.modality===w:!0}function V(O){return n?O.pkg_name===n:!0}function T(O){return u?O.tags.find(j=>j===u)!==void 0:!0}function P(){s(2,b=""),s(10,_=""),k==null||k.setSelected(""),v==null||v.setSelected(""),L==null||L.setSelected(""),o==null||o.setSelected("")}function B(O){Dt(k,Mt(gn(O,j=>j.category)),"Category"),Dt(v,Mt(gn(O,j=>j.modality)),"Modality"),Dt(L,Mt([...new Set(O.map(j=>j.pkg_name))]),"Package"),Dt(o,Mt([...new Set(O.flatMap(j=>j.task_list).flatMap(j=>j.tags).filter(j=>j!==null))]),"Tag")}yn(()=>{s(3,k=q("category-filter","Select category","Category",O=>{s(10,_=O)})),s(4,v=q("modality-filter","Select modality","Modality",O=>{s(11,w=O)})),L=q("package-filter","Select package","Package",O=>{s(12,n=O)}),o=q("tag-filter","Select tag","Tag",O=>{s(13,u=O)}),m()});function q(O,j,U,Ue){const ie=document.getElementById(O);return ie==null||ie.classList.remove("invisible"),new ua({select:`#${O}`,settings:{showSearch:!0,allowDeselect:!0,ariaLabel:j},events:{afterChange:Me=>{Me.length===0||Me[0].value===U?Ue(""):Ue(Me[0].value)}}})}function J(){b=this.value,s(2,b)}const pe=O=>k==null?void 0:k.setSelected(O.taskVersions[O.selectedVersion].category),Se=O=>v==null?void 0:v.setSelected(O.taskVersions[O.selectedVersion].modality);function Re(O,j){O[j].selectedVersion=Jn(this),s(1,h),s(2,b),s(10,_),s(11,w),s(12,n),s(13,u),s(0,c)}return a.$$set=O=>{"taskGroups"in O&&s(9,p=O.taskGroups),"$$scope"in O&&s(14,r=O.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&512&&p&&m(),a.$$.dirty[0]&15365&&(b||_||w||n||u||Ta?g():s(1,h=c)),a.$$.dirty[0]&2&&s(6,t=h.reduce((O,j)=>O+j.tasks.length,0)),a.$$.dirty[0]&1&&s(5,i=c.reduce((O,j)=>O+j.tasks.length,0))},[c,h,b,k,v,i,t,d,P,p,_,w,n,u,r,l,J,pe,Se,Re]}class Sa extends rs{constructor(e){super(),cs(this,e,xa,Ea,os,{taskGroups:9},null,[-1,-1])}}function Ra(a){let e,s,t;return{c(){e=D("col"),s=W(),t=D("col"),this.h()},l(i){e=M(i,"COL",{width:!0}),s=Y(i),t=M(i,"COL",{width:!0}),this.h()},h(){H(e,"width","60"),H(t,"width","60")},m(i,l){X(i,e,l),X(i,s,l),X(i,t,l)},p:Qe,d(i){i&&(x(e),x(s),x(t))}}}function Aa(a){let e,s,t;return{c(){e=D("th"),s=W(),t=D("th")},l(i){e=M(i,"TH",{}),G(e).forEach(x),s=Y(i),t=M(i,"TH",{}),G(t).forEach(x)},m(i,l){X(i,e,l),X(i,s,l),X(i,t,l)},p:Qe,d(i){i&&(x(e),x(s),x(t))}}}function kn(a){let e,s='<i class="bi bi-info-circle"></i>',t,i;function l(){return a[4](a[6])}return{c(){e=D("button"),e.innerHTML=s,this.h()},l(r){e=M(r,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-bdzzj"&&(e.innerHTML=s),this.h()},h(){H(e,"class","btn btn-info")},m(r,p){X(r,e,p),t||(i=Ke(e,"click",l),t=!0)},p(r,p){a=r},d(r){r&&x(e),t=!1,i()}}}function wn(a){let e,s='<i class="bi bi-plus-circle"></i>',t,i;function l(){return a[5](a[6])}return{c(){e=D("button"),e.innerHTML=s,this.h()},l(r){e=M(r,"BUTTON",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-p07edj"&&(e.innerHTML=s),this.h()},h(){H(e,"class","btn btn-primary me-2")},m(r,p){X(r,e,p),t||(i=Ke(e,"click",l),t=!0)},p(r,p){a=r},d(r){r&&x(e),t=!1,i()}}}function La(a){let e,s,t,i=a[6].docs_info&&kn(a),l=a[6].install_instructions&&wn(a);return{c(){e=D("td"),i&&i.c(),s=W(),t=D("td"),l&&l.c()},l(r){e=M(r,"TD",{});var p=G(e);i&&i.l(p),p.forEach(x),s=Y(r),t=M(r,"TD",{});var c=G(t);l&&l.l(c),c.forEach(x)},m(r,p){X(r,e,p),i&&i.m(e,null),X(r,s,p),X(r,t,p),l&&l.m(t,null)},p(r,p){r[6].docs_info?i?i.p(r,p):(i=kn(r),i.c(),i.m(e,null)):i&&(i.d(1),i=null),r[6].install_instructions?l?l.p(r,p):(l=wn(r),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(r){r&&(x(e),x(s),x(t)),i&&i.d(),l&&l.d()}}}function Ca(a){var o;let e,s,t,i,l,r,p,c=((o=a[1])==null?void 0:o.task_name)+"",h,b,k,_,v,w,L=a[0](a[2])+"",n;return e=new Sa({props:{taskGroups:Hi,$$slots:{"extra-columns":[La,({task:u})=>({6:u}),({task:u})=>u?64:0],"extra-columns-header":[Aa],"extra-columns-colgroup":[Ra]},$$scope:{ctx:a}}}),{c(){us(e.$$.fragment),s=W(),t=D("div"),i=D("div"),l=D("div"),r=D("div"),p=D("h5"),h=Oe(c),b=W(),k=D("button"),_=W(),v=D("div"),w=new Qn(!1),this.h()},l(u){ps(e.$$.fragment,u),s=Y(u),t=M(u,"DIV",{class:!0,id:!0,tabindex:!0});var d=G(t);i=M(d,"DIV",{class:!0});var m=G(i);l=M(m,"DIV",{class:!0});var g=G(l);r=M(g,"DIV",{class:!0});var y=G(r);p=M(y,"H5",{class:!0});var R=G(p);h=xe(R,c),R.forEach(x),b=Y(y),k=M(y,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),G(k).forEach(x),y.forEach(x),_=Y(g),v=M(g,"DIV",{class:!0});var C=G(v);w=Kn(C,!1),C.forEach(x),g.forEach(x),m.forEach(x),d.forEach(x),this.h()},h(){H(p,"class","modal-title"),H(k,"type","button"),H(k,"class","btn-close"),H(k,"data-bs-dismiss","modal"),H(k,"aria-label","Close"),H(r,"class","modal-header"),w.a=null,H(v,"class","modal-body"),H(l,"class","modal-content"),H(i,"class","modal-dialog modal-dialog-scrollable"),H(t,"class","modal modal-xl"),H(t,"id","task-info-modal"),H(t,"tabindex","-1")},m(u,d){ds(e,u,d),X(u,s,d),X(u,t,d),S(t,i),S(i,l),S(l,r),S(r,p),S(p,h),S(r,b),S(r,k),S(l,_),S(l,v),w.m(L,v),n=!0},p(u,[d]){var g;const m={};d&192&&(m.$$scope={dirty:d,ctx:u}),e.$set(m),(!n||d&2)&&c!==(c=((g=u[1])==null?void 0:g.task_name)+"")&&De(h,c),(!n||d&4)&&L!==(L=u[0](u[2])+"")&&w.p(L)},i(u){n||(oe(e.$$.fragment,u),n=!0)},o(u){ce(e.$$.fragment,u),n=!1},d(u){u&&(x(s),x(t)),fs(e,u)}}}function Ia(a){const e=document.getElementById(a),s=bootstrap.Modal.getInstance(e);return s||new bootstrap.Modal(e)}function Da(a,e,s){let t=null,i="";function l(h,b){s(1,t=h),s(2,i=b),Ia("task-info-modal").show()}function r(h){return h?Pi.sanitize(K.parse(h)):""}return[r,t,i,l,h=>l(h,h.docs_info),h=>l(h,h.install_instructions)]}class Fa extends rs{constructor(e){super(),cs(this,e,Da,Ca,os,{formatMarkdown:0})}get formatMarkdown(){return this.$$.ctx[0]}}export{Fa as component};
