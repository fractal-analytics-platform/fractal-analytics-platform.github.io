var Xn=Object.defineProperty;var Ds=a=>{throw TypeError(a)};var Zn=(a,e,s)=>e in a?Xn(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var Q=(a,e,s)=>Zn(a,typeof e!="symbol"?e+"":e,s),qn=(a,e,s)=>e.has(a)||Ds("Cannot "+s);var Ms=(a,e,s)=>e.has(a)?Ds("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,s);var St=(a,e,s)=>(qn(a,e,"access private method"),s);import{s as os,n as Qe,o as wn,r as Wn,c as Qt,u as Kt,g as es,a as ts,k as Yn}from"../chunks/scheduler.BvLojk_z.js";import{S as rs,i as cs,m as We,j as q,g as S,e as D,b as Oe,c as M,d as j,f as Se,p as Ns,o as F,k as x,l as De,s as W,y as He,h as Y,z as xt,A as Ft,B as Ke,q as rt,a as ce,n as ct,t as oe,C as Jn,D as hs,u as us,v as ps,w as ds,x as fs,E as Ps,H as Qn,F as Kn}from"../chunks/index.fIxOdhEb.js";import{_ as ei}from"../chunks/preload-helper.C1FmrZbK.js";function ht(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function ms(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let st=ms();function yn(a){st=a}const vn=/[&<>"']/,ti=new RegExp(vn.source,"g"),En=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,si=new RegExp(En.source,"g"),ni={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fs=a=>ni[a];function ge(a,e){if(e){if(vn.test(a))return a.replace(ti,Fs)}else if(En.test(a))return a.replace(si,Fs);return a}const ii=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Tn(a){return a.replace(ii,(e,s)=>(s=s.toLowerCase(),s==="colon"?":":s.charAt(0)==="#"?s.charAt(1)==="x"?String.fromCharCode(parseInt(s.substring(2),16)):String.fromCharCode(+s.substring(1)):""))}const ai=/(^|[^\[])\^/g;function ee(a,e){a=typeof a=="string"?a:a.source,e=e||"";const s={replace:(t,i)=>(i=typeof i=="object"&&"source"in i?i.source:i,i=i.replace(ai,"$1"),a=a.replace(t,i),s),getRegex:()=>new RegExp(a,e)};return s}const li=/[^\w:]/g,oi=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function $s(a,e,s){if(a){let t;try{t=decodeURIComponent(Tn(s)).replace(li,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}e&&!oi.test(s)&&(s=ui(e,s));try{s=encodeURI(s).replace(/%25/g,"%")}catch{return null}return s}const Lt={},ri=/^[^:]+:\/*[^/]*$/,ci=/^([^:]+:)[\s\S]*$/,hi=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ui(a,e){Lt[" "+a]||(ri.test(a)?Lt[" "+a]=a+"/":Lt[" "+a]=Nt(a,"/",!0)),a=Lt[" "+a];const s=a.indexOf(":")===-1;return e.substring(0,2)==="//"?s?e:a.replace(ci,"$1")+e:e.charAt(0)==="/"?s?e:a.replace(hi,"$1")+e:a+e}const $t={exec:()=>null};function Hs(a,e){const s=a.replace(/\|/g,(l,r,p)=>{let c=!1,h=r;for(;--h>=0&&p[h]==="\\";)c=!c;return c?"|":" |"}),t=s.split(/ \|/);let i=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;i<t.length;i++)t[i]=t[i].trim().replace(/\\\|/g,"|");return t}function Nt(a,e,s){const t=a.length;if(t===0)return"";let i=0;for(;i<t;){const l=a.charAt(t-i-1);if(l===e&&!s)i++;else if(l!==e&&s)i++;else break}return a.slice(0,t-i)}function pi(a,e){if(a.indexOf(e[1])===-1)return-1;let s=0;for(let t=0;t<a.length;t++)if(a[t]==="\\")t++;else if(a[t]===e[0])s++;else if(a[t]===e[1]&&(s--,s<0))return t;return-1}function di(a,e){!a||a.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(a.sanitize||a.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(a.highlight||a.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),a.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),a.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),a.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),a.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(a.headerIds||a.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function zs(a,e,s,t){const i=e.href,l=e.title?ge(e.title):null,r=a[1].replace(/\\([\[\]])/g,"$1");if(a[0].charAt(0)!=="!"){t.state.inLink=!0;const p={type:"link",raw:s,href:i,title:l,text:r,tokens:t.inlineTokens(r)};return t.state.inLink=!1,p}return{type:"image",raw:s,href:i,title:l,text:ge(r)}}function fi(a,e){const s=a.match(/^(\s+)(?:```)/);if(s===null)return e;const t=s[1];return e.split(`
`).map(i=>{const l=i.match(/^\s+/);if(l===null)return i;const[r]=l;return r.length>=t.length?i.slice(t.length):i}).join(`
`)}class Ht{constructor(e){Q(this,"options");Q(this,"rules");Q(this,"lexer");this.options=e||st}space(e){const s=this.rules.block.newline.exec(e);if(s&&s[0].length>0)return{type:"space",raw:s[0]}}code(e){const s=this.rules.block.code.exec(e);if(s){const t=s[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:s[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Nt(t,`
`)}}}fences(e){const s=this.rules.block.fences.exec(e);if(s){const t=s[0],i=fi(t,s[3]||"");return{type:"code",raw:t,lang:s[2]?s[2].trim().replace(this.rules.inline._escapes,"$1"):s[2],text:i}}}heading(e){const s=this.rules.block.heading.exec(e);if(s){let t=s[2].trim();if(/#$/.test(t)){const i=Nt(t,"#");(this.options.pedantic||!i||/ $/.test(i))&&(t=i.trim())}return{type:"heading",raw:s[0],depth:s[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){const s=this.rules.block.hr.exec(e);if(s)return{type:"hr",raw:s[0]}}blockquote(e){const s=this.rules.block.blockquote.exec(e);if(s){const t=s[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const l=this.lexer.blockTokens(t);return this.lexer.state.top=i,{type:"blockquote",raw:s[0],tokens:l,text:t}}}list(e){let s=this.rules.block.list.exec(e);if(s){let t=s[1].trim();const i=t.length>1,l={type:"list",raw:"",ordered:i,start:i?+t.slice(0,-1):"",loose:!1,items:[]};t=i?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=i?t:"[*+-]");const r=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`);let p="",c="",h=!1;for(;e;){let b=!1;if(!(s=r.exec(e))||this.rules.block.hr.test(e))break;p=s[0],e=e.substring(p.length);let k=s[2].split(`
`,1)[0].replace(/^\t+/,o=>" ".repeat(3*o.length)),y=e.split(`
`,1)[0],v=0;this.options.pedantic?(v=2,c=k.trimLeft()):(v=s[2].search(/[^ ]/),v=v>4?1:v,c=k.slice(v),v+=s[1].length);let _=!1;if(!k&&/^ *$/.test(y)&&(p+=y+`
`,e=e.substring(y.length+1),b=!0),!b){const o=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),u=new RegExp(`^ {0,${Math.min(3,v-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),d=new RegExp(`^ {0,${Math.min(3,v-1)}}(?:\`\`\`|~~~)`),m=new RegExp(`^ {0,${Math.min(3,v-1)}}#`);for(;e;){const g=e.split(`
`,1)[0];if(y=g,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),d.test(y)||m.test(y)||o.test(y)||u.test(e))break;if(y.search(/[^ ]/)>=v||!y.trim())c+=`
`+y.slice(v);else{if(_||k.search(/[^ ]/)>=4||d.test(k)||m.test(k)||u.test(k))break;c+=`
`+y}!_&&!y.trim()&&(_=!0),p+=g+`
`,e=e.substring(g.length+1),k=y.slice(v)}}l.loose||(h?l.loose=!0:/\n *\n *$/.test(p)&&(h=!0));let C=null,n;this.options.gfm&&(C=/^\[[ xX]\] /.exec(c),C&&(n=C[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),l.items.push({type:"list_item",raw:p,task:!!C,checked:n,loose:!1,text:c,tokens:[]}),l.raw+=p}l.items[l.items.length-1].raw=p.trimRight(),l.items[l.items.length-1].text=c.trimRight(),l.raw=l.raw.trimRight();for(let b=0;b<l.items.length;b++)if(this.lexer.state.top=!1,l.items[b].tokens=this.lexer.blockTokens(l.items[b].text,[]),!l.loose){const k=l.items[b].tokens.filter(v=>v.type==="space"),y=k.length>0&&k.some(v=>/\n.*\n/.test(v.raw));l.loose=y}if(l.loose)for(let b=0;b<l.items.length;b++)l.items[b].loose=!0;return l}}html(e){const s=this.rules.block.html.exec(e);if(s){const t={type:"html",block:!0,raw:s[0],pre:!this.options.sanitizer&&(s[1]==="pre"||s[1]==="script"||s[1]==="style"),text:s[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(s[0]):ge(s[0]),l=t;l.type="paragraph",l.text=i,l.tokens=this.lexer.inline(i)}return t}}def(e){const s=this.rules.block.def.exec(e);if(s){const t=s[1].toLowerCase().replace(/\s+/g," "),i=s[2]?s[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",l=s[3]?s[3].substring(1,s[3].length-1).replace(this.rules.inline._escapes,"$1"):s[3];return{type:"def",tag:t,raw:s[0],href:i,title:l}}}table(e){const s=this.rules.block.table.exec(e);if(s){const t={type:"table",raw:s[0],header:Hs(s[1]).map(i=>({text:i,tokens:[]})),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:s[3]&&s[3].trim()?s[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){let i=t.align.length,l,r,p,c;for(l=0;l<i;l++){const h=t.align[l];h&&(/^ *-+: *$/.test(h)?t.align[l]="right":/^ *:-+: *$/.test(h)?t.align[l]="center":/^ *:-+ *$/.test(h)?t.align[l]="left":t.align[l]=null)}for(i=t.rows.length,l=0;l<i;l++)t.rows[l]=Hs(t.rows[l],t.header.length).map(h=>({text:h,tokens:[]}));for(i=t.header.length,r=0;r<i;r++)t.header[r].tokens=this.lexer.inline(t.header[r].text);for(i=t.rows.length,r=0;r<i;r++)for(c=t.rows[r],p=0;p<c.length;p++)c[p].tokens=this.lexer.inline(c[p].text);return t}}}lheading(e){const s=this.rules.block.lheading.exec(e);if(s)return{type:"heading",raw:s[0],depth:s[2].charAt(0)==="="?1:2,text:s[1],tokens:this.lexer.inline(s[1])}}paragraph(e){const s=this.rules.block.paragraph.exec(e);if(s){const t=s[1].charAt(s[1].length-1)===`
`?s[1].slice(0,-1):s[1];return{type:"paragraph",raw:s[0],text:t,tokens:this.lexer.inline(t)}}}text(e){const s=this.rules.block.text.exec(e);if(s)return{type:"text",raw:s[0],text:s[0],tokens:this.lexer.inline(s[0])}}escape(e){const s=this.rules.inline.escape.exec(e);if(s)return{type:"escape",raw:s[0],text:ge(s[1])}}tag(e){const s=this.rules.inline.tag.exec(e);if(s)return!this.lexer.state.inLink&&/^<a /i.test(s[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(s[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:s[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):ge(s[0]):s[0]}}link(e){const s=this.rules.inline.link.exec(e);if(s){const t=s[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const r=Nt(t.slice(0,-1),"\\");if((t.length-r.length)%2===0)return}else{const r=pi(s[2],"()");if(r>-1){const c=(s[0].indexOf("!")===0?5:4)+s[1].length+r;s[2]=s[2].substring(0,r),s[0]=s[0].substring(0,c).trim(),s[3]=""}}let i=s[2],l="";if(this.options.pedantic){const r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);r&&(i=r[1],l=r[3])}else l=s[3]?s[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(t)?i=i.slice(1):i=i.slice(1,-1)),zs(s,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:l&&l.replace(this.rules.inline._escapes,"$1")},s[0],this.lexer)}}reflink(e,s){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let i=(t[2]||t[1]).replace(/\s+/g," ");if(i=s[i.toLowerCase()],!i){const l=t[0].charAt(0);return{type:"text",raw:l,text:l}}return zs(t,i,t[0],this.lexer)}}emStrong(e,s,t=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!t||this.rules.inline.punctuation.exec(t)){const r=[...i[0]].length-1;let p,c,h=r,b=0;const k=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,s=s.slice(-1*e.length+r);(i=k.exec(s))!=null;){if(p=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!p)continue;if(c=[...p].length,i[3]||i[4]){h+=c;continue}else if((i[5]||i[6])&&r%3&&!((r+c)%3)){b+=c;continue}if(h-=c,h>0)continue;c=Math.min(c,c+h+b);const y=[...e].slice(0,r+i.index+c+1).join("");if(Math.min(r,c)%2){const _=y.slice(1,-1);return{type:"em",raw:y,text:_,tokens:this.lexer.inlineTokens(_)}}const v=y.slice(2,-2);return{type:"strong",raw:y,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const s=this.rules.inline.code.exec(e);if(s){let t=s[2].replace(/\n/g," ");const i=/[^ ]/.test(t),l=/^ /.test(t)&&/ $/.test(t);return i&&l&&(t=t.substring(1,t.length-1)),t=ge(t,!0),{type:"codespan",raw:s[0],text:t}}}br(e){const s=this.rules.inline.br.exec(e);if(s)return{type:"br",raw:s[0]}}del(e){const s=this.rules.inline.del.exec(e);if(s)return{type:"del",raw:s[0],text:s[2],tokens:this.lexer.inlineTokens(s[2])}}autolink(e,s){const t=this.rules.inline.autolink.exec(e);if(t){let i,l;return t[2]==="@"?(i=ge(this.options.mangle?s(t[1]):t[1]),l="mailto:"+i):(i=ge(t[1]),l=i),{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(e,s){let t;if(t=this.rules.inline.url.exec(e)){let i,l;if(t[2]==="@")i=ge(this.options.mangle?s(t[0]):t[0]),l="mailto:"+i;else{let r;do r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(r!==t[0]);i=ge(t[0]),t[1]==="www."?l="http://"+t[0]:l=t[0]}return{type:"link",raw:t[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,s){const t=this.rules.inline.text.exec(e);if(t){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ge(t[0]):t[0]:i=ge(this.options.smartypants?s(t[0]):t[0]),{type:"text",raw:t[0],text:i}}}}const $={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:$t,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};$._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;$._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;$.def=ee($.def).replace("label",$._label).replace("title",$._title).getRegex();$.bullet=/(?:[*+-]|\d{1,9}[.)])/;$.listItemStart=ee(/^( *)(bull) */).replace("bull",$.bullet).getRegex();$.list=ee($.list).replace(/bull/g,$.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$.def.source+")").getRegex();$._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";$._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;$.html=ee($.html,"i").replace("comment",$._comment).replace("tag",$._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();$.lheading=ee($.lheading).replace(/bull/g,$.bullet).getRegex();$.paragraph=ee($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex();$.blockquote=ee($.blockquote).replace("paragraph",$.paragraph).getRegex();$.normal={...$};$.gfm={...$.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};$.gfm.table=ee($.gfm.table).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex();$.gfm.paragraph=ee($._paragraph).replace("hr",$.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$._tag).getRegex();$.pedantic={...$.normal,html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$t,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ee($.normal._paragraph).replace("hr",$.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",$.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const A={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:$t,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:$t,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};A._punctuation="\\p{P}$+<=>`^|~";A.punctuation=ee(A.punctuation,"u").replace(/punctuation/g,A._punctuation).getRegex();A.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;A.anyPunctuation=/\\[punct]/g;A._escapes=/\\([punct])/g;A._comment=ee($._comment).replace("(?:-->|$)","-->").getRegex();A.emStrong.lDelim=ee(A.emStrong.lDelim,"u").replace(/punct/g,A._punctuation).getRegex();A.emStrong.rDelimAst=ee(A.emStrong.rDelimAst,"gu").replace(/punct/g,A._punctuation).getRegex();A.emStrong.rDelimUnd=ee(A.emStrong.rDelimUnd,"gu").replace(/punct/g,A._punctuation).getRegex();A.anyPunctuation=ee(A.anyPunctuation,"gu").replace(/punct/g,A._punctuation).getRegex();A._escapes=ee(A._escapes,"gu").replace(/punct/g,A._punctuation).getRegex();A._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;A._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;A.autolink=ee(A.autolink).replace("scheme",A._scheme).replace("email",A._email).getRegex();A._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;A.tag=ee(A.tag).replace("comment",A._comment).replace("attribute",A._attribute).getRegex();A._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;A._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;A._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;A.link=ee(A.link).replace("label",A._label).replace("href",A._href).replace("title",A._title).getRegex();A.reflink=ee(A.reflink).replace("label",A._label).replace("ref",$._label).getRegex();A.nolink=ee(A.nolink).replace("ref",$._label).getRegex();A.reflinkSearch=ee(A.reflinkSearch,"g").replace("reflink",A.reflink).replace("nolink",A.nolink).getRegex();A.normal={...A};A.pedantic={...A.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",A._label).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",A._label).getRegex()};A.gfm={...A.normal,escape:ee(A.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};A.gfm.url=ee(A.gfm.url,"i").replace("email",A.gfm._extended_email).getRegex();A.breaks={...A.gfm,br:ee(A.br).replace("{2,}","*").getRegex(),text:ee(A.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function mi(a){return a.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Vs(a){let e="";for(let s=0;s<a.length;s++){const t=Math.random()>.5?"x"+a.charCodeAt(s).toString(16):a.charCodeAt(s).toString();e+="&#"+t+";"}return e}class ze{constructor(e){Q(this,"tokens");Q(this,"options");Q(this,"state");Q(this,"tokenizer");Q(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||st,this.options.tokenizer=this.options.tokenizer||new Ht,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const s={block:$.normal,inline:A.normal};this.options.pedantic?(s.block=$.pedantic,s.inline=A.pedantic):this.options.gfm&&(s.block=$.gfm,this.options.breaks?s.inline=A.breaks:s.inline=A.gfm),this.tokenizer.rules=s}static get rules(){return{block:$,inline:A}}static lex(e,s){return new ze(s).lex(e)}static lexInline(e,s){return new ze(s).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let s;for(;s=this.inlineQueue.shift();)this.inlineTokens(s.src,s.tokens);return this.tokens}blockTokens(e,s=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(p,c,h)=>c+"    ".repeat(h.length));let t,i,l,r;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(p=>(t=p.call({lexer:this},e,s))?(e=e.substring(t.raw.length),s.push(t),!0):!1))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),t.raw.length===1&&s.length>0?s[s.length-1].raw+=`
`:s.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),i=s[s.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):s.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),i=s[s.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+t.raw,i.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),s.push(t);continue}if(l=e,this.options.extensions&&this.options.extensions.startBlock){let p=1/0;const c=e.slice(1);let h;this.options.extensions.startBlock.forEach(b=>{h=b.call({lexer:this},c),typeof h=="number"&&h>=0&&(p=Math.min(p,h))}),p<1/0&&p>=0&&(l=e.substring(0,p+1))}if(this.state.top&&(t=this.tokenizer.paragraph(l))){i=s[s.length-1],r&&i.type==="paragraph"?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):s.push(t),r=l.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),i=s[s.length-1],i&&i.type==="text"?(i.raw+=`
`+t.raw,i.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):s.push(t);continue}if(e){const p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return this.state.top=!0,s}inline(e,s=[]){return this.inlineQueue.push({src:e,tokens:s}),s}inlineTokens(e,s=[]){let t,i,l,r=e,p,c,h;if(this.tokens.links){const b=Object.keys(this.tokens.links);if(b.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)b.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(p=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,p.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(h=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(b=>(t=b.call({lexer:this},e,s))?(e=e.substring(t.raw.length),s.push(t),!0):!1))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),i=s[s.length-1],i&&t.type==="text"&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):s.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),i=s[s.length-1],i&&t.type==="text"&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):s.push(t);continue}if(t=this.tokenizer.emStrong(e,r,h)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),s.push(t);continue}if(t=this.tokenizer.autolink(e,Vs)){e=e.substring(t.raw.length),s.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e,Vs))){e=e.substring(t.raw.length),s.push(t);continue}if(l=e,this.options.extensions&&this.options.extensions.startInline){let b=1/0;const k=e.slice(1);let y;this.options.extensions.startInline.forEach(v=>{y=v.call({lexer:this},k),typeof y=="number"&&y>=0&&(b=Math.min(b,y))}),b<1/0&&b>=0&&(l=e.substring(0,b+1))}if(t=this.tokenizer.inlineText(l,mi)){e=e.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(h=t.raw.slice(-1)),c=!0,i=s[s.length-1],i&&i.type==="text"?(i.raw+=t.raw,i.text+=t.text):s.push(t);continue}if(e){const b="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(b);break}else throw new Error(b)}}return s}}class zt{constructor(e){Q(this,"options");this.options=e||st}code(e,s,t){var l;const i=(l=(s||"").match(/^\S*/))==null?void 0:l[0];if(this.options.highlight){const r=this.options.highlight(e,i);r!=null&&r!==e&&(t=!0,e=r)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+ge(i)+'">'+(t?e:ge(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:ge(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,s){return e}heading(e,s,t,i){if(this.options.headerIds){const l=this.options.headerPrefix+i.slug(t);return`<h${s} id="${l}">${e}</h${s}>
`}return`<h${s}>${e}</h${s}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,s,t){const i=s?"ol":"ul",l=s&&t!==1?' start="'+t+'"':"";return"<"+i+l+`>
`+e+"</"+i+`>
`}listitem(e,s,t){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,s){return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+s+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,s){const t=s.header?"th":"td";return(s.align?`<${t} align="${s.align}">`:`<${t}>`)+e+`</${t}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,s,t){const i=$s(this.options.sanitize,this.options.baseUrl,e);if(i===null)return t;e=i;let l='<a href="'+e+'"';return s&&(l+=' title="'+s+'"'),l+=">"+t+"</a>",l}image(e,s,t){const i=$s(this.options.sanitize,this.options.baseUrl,e);if(i===null)return t;e=i;let l=`<img src="${e}" alt="${t}"`;return s&&(l+=` title="${s}"`),l+=this.options.xhtml?"/>":">",l}text(e){return e}}class gs{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,s,t){return""+t}image(e,s,t){return""+t}br(){return""}}class bs{constructor(){Q(this,"seen");this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,s){let t=e,i=0;if(this.seen.hasOwnProperty(t)){i=this.seen[e];do i++,t=e+"-"+i;while(this.seen.hasOwnProperty(t))}return s||(this.seen[e]=i,this.seen[t]=0),t}slug(e,s={}){const t=this.serialize(e);return this.getNextSafeSlug(t,s.dryrun)}}class Ve{constructor(e){Q(this,"options");Q(this,"renderer");Q(this,"textRenderer");Q(this,"slugger");this.options=e||st,this.options.renderer=this.options.renderer||new zt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gs,this.slugger=new bs}static parse(e,s){return new Ve(s).parse(e)}static parseInline(e,s){return new Ve(s).parseInline(e)}parse(e,s=!0){let t="";for(let i=0;i<e.length;i++){const l=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const r=l,p=this.options.extensions.renderers[r.type].call({parser:this},r);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(r.type)){t+=p||"";continue}}switch(l.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{const r=l;t+=this.renderer.heading(this.parseInline(r.tokens),r.depth,Tn(this.parseInline(r.tokens,this.textRenderer)),this.slugger);continue}case"code":{const r=l;t+=this.renderer.code(r.text,r.lang,!!r.escaped);continue}case"table":{const r=l;let p="",c="";for(let b=0;b<r.header.length;b++)c+=this.renderer.tablecell(this.parseInline(r.header[b].tokens),{header:!0,align:r.align[b]});p+=this.renderer.tablerow(c);let h="";for(let b=0;b<r.rows.length;b++){const k=r.rows[b];c="";for(let y=0;y<k.length;y++)c+=this.renderer.tablecell(this.parseInline(k[y].tokens),{header:!1,align:r.align[y]});h+=this.renderer.tablerow(c)}t+=this.renderer.table(p,h);continue}case"blockquote":{const r=l,p=this.parse(r.tokens);t+=this.renderer.blockquote(p);continue}case"list":{const r=l,p=r.ordered,c=r.start,h=r.loose;let b="";for(let k=0;k<r.items.length;k++){const y=r.items[k],v=y.checked,_=y.task;let C="";if(y.task){const n=this.renderer.checkbox(!!v);h?y.tokens.length>0&&y.tokens[0].type==="paragraph"?(y.tokens[0].text=n+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&y.tokens[0].tokens[0].type==="text"&&(y.tokens[0].tokens[0].text=n+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:n}):C+=n}C+=this.parse(y.tokens,h),b+=this.renderer.listitem(C,_,!!v)}t+=this.renderer.list(b,p,c);continue}case"html":{const r=l;t+=this.renderer.html(r.text,r.block);continue}case"paragraph":{const r=l;t+=this.renderer.paragraph(this.parseInline(r.tokens));continue}case"text":{let r=l,p=r.tokens?this.parseInline(r.tokens):r.text;for(;i+1<e.length&&e[i+1].type==="text";)r=e[++i],p+=`
`+(r.tokens?this.parseInline(r.tokens):r.text);t+=s?this.renderer.paragraph(p):p;continue}default:{const r='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return t}parseInline(e,s){s=s||this.renderer;let t="";for(let i=0;i<e.length;i++){const l=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]){const r=this.options.extensions.renderers[l.type].call({parser:this},l);if(r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){t+=r||"";continue}}switch(l.type){case"escape":{const r=l;t+=s.text(r.text);break}case"html":{const r=l;t+=s.html(r.text);break}case"link":{const r=l;t+=s.link(r.href,r.title,this.parseInline(r.tokens,s));break}case"image":{const r=l;t+=s.image(r.href,r.title,r.text);break}case"strong":{const r=l;t+=s.strong(this.parseInline(r.tokens,s));break}case"em":{const r=l;t+=s.em(this.parseInline(r.tokens,s));break}case"codespan":{const r=l;t+=s.codespan(r.text);break}case"br":{t+=s.br();break}case"del":{const r=l;t+=s.del(this.parseInline(r.tokens,s));break}case"text":{const r=l;t+=s.text(r.text);break}default:{const r='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return t}}class _t{constructor(e){Q(this,"options");this.options=e||st}preprocess(e){return e}postprocess(e){return e}}Q(_t,"passThroughHooks",new Set(["preprocess","postprocess"]));var tt,ss,On;class gi{constructor(...e){Ms(this,tt);Q(this,"defaults",ms());Q(this,"options",this.setOptions);Q(this,"parse",St(this,tt,ss).call(this,ze.lex,Ve.parse));Q(this,"parseInline",St(this,tt,ss).call(this,ze.lexInline,Ve.parseInline));Q(this,"Parser",Ve);Q(this,"parser",Ve.parse);Q(this,"Renderer",zt);Q(this,"TextRenderer",gs);Q(this,"Lexer",ze);Q(this,"lexer",ze.lex);Q(this,"Tokenizer",Ht);Q(this,"Slugger",bs);Q(this,"Hooks",_t);this.use(...e)}walkTokens(e,s){var i,l;let t=[];for(const r of e)switch(t=t.concat(s.call(this,r)),r.type){case"table":{const p=r;for(const c of p.header)t=t.concat(this.walkTokens(c.tokens,s));for(const c of p.rows)for(const h of c)t=t.concat(this.walkTokens(h.tokens,s));break}case"list":{const p=r;t=t.concat(this.walkTokens(p.items,s));break}default:{const p=r;(l=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&l[p.type]?this.defaults.extensions.childTokens[p.type].forEach(c=>{t=t.concat(this.walkTokens(p[c],s))}):p.tokens&&(t=t.concat(this.walkTokens(p.tokens,s)))}}return t}use(...e){const s=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{const i={...t};if(i.async=this.defaults.async||i.async||!1,t.extensions&&(t.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const r=s.renderers[l.name];r?s.renderers[l.name]=function(...p){let c=l.renderer.apply(this,p);return c===!1&&(c=r.apply(this,p)),c}:s.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const r=s[l.level];r?r.unshift(l.tokenizer):s[l.level]=[l.tokenizer],l.start&&(l.level==="block"?s.startBlock?s.startBlock.push(l.start):s.startBlock=[l.start]:l.level==="inline"&&(s.startInline?s.startInline.push(l.start):s.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(s.childTokens[l.name]=l.childTokens)}),i.extensions=s),t.renderer){const l=this.defaults.renderer||new zt(this.defaults);for(const r in t.renderer){const p=t.renderer[r],c=r,h=l[c];l[c]=(...b)=>{let k=p.apply(l,b);return k===!1&&(k=h.apply(l,b)),k||""}}i.renderer=l}if(t.tokenizer){const l=this.defaults.tokenizer||new Ht(this.defaults);for(const r in t.tokenizer){const p=t.tokenizer[r],c=r,h=l[c];l[c]=(...b)=>{let k=p.apply(l,b);return k===!1&&(k=h.apply(l,b)),k}}i.tokenizer=l}if(t.hooks){const l=this.defaults.hooks||new _t;for(const r in t.hooks){const p=t.hooks[r],c=r,h=l[c];_t.passThroughHooks.has(r)?l[c]=b=>{if(this.defaults.async)return Promise.resolve(p.call(l,b)).then(y=>h.call(l,y));const k=p.call(l,b);return h.call(l,k)}:l[c]=(...b)=>{let k=p.apply(l,b);return k===!1&&(k=h.apply(l,b)),k}}i.hooks=l}if(t.walkTokens){const l=this.defaults.walkTokens,r=t.walkTokens;i.walkTokens=function(p){let c=[];return c.push(r.call(this,p)),l&&(c=c.concat(l.call(this,p))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}tt=new WeakSet,ss=function(e,s){return(t,i,l)=>{typeof i=="function"&&(l=i,i=null);const r={...i},p={...this.defaults,...r};this.defaults.async===!0&&r.async===!1&&(p.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),p.async=!0);const c=St(this,tt,On).call(this,!!p.silent,!!p.async,l);if(typeof t>"u"||t===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(di(p,l),p.hooks&&(p.hooks.options=p),l){const h=l,b=p.highlight;let k;try{p.hooks&&(t=p.hooks.preprocess(t)),k=e(t,p)}catch(_){return c(_)}const y=_=>{let C;if(!_)try{p.walkTokens&&this.walkTokens(k,p.walkTokens),C=s(k,p),p.hooks&&(C=p.hooks.postprocess(C))}catch(n){_=n}return p.highlight=b,_?c(_):h(null,C)};if(!b||b.length<3||(delete p.highlight,!k.length))return y();let v=0;this.walkTokens(k,_=>{_.type==="code"&&(v++,setTimeout(()=>{b(_.text,_.lang,(C,n)=>{if(C)return y(C);n!=null&&n!==_.text&&(_.text=n,_.escaped=!0),v--,v===0&&y()})},0))}),v===0&&y();return}if(p.async)return Promise.resolve(p.hooks?p.hooks.preprocess(t):t).then(h=>e(h,p)).then(h=>p.walkTokens?Promise.all(this.walkTokens(h,p.walkTokens)).then(()=>h):h).then(h=>s(h,p)).then(h=>p.hooks?p.hooks.postprocess(h):h).catch(c);try{p.hooks&&(t=p.hooks.preprocess(t));const h=e(t,p);p.walkTokens&&this.walkTokens(h,p.walkTokens);let b=s(h,p);return p.hooks&&(b=p.hooks.postprocess(b)),b}catch(h){return c(h)}}},On=function(e,s,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const l="<p>An error occurred:</p><pre>"+ge(i.message+"",!0)+"</pre>";if(s)return Promise.resolve(l);if(t){t(null,l);return}return l}if(s)return Promise.reject(i);if(t){t(i);return}throw i}};const et=new gi;function K(a,e,s){return et.parse(a,e,s)}K.options=K.setOptions=function(a){return et.setOptions(a),K.defaults=et.defaults,yn(K.defaults),K};K.getDefaults=ms;K.defaults=st;K.use=function(...a){return et.use(...a),K.defaults=et.defaults,yn(K.defaults),K};K.walkTokens=function(a,e){return et.walkTokens(a,e)};K.parseInline=et.parseInline;K.Parser=Ve;K.parser=Ve.parse;K.Renderer=zt;K.TextRenderer=gs;K.Lexer=ze;K.lexer=ze.lex;K.Tokenizer=Ht;K.Slugger=bs;K.Hooks=_t;K.parse=K;K.options;K.setOptions;K.use;K.walkTokens;K.parseInline;Ve.parse;ze.lex;/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:Sn,setPrototypeOf:Us,isFrozen:bi,getPrototypeOf:ki,getOwnPropertyDescriptor:_i}=Object;let{freeze:ve,seal:Re,create:xn}=Object,{apply:ns,construct:is}=typeof Reflect<"u"&&Reflect;ve||(ve=function(e){return e});Re||(Re=function(e){return e});ns||(ns=function(e,s,t){return e.apply(s,t)});is||(is=function(e,s){return new e(...s)});const At=Ae(Array.prototype.forEach),Bs=Ae(Array.prototype.pop),ft=Ae(Array.prototype.push),Pt=Ae(String.prototype.toLowerCase),Xt=Ae(String.prototype.toString),Gs=Ae(String.prototype.match),mt=Ae(String.prototype.replace),wi=Ae(String.prototype.indexOf),yi=Ae(String.prototype.trim),Ie=Ae(Object.prototype.hasOwnProperty),ye=Ae(RegExp.prototype.test),gt=vi(TypeError);function Ae(a){return function(e){for(var s=arguments.length,t=new Array(s>1?s-1:0),i=1;i<s;i++)t[i-1]=arguments[i];return ns(a,e,t)}}function vi(a){return function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return is(a,s)}}function X(a,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt;Us&&Us(a,null);let t=e.length;for(;t--;){let i=e[t];if(typeof i=="string"){const l=s(i);l!==i&&(bi(e)||(e[t]=l),i=l)}a[i]=!0}return a}function Ei(a){for(let e=0;e<a.length;e++)Ie(a,e)||(a[e]=null);return a}function Je(a){const e=xn(null);for(const[s,t]of Sn(a))Ie(a,s)&&(Array.isArray(t)?e[s]=Ei(t):t&&typeof t=="object"&&t.constructor===Object?e[s]=Je(t):e[s]=t);return e}function bt(a,e){for(;a!==null;){const t=_i(a,e);if(t){if(t.get)return Ae(t.get);if(typeof t.value=="function")return Ae(t.value)}a=ki(a)}function s(){return null}return s}const js=ve(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zt=ve(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qt=ve(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ti=ve(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wt=ve(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Oi=ve(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Xs=ve(["#text"]),Zs=ve(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Yt=ve(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qs=ve(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ct=ve(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Si=Re(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xi=Re(/<%[\w\W]*|[\w\W]*%>/gm),Li=Re(/\$\{[\w\W]*}/gm),Ai=Re(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ci=Re(/^aria-[\-\w]+$/),Ln=Re(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ri=Re(/^(?:\w+script|data):/i),Ii=Re(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),An=Re(/^html$/i),Di=Re(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ws=Object.freeze({__proto__:null,ARIA_ATTR:Ci,ATTR_WHITESPACE:Ii,CUSTOM_ELEMENT:Di,DATA_ATTR:Ai,DOCTYPE_NAME:An,ERB_EXPR:xi,IS_ALLOWED_URI:Ln,IS_SCRIPT_OR_DATA:Ri,MUSTACHE_EXPR:Si,TMPLIT_EXPR:Li});const kt={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Mi=function(){return typeof window>"u"?null:window},Ni=function(e,s){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let t=null;const i="data-tt-policy-suffix";s&&s.hasAttribute(i)&&(t=s.getAttribute(i));const l="dompurify"+(t?"#"+t:"");try{return e.createPolicy(l,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},Ys=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Cn(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mi();const e=H=>Cn(H);if(e.version="3.2.3",e.removed=[],!a||!a.document||a.document.nodeType!==kt.document)return e.isSupported=!1,e;let{document:s}=a;const t=s,i=t.currentScript,{DocumentFragment:l,HTMLTemplateElement:r,Node:p,Element:c,NodeFilter:h,NamedNodeMap:b=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:k,DOMParser:y,trustedTypes:v}=a,_=c.prototype,C=bt(_,"cloneNode"),n=bt(_,"remove"),o=bt(_,"nextSibling"),u=bt(_,"childNodes"),d=bt(_,"parentNode");if(typeof r=="function"){const H=s.createElement("template");H.content&&H.content.ownerDocument&&(s=H.content.ownerDocument)}let m,g="";const{implementation:w,createNodeIterator:L,createDocumentFragment:R,getElementsByTagName:N}=s,{importNode:V}=t;let T=Ys();e.isSupported=typeof Sn=="function"&&typeof d=="function"&&w&&w.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:P,ERB_EXPR:B,TMPLIT_EXPR:Z,DATA_ATTR:J,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:xe,ATTR_WHITESPACE:Le,CUSTOM_ELEMENT:O}=Ws;let{IS_ALLOWED_URI:G}=Ws,U=null;const Ue=X({},[...js,...Zt,...qt,...Wt,...Xs]);let ie=null;const Me=X({},[...Zs,...Yt,...qs,...Ct]);let ae=Object.seal(xn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Be=null,Ge=null,Ye=!0,be=!0,nt=!1,de=!0,Ne=!1,he=!0,ke=!1,se=!1,ut=!1,z=!1,te=!1,ne=!1,Ce=!0,_e=!1;const wt="user-content-";let fe=!0,qe=!1,je={},Ee=null;const it=X({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ks=null;const _s=X({},["audio","video","img","source","image","track"]);let Vt=null;const ws=X({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yt="http://www.w3.org/1998/Math/MathML",vt="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml";let at=Xe,Ut=!1,Bt=null;const Hn=X({},[yt,vt,Xe],Xt);let Et=X({},["mi","mo","mn","ms","mtext"]),Tt=X({},["annotation-xml"]);const zn=X({},["title","style","font","a","script"]);let pt=null;const Vn=["application/xhtml+xml","text/html"],Un="text/html";let re=null,lt=null;const Bn=s.createElement("form"),ys=function(f){return f instanceof RegExp||f instanceof Function},Gt=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(lt&&lt===f)){if((!f||typeof f!="object")&&(f={}),f=Je(f),pt=Vn.indexOf(f.PARSER_MEDIA_TYPE)===-1?Un:f.PARSER_MEDIA_TYPE,re=pt==="application/xhtml+xml"?Xt:Pt,U=Ie(f,"ALLOWED_TAGS")?X({},f.ALLOWED_TAGS,re):Ue,ie=Ie(f,"ALLOWED_ATTR")?X({},f.ALLOWED_ATTR,re):Me,Bt=Ie(f,"ALLOWED_NAMESPACES")?X({},f.ALLOWED_NAMESPACES,Xt):Hn,Vt=Ie(f,"ADD_URI_SAFE_ATTR")?X(Je(ws),f.ADD_URI_SAFE_ATTR,re):ws,ks=Ie(f,"ADD_DATA_URI_TAGS")?X(Je(_s),f.ADD_DATA_URI_TAGS,re):_s,Ee=Ie(f,"FORBID_CONTENTS")?X({},f.FORBID_CONTENTS,re):it,Be=Ie(f,"FORBID_TAGS")?X({},f.FORBID_TAGS,re):{},Ge=Ie(f,"FORBID_ATTR")?X({},f.FORBID_ATTR,re):{},je=Ie(f,"USE_PROFILES")?f.USE_PROFILES:!1,Ye=f.ALLOW_ARIA_ATTR!==!1,be=f.ALLOW_DATA_ATTR!==!1,nt=f.ALLOW_UNKNOWN_PROTOCOLS||!1,de=f.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ne=f.SAFE_FOR_TEMPLATES||!1,he=f.SAFE_FOR_XML!==!1,ke=f.WHOLE_DOCUMENT||!1,z=f.RETURN_DOM||!1,te=f.RETURN_DOM_FRAGMENT||!1,ne=f.RETURN_TRUSTED_TYPE||!1,ut=f.FORCE_BODY||!1,Ce=f.SANITIZE_DOM!==!1,_e=f.SANITIZE_NAMED_PROPS||!1,fe=f.KEEP_CONTENT!==!1,qe=f.IN_PLACE||!1,G=f.ALLOWED_URI_REGEXP||Ln,at=f.NAMESPACE||Xe,Et=f.MATHML_TEXT_INTEGRATION_POINTS||Et,Tt=f.HTML_INTEGRATION_POINTS||Tt,ae=f.CUSTOM_ELEMENT_HANDLING||{},f.CUSTOM_ELEMENT_HANDLING&&ys(f.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=f.CUSTOM_ELEMENT_HANDLING.tagNameCheck),f.CUSTOM_ELEMENT_HANDLING&&ys(f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=f.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),f.CUSTOM_ELEMENT_HANDLING&&typeof f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=f.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ne&&(be=!1),te&&(z=!0),je&&(U=X({},Xs),ie=[],je.html===!0&&(X(U,js),X(ie,Zs)),je.svg===!0&&(X(U,Zt),X(ie,Yt),X(ie,Ct)),je.svgFilters===!0&&(X(U,qt),X(ie,Yt),X(ie,Ct)),je.mathMl===!0&&(X(U,Wt),X(ie,qs),X(ie,Ct))),f.ADD_TAGS&&(U===Ue&&(U=Je(U)),X(U,f.ADD_TAGS,re)),f.ADD_ATTR&&(ie===Me&&(ie=Je(ie)),X(ie,f.ADD_ATTR,re)),f.ADD_URI_SAFE_ATTR&&X(Vt,f.ADD_URI_SAFE_ATTR,re),f.FORBID_CONTENTS&&(Ee===it&&(Ee=Je(Ee)),X(Ee,f.FORBID_CONTENTS,re)),fe&&(U["#text"]=!0),ke&&X(U,["html","head","body"]),U.table&&(X(U,["tbody"]),delete Be.tbody),f.TRUSTED_TYPES_POLICY){if(typeof f.TRUSTED_TYPES_POLICY.createHTML!="function")throw gt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof f.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');m=f.TRUSTED_TYPES_POLICY,g=m.createHTML("")}else m===void 0&&(m=Ni(v,i)),m!==null&&typeof g=="string"&&(g=m.createHTML(""));ve&&ve(f),lt=f}},vs=X({},[...Zt,...qt,...Ti]),Es=X({},[...Wt,...Oi]),Gn=function(f){let E=d(f);(!E||!E.tagName)&&(E={namespaceURI:at,tagName:"template"});const I=Pt(f.tagName),le=Pt(E.tagName);return Bt[f.namespaceURI]?f.namespaceURI===vt?E.namespaceURI===Xe?I==="svg":E.namespaceURI===yt?I==="svg"&&(le==="annotation-xml"||Et[le]):!!vs[I]:f.namespaceURI===yt?E.namespaceURI===Xe?I==="math":E.namespaceURI===vt?I==="math"&&Tt[le]:!!Es[I]:f.namespaceURI===Xe?E.namespaceURI===vt&&!Tt[le]||E.namespaceURI===yt&&!Et[le]?!1:!Es[I]&&(zn[I]||!vs[I]):!!(pt==="application/xhtml+xml"&&Bt[f.namespaceURI]):!1},Pe=function(f){ft(e.removed,{element:f});try{d(f).removeChild(f)}catch{n(f)}},Ot=function(f,E){try{ft(e.removed,{attribute:E.getAttributeNode(f),from:E})}catch{ft(e.removed,{attribute:null,from:E})}if(E.removeAttribute(f),f==="is")if(z||te)try{Pe(E)}catch{}else try{E.setAttribute(f,"")}catch{}},Ts=function(f){let E=null,I=null;if(ut)f="<remove></remove>"+f;else{const ue=Gs(f,/^[\r\n\t ]+/);I=ue&&ue[0]}pt==="application/xhtml+xml"&&at===Xe&&(f='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+f+"</body></html>");const le=m?m.createHTML(f):f;if(at===Xe)try{E=new y().parseFromString(le,pt)}catch{}if(!E||!E.documentElement){E=w.createDocument(at,"template",null);try{E.documentElement.innerHTML=Ut?g:le}catch{}}const me=E.body||E.documentElement;return f&&I&&me.insertBefore(s.createTextNode(I),me.childNodes[0]||null),at===Xe?N.call(E,ke?"html":"body")[0]:ke?E.documentElement:me},Os=function(f){return L.call(f.ownerDocument||f,f,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},jt=function(f){return f instanceof k&&(typeof f.nodeName!="string"||typeof f.textContent!="string"||typeof f.removeChild!="function"||!(f.attributes instanceof b)||typeof f.removeAttribute!="function"||typeof f.setAttribute!="function"||typeof f.namespaceURI!="string"||typeof f.insertBefore!="function"||typeof f.hasChildNodes!="function")},Ss=function(f){return typeof p=="function"&&f instanceof p};function Ze(H,f,E){At(H,I=>{I.call(e,f,E,lt)})}const xs=function(f){let E=null;if(Ze(T.beforeSanitizeElements,f,null),jt(f))return Pe(f),!0;const I=re(f.nodeName);if(Ze(T.uponSanitizeElement,f,{tagName:I,allowedTags:U}),f.hasChildNodes()&&!Ss(f.firstElementChild)&&ye(/<[/\w]/g,f.innerHTML)&&ye(/<[/\w]/g,f.textContent)||f.nodeType===kt.progressingInstruction||he&&f.nodeType===kt.comment&&ye(/<[/\w]/g,f.data))return Pe(f),!0;if(!U[I]||Be[I]){if(!Be[I]&&As(I)&&(ae.tagNameCheck instanceof RegExp&&ye(ae.tagNameCheck,I)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(I)))return!1;if(fe&&!Ee[I]){const le=d(f)||f.parentNode,me=u(f)||f.childNodes;if(me&&le){const ue=me.length;for(let Te=ue-1;Te>=0;--Te){const Fe=C(me[Te],!0);Fe.__removalCount=(f.__removalCount||0)+1,le.insertBefore(Fe,o(f))}}}return Pe(f),!0}return f instanceof c&&!Gn(f)||(I==="noscript"||I==="noembed"||I==="noframes")&&ye(/<\/no(script|embed|frames)/i,f.innerHTML)?(Pe(f),!0):(Ne&&f.nodeType===kt.text&&(E=f.textContent,At([P,B,Z],le=>{E=mt(E,le," ")}),f.textContent!==E&&(ft(e.removed,{element:f.cloneNode()}),f.textContent=E)),Ze(T.afterSanitizeElements,f,null),!1)},Ls=function(f,E,I){if(Ce&&(E==="id"||E==="name")&&(I in s||I in Bn))return!1;if(!(be&&!Ge[E]&&ye(J,E))){if(!(Ye&&ye(pe,E))){if(!ie[E]||Ge[E]){if(!(As(f)&&(ae.tagNameCheck instanceof RegExp&&ye(ae.tagNameCheck,f)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(f))&&(ae.attributeNameCheck instanceof RegExp&&ye(ae.attributeNameCheck,E)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(E))||E==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&ye(ae.tagNameCheck,I)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(I))))return!1}else if(!Vt[E]){if(!ye(G,mt(I,Le,""))){if(!((E==="src"||E==="xlink:href"||E==="href")&&f!=="script"&&wi(I,"data:")===0&&ks[f])){if(!(nt&&!ye(xe,mt(I,Le,"")))){if(I)return!1}}}}}}return!0},As=function(f){return f!=="annotation-xml"&&Gs(f,O)},Cs=function(f){Ze(T.beforeSanitizeAttributes,f,null);const{attributes:E}=f;if(!E||jt(f))return;const I={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0};let le=E.length;for(;le--;){const me=E[le],{name:ue,namespaceURI:Te,value:Fe}=me,dt=re(ue);let we=ue==="value"?Fe:yi(Fe);if(I.attrName=dt,I.attrValue=we,I.keepAttr=!0,I.forceKeepAttr=void 0,Ze(T.uponSanitizeAttribute,f,I),we=I.attrValue,_e&&(dt==="id"||dt==="name")&&(Ot(ue,f),we=wt+we),he&&ye(/((--!?|])>)|<\/(style|title)/i,we)){Ot(ue,f);continue}if(I.forceKeepAttr||(Ot(ue,f),!I.keepAttr))continue;if(!de&&ye(/\/>/i,we)){Ot(ue,f);continue}Ne&&At([P,B,Z],Is=>{we=mt(we,Is," ")});const Rs=re(f.nodeName);if(Ls(Rs,dt,we)){if(m&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Te)switch(v.getAttributeType(Rs,dt)){case"TrustedHTML":{we=m.createHTML(we);break}case"TrustedScriptURL":{we=m.createScriptURL(we);break}}try{Te?f.setAttributeNS(Te,ue,we):f.setAttribute(ue,we),jt(f)?Pe(f):Bs(e.removed)}catch{}}}Ze(T.afterSanitizeAttributes,f,null)},jn=function H(f){let E=null;const I=Os(f);for(Ze(T.beforeSanitizeShadowDOM,f,null);E=I.nextNode();)Ze(T.uponSanitizeShadowNode,E,null),xs(E),Cs(E),E.content instanceof l&&H(E.content);Ze(T.afterSanitizeShadowDOM,f,null)};return e.sanitize=function(H){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=null,I=null,le=null,me=null;if(Ut=!H,Ut&&(H="<!-->"),typeof H!="string"&&!Ss(H))if(typeof H.toString=="function"){if(H=H.toString(),typeof H!="string")throw gt("dirty is not a string, aborting")}else throw gt("toString is not a function");if(!e.isSupported)return H;if(se||Gt(f),e.removed=[],typeof H=="string"&&(qe=!1),qe){if(H.nodeName){const Fe=re(H.nodeName);if(!U[Fe]||Be[Fe])throw gt("root node is forbidden and cannot be sanitized in-place")}}else if(H instanceof p)E=Ts("<!---->"),I=E.ownerDocument.importNode(H,!0),I.nodeType===kt.element&&I.nodeName==="BODY"||I.nodeName==="HTML"?E=I:E.appendChild(I);else{if(!z&&!Ne&&!ke&&H.indexOf("<")===-1)return m&&ne?m.createHTML(H):H;if(E=Ts(H),!E)return z?null:ne?g:""}E&&ut&&Pe(E.firstChild);const ue=Os(qe?H:E);for(;le=ue.nextNode();)xs(le),Cs(le),le.content instanceof l&&jn(le.content);if(qe)return H;if(z){if(te)for(me=R.call(E.ownerDocument);E.firstChild;)me.appendChild(E.firstChild);else me=E;return(ie.shadowroot||ie.shadowrootmode)&&(me=V.call(t,me,!0)),me}let Te=ke?E.outerHTML:E.innerHTML;return ke&&U["!doctype"]&&E.ownerDocument&&E.ownerDocument.doctype&&E.ownerDocument.doctype.name&&ye(An,E.ownerDocument.doctype.name)&&(Te="<!DOCTYPE "+E.ownerDocument.doctype.name+`>
`+Te),Ne&&At([P,B,Z],Fe=>{Te=mt(Te,Fe," ")}),m&&ne?m.createHTML(Te):Te},e.setConfig=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gt(H),se=!0},e.clearConfig=function(){lt=null,se=!1},e.isValidAttribute=function(H,f,E){lt||Gt({});const I=re(H),le=re(f);return Ls(I,le,E)},e.addHook=function(H,f){typeof f=="function"&&ft(T[H],f)},e.removeHook=function(H){return Bs(T[H])},e.removeHooks=function(H){T[H]=[]},e.removeAllHooks=function(){T=Ys()},e}var Pi=Cn();const Fi=[{pkg_name:"fractal_tasks_core",version:"1.3.4",task_list:[{version:"1.3.4",name:"Convert Cellvoyager to OME-Zarr",category:"Conversion",modality:"HCS",tags:["Yokogawa","Cellvoyager","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Converts **2D and 3D images from CellVoyager CV7000/8000** systems into OME-Zarr format, creating OME-Zarr HCS plates and combining all fields of view in a well into a single image.
- Saves Fractal **region-of-interest (ROI) tables** for both individual fields of view and the entire well.
- Handles overlapping fields of view by adjusting their positions to be non-overlapping while retaining the original position data as additional columns in the ROI tables.
- Supports processing multiple plates in a single task.

### Limitations
- Currently, this task does not support time-resolved data and ignores the time fields in CellVoyager metadata.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Convert Cellvoyager Multiplexing to OME-Zarr",category:"Conversion",modality:"HCS",tags:["Yokogawa","Cellvoyager","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Converts **multiplexed 2D and 3D images from CellVoyager CV7000/8000** systems into OME-Zarr format, storing each acquisition as a separate OME-Zarr image in the same OME-Zarr plate.
- Creates **OME-Zarr HCS plates**, combining all fields of view for each acquisition in a well into a single image.
- Saves Fractal **region-of-interest (ROI) tables** for both individual fields of view and the entire well.
- Handles overlapping fields of view by adjusting their positions to be non-overlapping, while preserving the original position data as additional columns in the ROI tables.

### Limitations
- This task currently does not support time-resolved data and ignores the time fields in CellVoyager metadata.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Project Image (HCS Plate)",category:"Image Processing",modality:"HCS",tags:["Preprocessing","3D"],input_types:{is_3D:!0},output_types:{is_3D:!1},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Performs **Z-axis projection of intensity images** using a specified projection method.
- **Generates a new OME-Zarr HCS plate** to store the projected data.

### Limitations
- Supports projections only for OME-Zarr HCS plates; other collections of OME-Zarrs are not yet supported.
- Currently limited to data in the CZYX format.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Illumination Correction",category:"Image Processing",modality:null,tags:["Preprocessing","2D","3D"],input_types:{illumination_corrected:!1},output_types:{illumination_corrected:!0},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- **Corrects illumination** in OME-Zarr images using **pre-calculated flatfield profiles**.
- Optionally performs **background subtraction**.

### Limitations
- Requires pre-calculated flatfield profiles in TIFF format.
- Supports only fixed-value background subtraction; background subtraction profiles are not supported.
`,type:"parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Cellpose Segmentation",category:"Segmentation",modality:null,tags:["Deep Learning","Convolutional Neural Network","Instance Segmentation","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- **Segments images using Cellpose models**.
- Supports both **built-in Cellpose models** (shipped with Cellpose) and **user-trained models**.
- Accepts dual image input for segmentation.
- Can process **arbitrary regions of interest (ROIs)**, including whole images, fields of view (FOVs), or masked outputs from prior segmentations, based on corresponding ROI tables.
- Provides access to all advanced Cellpose parameters.
- Allows custom rescaling options per channel, particularly useful for sparse images.

### Limitations
- Compatible only with Cellpose 2.x models; does not yet support 3.x models.
`,type:"parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Calculate Registration (image-based)",category:"Registration",modality:"HCS",tags:["Multiplexing","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- **Computes image-based registration** transformations for acquisitions in **HCS** OME-Zarr datasets.
- Processes images grouped by well, under the assumption that each well contains one image per acquisition.
- Calculates transformations for **specified regions of interest (ROIs)** and stores the results in the corresponding ROI table.
- Typically used as the first task in a workflow, followed by \`Find Registration Consensus\` and optionally \`Apply Registration to Image\`.

### Limitations
- Supports only HCS OME-Zarr datasets, leveraging their acquisition metadata and well-based image grouping.
- Assumes each well contains a single image per acquisition.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Find Registration Consensus",category:"Registration",modality:"HCS",tags:["Multiplexing","2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Determines the **consensus alignment** region across all selected acquisitions **within each well of an HCS OME-Zarr dataset**.
- Generates a new ROI table for each image, defining consensus regions that are aligned across all acquisitions.
- Typically used as the second task in a workflow, following \`Calculate Registration (image-based)\` and optionally preceding \`Apply Registration to Image\`.

### Limitations
- Supports only HCS OME-Zarr datasets, leveraging their acquisition metadata and well-based image grouping.
`,type:"compound",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Apply Registration to Image",category:"Registration",modality:"HCS",tags:["Multiplexing","2D","3D"],input_types:{registered:!1},output_types:{registered:!0},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:"### Purpose\n- **Applies pre-calculated registration** transformations to images in an **HCS** OME-Zarr dataset, aligning all acquisitions to a specified reference acquisition.\n- **Masks regions not included** in the registered ROI table and aligns both intensity and label images.\n- Replaces the non-aligned image with the newly aligned image in the dataset if `overwrite input` is selected.\n- Typically used as the third task in a workflow, following `Calculate Registration (image-based)` and `Find Registration Consensus`.\n\n### Limitations\n- If `overwrite input` is selected, the non-aligned image is permanently deleted, which may impact workflows requiring access to the original images.\n",type:"parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Import OME-Zarr",category:null,modality:null,tags:["2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Imports a **single OME-Zarr dataset** into the Fractal framework for further processing.
- Supports importing either a **full OME-Zarr HCS plate** or an **individual OME-Zarr image**.
- Ensures the OME-Zarr dataset is located in the \`zarr_dir\` specified by the dataset.
- Generates the necessary **image list metadata** required for processing the OME-Zarr with Fractal.
- Optionally **adds new ROI tables** to the existing OME-Zarr, enabling compatibility with many other tasks.

### Limitations
- Supports only OME-Zarr datasets already present in the \`zarr_dir\` of the corresponding dataset.
- Assumes the input OME-Zarr is correctly structured and formatted for compatibility with the Fractal framework.
`,type:"non_parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'},{version:"1.3.4",name:"Napari Workflows Wrapper",category:"Measurement",modality:null,tags:["2D","3D"],input_types:{},output_types:{},docs_link:"https://fractal-analytics-platform.github.io/fractal-tasks-core",docs_info:`### Purpose
- Executes a **napari workflow** on the regions of interest (ROIs) within a single OME-NGFF image.
- Processes specified images and labels as inputs to the workflow, producing outputs such as new labels and data tables.
- Offers **flexibility in defining input and output** specifications to customize the workflow for specific datasets and analysis needs.

### Limitations
- Currently supports only Napari workflows that utilize functions from the \`napari-segment-blobs-and-things-with-membranes\` module. Other Napari-compatible modules are not supported.

### Input Specifications
Napari workflows require explicit definitions of input and output data.
Example of valid \`input_specs\`:
\`\`\`json
{
    "in_1": {"type": "image", "channel": {"wavelength_id": "A01_C02"}},
    "in_2": {"type": "image", "channel": {"label": "DAPI"}},
    "in_3": {"type": "label", "label_name": "label_DAPI"}
}
\`\`\`

Example of valid \`output_specs\`:
\`\`\`json
{
    "out_1": {"type": "label", "label_name": "label_DAPI_new"},
    "out_2": {"type": "dataframe", "table_name": "measurements"},
}
\`\`\`
`,type:"parallel",authors:"Fractal Core Team",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection for package `fractal-tasks-core`, package version `1.3.4` and package extras `fractal-tasks`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-tasks-core[fractal-tasks]==1.3.4"`\n'}]},{pkg_name:"fractal_faim_ipa",version:"0.4.4",task_list:[{version:"0.4.4",name:"FAIM IPA OME-Zarr Converter",category:"Conversion",modality:"HCS",tags:["Molecular Devices","Image Xpress","MD"],input_types:{},output_types:{},docs_link:"https://github.com/fractal-analytics-platform/fractal-faim-ipa",docs_info:`## convert_ome_zarr
Create OME-Zarr plate from MD Image Xpress files.

This is a non-parallel task => it parses the metadata, creates the plates
and then converts all the wells in the same process
`,type:"non_parallel",authors:null,install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `fractal-faim-ipa` and package version `0.4.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-faim-ipa==0.4.4"`\n```\n'}]},{pkg_name:"fractal_lif_converters",version:"0.3.4",task_list:[{version:"0.3.4",name:"Convert Lif Plate to OME-Zarr",category:"Conversion",modality:"HCS",tags:["Leica","Plate converter"],input_types:{},output_types:{},docs_link:"https://github.com/fractal-analytics-platform/fractal-lif-converters",docs_info:`## convert_lif_plate_init_task
Initialize the conversion of LIF files to an OME-Zarr - Plate.
## convert_lif_compute_task
Export a single scene or plate acquisition from a LIF file to OME-Zarr.
`,type:"compound",authors:"Lorenzo Cerrone",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `fractal-lif-converters` and package version `0.3.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-lif-converters==0.3.4"`\n```\n'},{version:"0.3.4",name:"Convert Lif Scene to OME-Zarr",category:"Conversion",modality:null,tags:["Leica","Single Image Converter"],input_types:{},output_types:{},docs_link:"https://github.com/fractal-analytics-platform/fractal-lif-converters",docs_info:`## convert_lif_scene_init_task
Initialize the conversion of LIF files to OME-Zarr - NgffImages.
## convert_lif_compute_task
Export a single scene or plate acquisition from a LIF file to OME-Zarr.
`,type:"compound",authors:"Lorenzo Cerrone",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `fractal-lif-converters` and package version `0.3.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "fractal-lif-converters==0.3.4"`\n```\n'}]},{pkg_name:"operetta_compose",version:"0.2.4",task_list:[{version:"0.2.4",name:"Harmony to OME-Zarr",category:"Conversion",modality:"HCS",tags:["Opera","Operetta","Perkin Elmer"],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:`## harmony_to_ome_zarr
Convert TIFFs which were exported from Harmony (Operetta/Opera, Perkin-Elmer) to OME-ZARR
`,type:"non_parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'},{version:"0.2.4",name:"Stardist segmentation",category:"Segmentation",modality:null,tags:[],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:`## stardist_segmentation
Segment cells with Stardist
`,type:"parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'},{version:"0.2.4",name:"Regionprops measurement",category:"Measurement",modality:null,tags:["regionprops","intensity","morphology"],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:`## regionprops_measurement
Take measurements using regionprobs and write the features to the OME-ZARR
`,type:"parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'},{version:"0.2.4",name:"Feature classification",category:null,modality:null,tags:["napari feature classifier","object classification"],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:`## feature_classification
Classify cells using the [napari-feature-classifier](https://github.com/fractal-napari-plugins-collection/napari-feature-classifier) and write them to the OME-ZARR
`,type:"parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'},{version:"0.2.4",name:"Condition registration",category:null,modality:"HCS",tags:["Metadata","Treatment conditions"],input_types:{},output_types:{},docs_link:"https://leukemia-kispi.github.io/operetta-compose/",docs_info:"## condition_registration\nRegister the experimental (drug layout) in the OME-ZARR.\nThe table should contain at least the columns `row` and `col` identifying the well.\nIt can have an arbitrary number of additional metadata columns (e.g. drug, concentration, medium, sample).\nDrug combinations can be specified by two entries pointing to the same `row` / `col`\n",type:"parallel",authors:"Fabio Steffen",install_instructions:'**How to add this task to a Fractal instance:**\n\nTrigger a PyPI task collection with package `operetta-compose` and package version `0.2.4`\n\n**How to install this task in a Python environment:**\n\nRun `pip install "operetta-compose==0.2.4"`\n```\n'}]},{pkg_name:"fractal_helper_tasks",version:"0.1.3",task_list:[{version:"0.1.3",name:"Drop T Dimension",category:null,modality:null,tags:["Singleton time dimension"],input_types:{},output_types:{has_t:!1},docs_link:"https://github.com/jluethi/fractal-helper-tasks",docs_info:`## drop_t_dimension
Drops singleton t dimension.
`,type:"non_parallel",authors:"Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.1.3/fractal_helper_tasks-0.1.3-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.1.3/fractal_helper_tasks-0.1.3-py3-none-any.whl)
2. Run \`pip install fractal_helper_tasks-0.1.3-py3-none-any.whl\`
`},{version:"0.1.3",name:"Convert 2D segmentation to 3D",category:null,modality:null,tags:["Mixed modality","2D to 3D workflows"],input_types:{is_3D:!1},output_types:{},docs_link:"https://github.com/jluethi/fractal-helper-tasks",docs_info:`## convert_2D_segmentation_to_3D
Convert 2D segmentation to 3D segmentation.

This task loads the 2D segmentation, replicates it along the Z slice and
stores it back into the 3D OME-Zarr image.

This is a temporary workaround task, as long as we store 2D data in
a separate OME-Zarr file from the 3D data. If the 2D & 3D OME-Zarr images
have different suffixes in their name, use \`image_suffix_2D_to_remove\` &
\`image_suffix_3D_to_add\`. If their base names are different, this task
does not support processing them at the moment.

It makes the assumption that the 3D OME-Zarrs are stored in the same place
as the 2D OME-Zarrs (same based folder).
`,type:"parallel",authors:"Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.1.3/fractal_helper_tasks-0.1.3-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fractal-analytics-platform/fractal-helper-tasks/releases/download/v0.1.3/fractal_helper_tasks-0.1.3-py3-none-any.whl)
2. Run \`pip install fractal_helper_tasks-0.1.3-py3-none-any.whl\`
`}]},{pkg_name:"scmultiplex",version:"0.8.1",task_list:[{version:"0.8.1",name:"scMultiplex Calculate Object Linking",category:"Registration",modality:"HCS",tags:["multiplexing","2D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## _image_based_registration_hcs_init
Initialized calculate registration task

This task prepares a parallelization list of all zarr_urls that need to be
used to calculate the registration between acquisitions (all zarr_urls
except the reference acquisition vs. the reference acquisition).
This task only works for HCS OME-Zarrs for 2 reasons: Only HCS OME-Zarrs
currently have defined acquisition metadata to determine reference
acquisitions. And we have only implemented the grouping of images for
HCS OME-Zarrs by well (with the assumption that every well just has 1
image per acqusition).
## calculate_object_linking
Calculate object linking based on segmentation label map images

This task consists of 4 parts:

1. Load the object segmentation images for each well (paired reference and alignment round)
2. Calculate the shift transformation for the image pair
3. Apply shifts to image pair and identify matching object labels given an iou cutoff threshold
3. Store the identified matches as a linking table in alignment round directory

Parallelization level: image
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Calculate Linking Consensus",category:"Registration",modality:"HCS",tags:["multiplexing","2D","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## _init_group_by_well_for_multiplexing
Finds images for all acquisitions per well.

Returns the parallelization_list to run \`find_registration_consensus\`.
## calculate_linking_consensus
Applies pre-calculated registration to ROI tables.

Apply pre-calculated registration such that resulting ROIs contain
the consensus align region between all cycles.

Parallelization level: well
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Relabel by Linking Consensus",category:"Registration",modality:"HCS",tags:["multiplexing","2D","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## _image_based_registration_hcs_allrounds_init
Initialized calculate registration task

Same as _image_based_registration_hcs_init.py only does not exclude reference round in zarr_url list;
all rounds are processed.
## relabel_by_linking_consensus
Relabels image labels and ROI tables based on consensus linking.

Parallelization level: image
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Calculate Platymatch Registration",category:"Registration",modality:"HCS",tags:["multiplexing","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## _image_based_registration_hcs_init
Initialized calculate registration task

This task prepares a parallelization list of all zarr_urls that need to be
used to calculate the registration between acquisitions (all zarr_urls
except the reference acquisition vs. the reference acquisition).
This task only works for HCS OME-Zarrs for 2 reasons: Only HCS OME-Zarrs
currently have defined acquisition metadata to determine reference
acquisitions. And we have only implemented the grouping of images for
HCS OME-Zarrs by well (with the assumption that every well just has 1
image per acqusition).
## calculate_platymatch_registration
Calculate point-cloud-based registration with PlatyMatch.

This task consists of 4 parts:

1. Load the sub-object segmentation images for each well (paired reference and alignment round)
2. Select sub-objects that belong to object region by loading with object ROI table and mask by object mask.
   Object pair is defined by consensus linking. Filter the sub-objects to remove small debris that was segmented.
3. Calculate affine and optionally the free-form deformation for each object pair
4. Output: save the identified matches as a linking table in alignment round directory
   and optionally the transformation matrix on disk.

Parallelization level: image
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Surface Mesh Multiscale",category:"Image Processing",modality:"HCS",tags:["3D","mesh"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## _init_group_by_well_for_multiplexing
Finds images for all acquisitions per well.

Returns the parallelization_list to run \`find_registration_consensus\`.
## surface_mesh_multiscale
Calculate 3D surface mesh of parent object (e.g. tissue, organoid)
from 3D cell-level segmentation of children (e.g. nuclei)

Recommended to run on child objects that have been filtered to remove debris and disconnected components
(e.g. following cleanup_3d_segmentation task)

This task consists of 4 parts:

1. Load the sub-object (e.g. nuc) segmentation images for each object of a given reference round; skip other rounds.
    Select sub-objects (e.g. nuc) that belong to parent object region by masking by parent.
2. Perform label fusion and edge detection to generate surface label image.
3. Calculate surface mesh of label image using vtkDiscreteFlyingEdges3D algorithm. Smoothing is applied with
    vtkWindowedSincPolyDataFilter and tuned with 4 task parameters: passband, smoothing_iterations, feature_angle,
    polynomial_degree (minimal effect).
    The number of triangles in the mesh is optionally reduced with vtkQuadricDecimation filter to form a good
    approximation to the original geometry and is tuned with task parameter target_reduction.
4. Output: save the (1) meshes (.stl) per object id in meshes folder and (2) well label map as a new label in zarr.
    Note that label map output may be clipped for objects that are dense and have overlapping pixels.
    In this case, the 'winning' object in the overlap region is the one with higher label id.
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Segment by Intensity Threshold",category:"Segmentation",modality:"HCS",tags:["Classical segmentation","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## init_select_multiplexing_round
Finds images for desired acquisition per well.

Returns the parallelization_list.
## segment_by_intensity_threshold
Calculate full 3D object segmentation after 2D MIP-based segmentation using intensity thresholding of
raw intensity image(s).

This task consists of 3 parts:

1. Load the intensity images for selected channels using MIP-based segmentation ROIs.
2. Generate 3D mask based on simple thresholding of the combined channel images. The thresholded image is
    smoothened using gaussian blurring followed by Canny edge detection. Optional z-illumination correctopn
    is applied on the fly. The MIP-based segmentation is used to mask
    the resulting label image to roughly exclude any neighboring organoids and debris. To further exclude
    neighboring organoids and debris, the largest connected component is selected as the final label image.
3. Output: save the (1) new label image and (2) new masking ROI table in the selected zarr url.
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Spherical Harmonics from Label Image",category:"Measurement",modality:"HCS",tags:["3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## _init_group_by_well_for_multiplexing
Finds images for all acquisitions per well.

Returns the parallelization_list to run \`find_registration_consensus\`.
## spherical_harmonics_from_labelimage
Calculate spherical harmonics of 3D input label image using aics_shparam.

This task consists of 6 parts:

1. Load 3D label image based on provided label name and ROI table
2. Compute 3D mesh with vtkContourFilter using aics_shparam functions
3. Compute spherical harmonics of mesh using aics_shparam
4. Compute reconstruction error (mse) of computed harmonics
5. Optionally generate reconstructed mesh from the calculated harmonics
6. Output: save the (1) spherical harmonic coefficients and mse error as feature table
    (2) reconstructed meshes (.stl) per object id in a new meshes folder within zarr structure
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Mesh Measurements",category:"Measurement",modality:"HCS",tags:["3D","mesh","morphology"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## _init_group_by_well_for_multiplexing
Finds images for all acquisitions per well.

Returns the parallelization_list to run \`find_registration_consensus\`.
## scmultiplex_mesh_measurements
Extract shape features of 3D input meshes.

This task consists of 5 parts:

1. Load meshes (.stl) from zarr structure that have been previously generated
    (e.g. using Surface Mesh Multiscale task)
2. Extract mesh morphology measurements: volume, surface area, extent, solidity, concavity, asymmetry,
    aspect ratio, and normalized surface area to volume ratio. Units correspond to units of mesh. If mesh was
    generated with surface_mesh_multiscale task, units are physical units (um). For further details of features see
    scMultiplex FeatureFunctions.py
3. Optionally calculate Gaussian curvature at each mesh point (set calculate_curvature = True)
4. Optionally compute spherical harmonics of mesh using aics_shparam (set calculate_harmonics = True).
    Compute reconstruction error (mse) of computed harmonics and optionally generate reconstructed mesh from the
    calculated harmonics
5. Output: save (1) extracted measurements as a new table (output_table_name), (2) optional spherical harmonic
    coefficients and mse error as a separate feature table ('output_table_name'_harmonics) (3) optional
    reconstructed meshes from spherical harmonics as .stl within zarr structure (3) optional convex hull
    and bounding box on disk as .vtp within zarr structure (4) optional curvature meshes on disk as .vtp within
    zarr structure.
`,type:"compound",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Feature Measurements",category:"Measurement",modality:null,tags:["regionprops","morphology","intensity"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## scmultiplex_feature_measurements
Measurements of intensities and morphologies

Wrapper task for scmultiplex measurements for Fractal to generate
measurements of intensities and morphologies
`,type:"parallel",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`},{version:"0.8.1",name:"scMultiplex Expand Labels",category:null,modality:null,tags:["2D","3D"],input_types:{},output_types:{},docs_link:"https://github.com/fmi-basel/gliberal-scMultipleX",docs_info:`## expand_labels
Expand labels in 2D or 3D image without overlap.
`,type:"parallel",authors:"Nicole Repina, Enrico Tagliavini, Tim-Oliver Buchholz, Joel Luethi",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file, with package extras \`fractal-tasks\`

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/fmi-basel/gliberal-scMultipleX/releases/download/v0.8.1/scmultiplex-0.8.1-py3-none-any.whl)
2. Run \`pip install "scmultiplex-0.8.1-py3-none-any.whl[fractal-tasks]"\`
`}]},{pkg_name:"fractal_ome_zarr_hcs_stitching",version:"0.0.7",task_list:[{version:"0.0.7",name:"Stitching Task",category:"Registration",modality:null,tags:["multiview-stitcher","Fusion","Registration","Stitching","2D","3D"],input_types:{stitched:!1},output_types:{stitched:!0},docs_link:"https://github.com/m-albert/fractal-ome-zarr-hcs-stitching",docs_info:`## stitching_task
Stitches FOVs from an OME-Zarr image.

Performs registration and fusion of FOVs indicated
in the FOV_ROI_table of the OME-Zarr image. Writes the
fused image back to a "fused" group in the same Zarr array.

Todo:
  - include and update output metadata / FOV ROI table
  - test 2D / 3D
  - optimize for large data
  - currently optimized for search first mode, need to implement
    registration pair finding for "grid" (?) mode
`,type:"parallel",authors:"Marvin Albert, Joel Luethi, Nicole Repina",install_instructions:`**How to add this task to a Fractal instance:**

1. Download the wheel file from [this link](https://github.com/m-albert/fractal-ome-zarr-hcs-stitching/releases/download/v0.0.7/fractal_ome_zarr_hcs_stitching-0.0.7-py3-none-any.whl)
2. Trigger a local task collection by uploading the wheel file

**How to install this task in a Python environment:**

1. Download the wheel file from [this link](https://github.com/m-albert/fractal-ome-zarr-hcs-stitching/releases/download/v0.0.7/fractal_ome_zarr_hcs_stitching-0.0.7-py3-none-any.whl)
2. Run \`pip install fractal_ome_zarr_hcs_stitching-0.0.7-py3-none-any.whl\`
`}]}];var $i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Jt={};const Hi=typeof process=="object"&&Jt&&Jt.NODE_DEBUG&&/\bsemver\b/i.test(Jt.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{};var In=Hi;const zi="2.0.0",Dn=256,Vi=Number.MAX_SAFE_INTEGER||9007199254740991,Ui=16,Bi=Dn-6,Gi=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Mn={MAX_LENGTH:Dn,MAX_SAFE_COMPONENT_LENGTH:Ui,MAX_SAFE_BUILD_LENGTH:Bi,MAX_SAFE_INTEGER:Vi,RELEASE_TYPES:Gi,SEMVER_SPEC_VERSION:zi,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},as={exports:{}};(function(a,e){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:t,MAX_LENGTH:i}=Mn,l=In;e=a.exports={};const r=e.re=[],p=e.safeRe=[],c=e.src=[],h=e.t={};let b=0;const k="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",i],[k,t]],v=C=>{for(const[n,o]of y)C=C.split(`${n}*`).join(`${n}{0,${o}}`).split(`${n}+`).join(`${n}{1,${o}}`);return C},_=(C,n,o)=>{const u=v(n),d=b++;l(C,d,n),h[C]=d,c[d]=n,r[d]=new RegExp(n,o?"g":void 0),p[d]=new RegExp(u,o?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${k}*`),_("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),_("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${k}+`),_("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),_("FULL",`^${c[h.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),_("LOOSE",`^${c[h.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),_("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),_("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?(?:${c[h.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",c[h.COERCE],!0),_("COERCERTLFULL",c[h.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",_("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",_("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(as,as.exports);var ji=as.exports;const Xi=Object.freeze({loose:!0}),Zi=Object.freeze({}),qi=a=>a?typeof a!="object"?Xi:a:Zi;var Wi=qi;const Js=/^[0-9]+$/,Nn=(a,e)=>{const s=Js.test(a),t=Js.test(e);return s&&t&&(a=+a,e=+e),a===e?0:s&&!t?-1:t&&!s?1:a<e?-1:1},Yi=(a,e)=>Nn(e,a);var Ji={compareIdentifiers:Nn,rcompareIdentifiers:Yi};const Rt=In,{MAX_LENGTH:Qs,MAX_SAFE_INTEGER:It}=Mn,{safeRe:Ks,t:en}=ji,Qi=Wi,{compareIdentifiers:ot}=Ji;let Ki=class $e{constructor(e,s){if(s=Qi(s),e instanceof $e){if(e.loose===!!s.loose&&e.includePrerelease===!!s.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Qs)throw new TypeError(`version is longer than ${Qs} characters`);Rt("SemVer",e,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const t=e.trim().match(s.loose?Ks[en.LOOSE]:Ks[en.FULL]);if(!t)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>It||this.major<0)throw new TypeError("Invalid major version");if(this.minor>It||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>It||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const l=+i;if(l>=0&&l<It)return l}return i}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Rt("SemVer.compare",this.version,this.options,e),!(e instanceof $e)){if(typeof e=="string"&&e===this.version)return 0;e=new $e(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof $e||(e=new $e(e,this.options)),ot(this.major,e.major)||ot(this.minor,e.minor)||ot(this.patch,e.patch)}comparePre(e){if(e instanceof $e||(e=new $e(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let s=0;do{const t=this.prerelease[s],i=e.prerelease[s];if(Rt("prerelease compare",s,t,i),t===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(t===void 0)return-1;if(t===i)continue;return ot(t,i)}while(++s)}compareBuild(e){e instanceof $e||(e=new $e(e,this.options));let s=0;do{const t=this.build[s],i=e.build[s];if(Rt("build compare",s,t,i),t===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(t===void 0)return-1;if(t===i)continue;return ot(t,i)}while(++s)}inc(e,s,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s,t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s,t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s,t),this.inc("pre",s,t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s,t),this.inc("pre",s,t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(t)?1:0;if(!s&&t===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let l=this.prerelease.length;for(;--l>=0;)typeof this.prerelease[l]=="number"&&(this.prerelease[l]++,l=-2);if(l===-1){if(s===this.prerelease.join(".")&&t===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(s){let l=[s,i];t===!1&&(l=[s]),ot(this.prerelease[0],s)===0?isNaN(this.prerelease[1])&&(this.prerelease=l):this.prerelease=l}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ea=Ki;const tn=ea,ta=(a,e,s)=>new tn(a,s).compare(new tn(e,s));var sa=ta;const na=sa,ia=(a,e)=>na(a,e,!0);var aa=ia;const la=Rn(aa);function oa(a,e){const s=[];for(const t of a)for(const i of t.task_list){const l=t[e];let r=s.find(h=>h.groupTitle===l);const p=ca(t,i),c=t.version||"";if(r){let h=r.tasks.find(b=>Object.values(b.taskVersions).find(k=>k.task_name===i.name));h?h.taskVersions[c]=p:(h={selectedVersion:c,taskVersions:{[c]:p}},r.tasks.push(h))}else r={groupTitle:t[e],tasks:[{selectedVersion:c,taskVersions:{[c]:p}}]},s.push(r)}return ra(s),s}function ra(a){for(const e of a){for(const s of e.tasks){const t=Object.keys(s.taskVersions).filter(i=>i!=="");t.length>0&&(ls(t),s.selectedVersion=t[0])}e.tasks.sort((s,t)=>s.taskVersions[s.selectedVersion].task_id<t.taskVersions[t.selectedVersion].task_id?-1:1)}a.sort((e,s)=>e.groupTitle.localeCompare(s.groupTitle,void 0,{sensitivity:"base"}))}function ls(a){try{a.sort((e,s)=>e?s?la(e,s):1:-1).reverse()}catch(e){console.warn("Semver error:",e)}return a}function ca(a,e){return{pkg_name:a.pkg_name,task_id:e.id,task_name:e.name,version:a.version||"",category:e.category,modality:e.modality,authors:e.authors,tags:e.tags,input_types:e.input_types,docs_info:e.docs_info||"",docs_link:e.docs_link,install_instructions:e.install_instructions}}var Pn={exports:{}};(function(a,e){(function(s,t){a.exports=t()})($i,function(){class s{constructor(n){n||(n={}),this.main=n.main||"ss-main",this.placeholder=n.placeholder||"ss-placeholder",this.values=n.values||"ss-values",this.single=n.single||"ss-single",this.max=n.max||"ss-max",this.value=n.value||"ss-value",this.valueText=n.valueText||"ss-value-text",this.valueDelete=n.valueDelete||"ss-value-delete",this.valueOut=n.valueOut||"ss-value-out",this.deselect=n.deselect||"ss-deselect",this.deselectPath=n.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=n.arrow||"ss-arrow",this.arrowClose=n.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=n.arrowOpen||"M10,70 L50,30 L90,70",this.content=n.content||"ss-content",this.openAbove=n.openAbove||"ss-open-above",this.openBelow=n.openBelow||"ss-open-below",this.search=n.search||"ss-search",this.searchHighlighter=n.searchHighlighter||"ss-search-highlight",this.searching=n.searching||"ss-searching",this.addable=n.addable||"ss-addable",this.addablePath=n.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=n.list||"ss-list",this.optgroup=n.optgroup||"ss-optgroup",this.optgroupLabel=n.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=n.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=n.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=n.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=n.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=n.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=n.optgroupClosable||"ss-closable",this.option=n.option||"ss-option",this.optionDelete=n.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=n.highlighted||"ss-highlighted",this.open=n.open||"ss-open",this.close=n.close||"ss-close",this.selected=n.selected||"ss-selected",this.error=n.error||"ss-error",this.disabled=n.disabled||"ss-disabled",this.hide=n.hide||"ss-hide"}}function t(){return Math.random().toString(36).substring(2,10)}function i(C,n){function o(d,m){return m&&d&&d.classList&&d.classList.contains(m)||m&&d&&d.dataset&&d.dataset.id&&d.dataset.id===n?d:null}function u(d,m){return!d||d===document?null:o(d,m)?d:u(d.parentNode,m)}return o(C,n)||u(C,n)}function l(C,n=50,o=!1){let u;return function(...d){const m=self,g=()=>{u=null,o||C.apply(m,d)},w=o&&!u;clearTimeout(u),u=setTimeout(g,n),w&&C.apply(m,d)}}function r(C,n){return JSON.stringify(C)===JSON.stringify(n)}function p(C){const n=C.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,o=>"-"+o.toLowerCase());return C[0]===C[0].toUpperCase()?n.substring(1):n}class c{constructor(n){if(this.id=!n.id||n.id===""?t():n.id,this.label=n.label||"",this.selectAll=n.selectAll===void 0?!1:n.selectAll,this.selectAllText=n.selectAllText||"Select All",this.closable=n.closable||"off",this.options=[],n.options)for(const o of n.options)this.options.push(new h(o))}}class h{constructor(n){this.id=!n.id||n.id===""?t():n.id,this.value=n.value===void 0?n.text:n.value,this.text=n.text||"",this.html=n.html||"",this.selected=n.selected!==void 0?n.selected:!1,this.display=n.display!==void 0?n.display:!0,this.disabled=n.disabled!==void 0?n.disabled:!1,this.mandatory=n.mandatory!==void 0?n.mandatory:!1,this.placeholder=n.placeholder!==void 0?n.placeholder:!1,this.class=n.class||"",this.style=n.style||"",this.data=n.data||{}}}class b{constructor(n,o){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=n,this.setData(o)}validateDataArray(n){if(!Array.isArray(n))return new Error("Data must be an array");for(let o of n)if(o instanceof c||"label"in o){if(!("label"in o))return new Error("Optgroup must have a label");if("options"in o&&o.options)for(let u of o.options){const d=this.validateOption(u);if(d)return d}}else if(o instanceof h||"text"in o){const u=this.validateOption(o);if(u)return u}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(n){return"text"in n?null:new Error("Option must have a text")}partialToFullData(n){let o=[];return n.forEach(u=>{if(u instanceof c||"label"in u){let d=[];"options"in u&&u.options&&u.options.forEach(m=>{d.push(new h(m))}),d.length>0&&o.push(new c(u))}(u instanceof h||"text"in u)&&o.push(new h(u))}),o}setData(n){this.data=this.partialToFullData(n),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(n,o=!1){if(o){let u=[new h(n)];this.setData(u.concat(this.getData()))}else this.setData(this.getData().concat(new h(n)))}setSelectedBy(n,o){let u=null,d=!1;const m=[];for(let w of this.data){if(w instanceof c)for(let L of w.options)u||(u=L),L.selected=d?!1:o.includes(L[n]),L.selected&&(m.push(L),this.selectType==="single"&&(d=!0));w instanceof h&&(u||(u=w),w.selected=d?!1:o.includes(w[n]),w.selected&&(m.push(w),this.selectType==="single"&&(d=!0)))}this.selectType==="single"&&u&&!d&&(u.selected=!0,m.push(u));const g=o.map(w=>{var L;return((L=m.find(R=>R[n]===w))===null||L===void 0?void 0:L.id)||""});this.selectedOrder=g}getSelected(){return this.getSelectedOptions().map(n=>n.id)}getSelectedValues(){return this.getSelectedOptions().map(n=>n.value)}getSelectedOptions(){return this.filter(n=>n.selected,!1)}getOptgroupByID(n){for(let o of this.data)if(o instanceof c&&o.id===n)return o;return null}getOptionByID(n){let o=this.filter(u=>u.id===n,!1);return o.length?o[0]:null}getSelectType(){return this.selectType}getFirstOption(){let n=null;for(let o of this.data)if(o instanceof c?n=o.options[0]:o instanceof h&&(n=o),n)break;return n}search(n,o){return n=n.trim(),n===""?this.getData():this.filter(u=>o(u,n),!0)}filter(n,o){const u=[];return this.data.forEach(d=>{if(d instanceof c){let m=[];if(d.options.forEach(g=>{(!n||n(g))&&(o?m.push(new h(g)):u.push(new h(g)))}),m.length>0){let g=new c(d);g.options=m,u.push(g)}}d instanceof h&&(!n||n(d))&&u.push(new h(d))}),u}selectedOrderOptions(n){const o=[];return this.selectedOrder.forEach(u=>{const d=n.find(m=>m.id===u);d&&o.push(d)}),n.forEach(u=>{let d=!1;o.forEach(m=>{if(u.id===m.id){d=!0;return}}),d||o.push(u)}),o}}class k{constructor(n,o,u,d){this.store=u,this.settings=n,this.classes=o,this.callbacks=d,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const n=this.store.getSelectedOptions();if(n.length){const o=n[n.length-1].id,u=this.content.list.querySelector('[data-id="'+o+'"]');u&&this.ensureElementInView(this.content.list,u)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const n of this.settings.class)n.trim()!==""&&(this.main.main.classList.add(n.trim()),this.content.main.classList.add(n.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var n;const o=document.createElement("div");o.dataset.id=this.settings.id,o.setAttribute("aria-label",this.settings.ariaLabel),o.tabIndex=0,o.onkeydown=N=>{switch(N.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),N.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const V=this.content.list.querySelector("."+this.classes.highlighted);return V&&V.click(),!1;case"Escape":return this.callbacks.close(),!1}return N.key.length===1&&this.callbacks.open(),!0},o.onclick=N=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const u=document.createElement("div");u.classList.add(this.classes.values),o.appendChild(u);const d=document.createElement("div");d.classList.add(this.classes.deselect);const m=(n=this.store)===null||n===void 0?void 0:n.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&m&&m.length<=0?d.classList.add(this.classes.hide):d.classList.remove(this.classes.hide),d.onclick=N=>{if(N.stopPropagation(),this.settings.disabled)return;let V=!0;const T=this.store.getSelectedOptions(),P=[];if(this.callbacks.beforeChange&&(V=this.callbacks.beforeChange(P,T)===!0),V){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const B=this.store.getFirstOption(),Z=B?B.id:"";this.callbacks.setSelected(Z,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("viewBox","0 0 100 100");const w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",this.classes.deselectPath),g.appendChild(w),d.appendChild(g),o.appendChild(d);const L=document.createElementNS("http://www.w3.org/2000/svg","svg");L.classList.add(this.classes.arrow),L.setAttribute("viewBox","0 0 100 100");const R=document.createElementNS("http://www.w3.org/2000/svg","path");return R.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&L.classList.add(this.classes.hide),L.appendChild(R),o.appendChild(L),{main:o,values:u,deselect:{main:d,svg:g,path:w},arrow:{main:L,path:R}}}mainFocus(n){n!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const n=this.store.filter(d=>d.placeholder,!1);let o=this.settings.placeholderText;n.length&&(n[0].html!==""?o=n[0].html:n[0].text!==""&&(o=n[0].text));const u=document.createElement("div");return u.classList.add(this.classes.placeholder),u.innerHTML=o,u}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const n=this.store.filter(u=>u.selected&&!u.placeholder,!1),o=n.length>0?n[0]:null;if(!o)this.main.values.innerHTML=this.placeholder().outerHTML;else{const u=document.createElement("div");u.classList.add(this.classes.single),o.html?u.innerHTML=o.html:u.innerText=o.text,this.main.values.innerHTML=u.outerHTML}!this.settings.allowDeselect||!n.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let n=this.main.values.childNodes,o=this.store.filter(d=>d.selected&&d.display,!1);if(o.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const d=this.main.values.querySelector("."+this.classes.placeholder);d&&d.remove()}if(o.length>this.settings.maxValuesShown){const d=document.createElement("div");d.classList.add(this.classes.max),d.textContent=this.settings.maxValuesMessage.replace("{number}",o.length.toString()),this.main.values.innerHTML=d.outerHTML;return}else{const d=this.main.values.querySelector("."+this.classes.max);d&&d.remove()}this.settings.keepOrder&&(o=this.store.selectedOrderOptions(o));let u=[];for(let d=0;d<n.length;d++){const m=n[d],g=m.getAttribute("data-id");g&&(o.filter(L=>L.id===g,!1).length||u.push(m))}for(const d of u)d.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(d)&&this.main.values.removeChild(d)},100);n=this.main.values.childNodes;for(let d=0;d<o.length;d++){let m=!0;for(let g=0;g<n.length;g++)o[d].id===String(n[g].dataset.id)&&(m=!1);m&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(o[d])):n.length===0?this.main.values.appendChild(this.multipleValue(o[d])):d===0?this.main.values.insertBefore(this.multipleValue(o[d]),n[d]):n[d-1].insertAdjacentElement("afterend",this.multipleValue(o[d])))}}multipleValue(n){const o=document.createElement("div");o.classList.add(this.classes.value),o.dataset.id=n.id;const u=document.createElement("div");if(u.classList.add(this.classes.valueText),u.textContent=n.text,o.appendChild(u),!n.mandatory){const d=document.createElement("div");d.classList.add(this.classes.valueDelete),d.onclick=w=>{if(w.preventDefault(),w.stopPropagation(),this.settings.disabled)return;let L=!0;const R=this.store.getSelectedOptions(),N=R.filter(V=>V.selected&&V.id!==n.id,!0);if(!(this.settings.minSelected&&N.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(L=this.callbacks.beforeChange(N,R)===!0),L)){let V=[];for(const T of N){if(T instanceof c)for(const P of T.options)V.push(P.id);T instanceof h&&V.push(T.id)}this.callbacks.setSelected(V,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(N),this.updateDeselectAll()}};const m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttribute("viewBox","0 0 100 100");const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",this.classes.optionDelete),m.appendChild(g),d.appendChild(m),o.appendChild(d)}return o}contentDiv(){const n=document.createElement("div");n.dataset.id=this.settings.id;const o=this.searchDiv();n.appendChild(o.main);const u=this.listDiv();return n.appendChild(u),{main:n,search:o,list:u}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const n=document.createElement("div"),o=document.createElement("input"),u=document.createElement("div");n.classList.add(this.classes.search);const d={main:n,input:o};if(this.settings.showSearch||(n.classList.add(this.classes.hide),o.readOnly=!0),o.type="search",o.placeholder=this.settings.searchPlaceholder,o.tabIndex=-1,o.setAttribute("aria-label",this.settings.searchPlaceholder),o.setAttribute("autocapitalize","off"),o.setAttribute("autocomplete","off"),o.setAttribute("autocorrect","off"),o.oninput=l(m=>{this.callbacks.search(m.target.value)},100),o.onkeydown=m=>{switch(m.key){case"ArrowUp":case"ArrowDown":return m.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const g=this.content.list.querySelector("."+this.classes.highlighted);return g?(g.click(),!1):!0;case"Enter":if(this.callbacks.addable)return u.click(),!1;{const w=this.content.list.querySelector("."+this.classes.highlighted);if(w)return w.click(),!1}return!0}return!0},n.appendChild(o),this.callbacks.addable){u.classList.add(this.classes.addable);const m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttribute("viewBox","0 0 100 100");const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",this.classes.addablePath),m.appendChild(g),u.appendChild(m),u.onclick=w=>{if(w.preventDefault(),w.stopPropagation(),!this.callbacks.addable)return;const L=this.content.search.input.value.trim();if(L===""){this.content.search.input.focus();return}const R=V=>{let T=new h(V);if(this.callbacks.addOption(T),this.settings.isMultiple){let P=this.store.getSelected();P.push(T.id),this.callbacks.setSelected(P,!0)}else this.callbacks.setSelected([T.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},N=this.callbacks.addable(L);N===!1||N===void 0||N===null||(N instanceof Promise?N.then(V=>{typeof V=="string"?R({text:V,value:V}):N instanceof Error?this.renderError(N.message):R(V)}):typeof N=="string"?R({text:N,value:N}):N instanceof Error?this.renderError(N.message):R(N))},n.appendChild(u),d.addable={main:u,svg:m,path:g}}return d}searchFocus(){this.content.search.input.focus()}getOptions(n=!1,o=!1,u=!1){let d="."+this.classes.option;return n&&(d+=":not(."+this.classes.placeholder+")"),o&&(d+=":not(."+this.classes.disabled+")"),u&&(d+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(d))}highlight(n){const o=this.getOptions(!0,!0,!0);if(o.length===0)return;if(o.length===1&&!o[0].classList.contains(this.classes.highlighted)){o[0].classList.add(this.classes.highlighted);return}let u=!1;for(const d of o)d.classList.contains(this.classes.highlighted)&&(u=!0);if(!u){for(const d of o)if(d.classList.contains(this.classes.selected)){d.classList.add(this.classes.highlighted);break}}for(let d=0;d<o.length;d++)if(o[d].classList.contains(this.classes.highlighted)){const m=o[d];m.classList.remove(this.classes.highlighted);const g=m.parentElement;if(g&&g.classList.contains(this.classes.open)){const R=g.querySelector("."+this.classes.optgroupLabel);R&&R.click()}let w=o[n==="down"?d+1<o.length?d+1:0:d-1>=0?d-1:o.length-1];w.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,w);const L=w.parentElement;if(L&&L.classList.contains(this.classes.close)){const R=L.querySelector("."+this.classes.optgroupLabel);R&&R.click()}return}o[n==="down"?0:o.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,o[n==="down"?0:o.length-1])}listDiv(){const n=document.createElement("div");return n.classList.add(this.classes.list),n}renderError(n){this.content.list.innerHTML="";const o=document.createElement("div");o.classList.add(this.classes.error),o.textContent=n,this.content.list.appendChild(o)}renderSearching(){this.content.list.innerHTML="";const n=document.createElement("div");n.classList.add(this.classes.searching),n.textContent=this.settings.searchingText,this.content.list.appendChild(n)}renderOptions(n){if(this.content.list.innerHTML="",n.length===0){const o=document.createElement("div");o.classList.add(this.classes.search),this.callbacks.addable?o.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):o.innerHTML=this.settings.searchText,this.content.list.appendChild(o);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(u=>u.placeholder,!1).length||this.store.addOption(new h({text:"",value:"",selected:!1,placeholder:!0}),!0));for(const o of n){if(o instanceof c){const u=document.createElement("div");u.classList.add(this.classes.optgroup);const d=document.createElement("div");d.classList.add(this.classes.optgroupLabel),u.appendChild(d);const m=document.createElement("div");m.classList.add(this.classes.optgroupLabelText),m.textContent=o.label,d.appendChild(m);const g=document.createElement("div");if(g.classList.add(this.classes.optgroupActions),d.appendChild(g),this.settings.isMultiple&&o.selectAll){const w=document.createElement("div");w.classList.add(this.classes.optgroupSelectAll);let L=!0;for(const P of o.options)if(!P.selected){L=!1;break}L&&w.classList.add(this.classes.selected);const R=document.createElement("span");R.textContent=o.selectAllText,w.appendChild(R);const N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.setAttribute("viewBox","0 0 100 100"),w.appendChild(N);const V=document.createElementNS("http://www.w3.org/2000/svg","path");V.setAttribute("d",this.classes.optgroupSelectAllBox),N.appendChild(V);const T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("d",this.classes.optgroupSelectAllCheck),N.appendChild(T),w.addEventListener("click",P=>{P.preventDefault(),P.stopPropagation();const B=this.store.getSelected();if(L){const Z=B.filter(J=>{for(const pe of o.options)if(J===pe.id)return!1;return!0});this.callbacks.setSelected(Z,!0);return}else{const Z=B.concat(o.options.map(J=>J.id));for(const J of o.options)this.store.getOptionByID(J.id)||this.callbacks.addOption(J);this.callbacks.setSelected(Z,!0);return}}),g.appendChild(w)}if(o.closable!=="off"){const w=document.createElement("div");w.classList.add(this.classes.optgroupClosable);const L=document.createElementNS("http://www.w3.org/2000/svg","svg");L.setAttribute("viewBox","0 0 100 100"),L.classList.add(this.classes.arrow),w.appendChild(L);const R=document.createElementNS("http://www.w3.org/2000/svg","path");L.appendChild(R),o.options.some(N=>N.selected)||this.content.search.input.value.trim()!==""?(w.classList.add(this.classes.open),R.setAttribute("d",this.classes.arrowOpen)):o.closable==="open"?(u.classList.add(this.classes.open),R.setAttribute("d",this.classes.arrowOpen)):o.closable==="close"&&(u.classList.add(this.classes.close),R.setAttribute("d",this.classes.arrowClose)),d.addEventListener("click",N=>{N.preventDefault(),N.stopPropagation(),u.classList.contains(this.classes.close)?(u.classList.remove(this.classes.close),u.classList.add(this.classes.open),R.setAttribute("d",this.classes.arrowOpen)):(u.classList.remove(this.classes.open),u.classList.add(this.classes.close),R.setAttribute("d",this.classes.arrowClose))}),g.appendChild(w)}u.appendChild(d);for(const w of o.options)u.appendChild(this.option(w));this.content.list.appendChild(u)}o instanceof h&&this.content.list.appendChild(this.option(o))}}option(n){if(n.placeholder){const u=document.createElement("div");return u.classList.add(this.classes.option),u.classList.add(this.classes.hide),u}const o=document.createElement("div");return o.dataset.id=n.id,o.classList.add(this.classes.option),o.setAttribute("role","option"),n.class&&n.class.split(" ").forEach(u=>{o.classList.add(u)}),n.style&&(o.style.cssText=n.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?o.innerHTML=this.highlightText(n.html!==""?n.html:n.text,this.content.search.input.value,this.classes.searchHighlighter):n.html!==""?o.innerHTML=n.html:o.textContent=n.text,this.settings.showOptionTooltips&&o.textContent&&o.setAttribute("title",o.textContent),n.display||o.classList.add(this.classes.hide),n.disabled&&o.classList.add(this.classes.disabled),n.selected&&this.settings.hideSelected&&o.classList.add(this.classes.hide),n.selected?(o.classList.add(this.classes.selected),o.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",o.id)):(o.classList.remove(this.classes.selected),o.setAttribute("aria-selected","false")),o.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation();const d=this.store.getSelected(),m=u.currentTarget,g=String(m.dataset.id);if(n.disabled||n.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=d.length&&!n.selected||this.settings.isMultiple&&this.settings.minSelected>=d.length&&n.selected)return;let w=!1;const L=this.store.getSelectedOptions();let R=[];this.settings.isMultiple&&(n.selected?R=L.filter(N=>N.id!==g):R=L.concat(n)),this.settings.isMultiple||(n.selected?R=[]:R=[n]),this.callbacks.beforeChange||(w=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(R,L)===!1?w=!1:w=!0),w&&(this.store.getOptionByID(g)||this.callbacks.addOption(n),this.callbacks.setSelected(R.map(N=>N.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(R))}),o}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(n,o,u){let d=n;const m=new RegExp("(?![^<]*>)("+o.trim()+")(?![^<]*>[^<>]*</)","i");if(!n.match(m))return n;const g=n.match(m).index,w=g+n.match(m)[0].toString().length,L=n.substring(g,w);return d=d.replace(m,`<mark class="${u}">${L}</mark>`),d}moveContentAbove(){const n=this.main.main.offsetHeight,o=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const u=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(n+o-1)+"px 0px 0px 0px",this.content.main.style.top=u.top+u.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=u.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=u.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const n=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=n.top+n.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=n.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=n.width+"px")}ensureElementInView(n,o){const u=n.scrollTop+n.offsetTop,d=u+n.clientHeight,m=o.offsetTop,g=m+o.clientHeight;m<u?n.scrollTop-=u-m:g>d&&(n.scrollTop+=g-d)}putContent(){const n=this.main.main.offsetHeight,o=this.main.main.getBoundingClientRect(),u=this.content.main.offsetHeight;return window.innerHeight-(o.top+n)<=u&&o.top>u?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const n=this.store.getSelectedOptions(),o=n&&n.length>0,u=this.settings.isMultiple,d=this.settings.allowDeselect,m=this.main.deselect.main,g=this.classes.hide;d&&!(u&&!o)?m.classList.remove(g):m.classList.add(g)}}class y{constructor(n){this.listen=!1,this.observer=null,this.select=n,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(n){this.listen=n,n&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),n||this.observer&&this.observer.disconnect()}valueChange(n){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(n){if(!this.listen)return;let o=!1,u=!1,d=!1;for(const m of n){if(m.target===this.select&&(m.attributeName==="disabled"&&(u=!0),m.attributeName==="class"&&(o=!0),m.type==="childList")){for(const g of m.addedNodes)if(g.nodeName==="OPTION"&&g.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}d=!0}(m.target.nodeName==="OPTGROUP"||m.target.nodeName==="OPTION")&&(d=!0)}o&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),u&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),d&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let n=[];const o=this.select.childNodes;for(const u of o)u.nodeName==="OPTGROUP"&&n.push(this.getDataFromOptgroup(u)),u.nodeName==="OPTION"&&n.push(this.getDataFromOption(u));return n}getDataFromOptgroup(n){let o={id:n.id,label:n.label,selectAll:n.dataset?n.dataset.selectall==="true":!1,selectAllText:n.dataset?n.dataset.selectalltext:"Select all",closable:n.dataset?n.dataset.closable:"off",options:[]};const u=n.childNodes;for(const d of u)d.nodeName==="OPTION"&&o.options.push(this.getDataFromOption(d));return o}getDataFromOption(n){return{id:n.id,value:n.value,text:n.text,html:n.dataset&&n.dataset.html?n.dataset.html:"",selected:n.selected,display:n.style.display!=="none",disabled:n.disabled,mandatory:n.dataset?n.dataset.mandatory==="true":!1,placeholder:n.dataset.placeholder==="true",class:n.className,style:n.style.cssText,data:n.dataset}}getSelectedOptions(){let n=[];const o=this.select.childNodes;for(const u of o){if(u.nodeName==="OPTGROUP"){const d=u.childNodes;for(const m of d)if(m.nodeName==="OPTION"){const g=m;g.selected&&n.push(this.getDataFromOption(g))}}if(u.nodeName==="OPTION"){const d=u;d.selected&&n.push(this.getDataFromOption(d))}}return n}getSelectedValues(){return this.getSelectedOptions().map(n=>n.value)}setSelected(n){this.changeListen(!1);const o=this.select.childNodes;for(const u of o){if(u.nodeName==="OPTGROUP"){const m=u.childNodes;for(const g of m)if(g.nodeName==="OPTION"){const w=g;w.selected=n.includes(w.id)}}if(u.nodeName==="OPTION"){const d=u;d.selected=n.includes(d.id)}}this.changeListen(!0)}setSelectedByValue(n){this.changeListen(!1);const o=this.select.childNodes;for(const u of o){if(u.nodeName==="OPTGROUP"){const m=u.childNodes;for(const g of m)if(g.nodeName==="OPTION"){const w=g;w.selected=n.includes(w.value)}}if(u.nodeName==="OPTION"){const d=u;d.selected=n.includes(d.value)}}this.changeListen(!0)}updateSelect(n,o,u){this.changeListen(!1),n&&(this.select.dataset.id=n),o&&(this.select.style.cssText=o),u&&(this.select.className="",u.forEach(d=>{d.trim()!==""&&this.select.classList.add(d.trim())})),this.changeListen(!0)}updateOptions(n){this.changeListen(!1),this.select.innerHTML="";for(const o of n)o instanceof c&&this.select.appendChild(this.createOptgroup(o)),o instanceof h&&this.select.appendChild(this.createOption(o));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(n){const o=document.createElement("optgroup");if(o.id=n.id,o.label=n.label,n.selectAll&&(o.dataset.selectAll="true"),n.closable!=="off"&&(o.dataset.closable=n.closable),n.options)for(const u of n.options)o.appendChild(this.createOption(u));return o}createOption(n){const o=document.createElement("option");return o.id=n.id,o.value=n.value,o.textContent=n.text,n.html!==""&&o.setAttribute("data-html",n.html),n.selected&&(o.selected=n.selected),n.disabled&&(o.disabled=!0),n.display||(o.style.display="none"),n.placeholder&&o.setAttribute("data-placeholder","true"),n.mandatory&&o.setAttribute("data-mandatory","true"),n.class&&n.class.split(" ").forEach(u=>{o.classList.add(u)}),n.data&&typeof n.data=="object"&&Object.keys(n.data).forEach(u=>{o.setAttribute("data-"+p(u),n.data[u])}),o}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class v{constructor(n){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,n||(n={}),this.id="ss-"+t(),this.style=n.style||"",this.class=n.class||[],this.disabled=n.disabled!==void 0?n.disabled:!1,this.alwaysOpen=n.alwaysOpen!==void 0?n.alwaysOpen:!1,this.showSearch=n.showSearch!==void 0?n.showSearch:!0,this.focusSearch=n.focusSearch!==void 0?n.focusSearch:!0,this.ariaLabel=n.ariaLabel||"Combobox",this.searchPlaceholder=n.searchPlaceholder||"Search",this.searchText=n.searchText||"No Results",this.searchingText=n.searchingText||"Searching...",this.searchHighlight=n.searchHighlight!==void 0?n.searchHighlight:!1,this.closeOnSelect=n.closeOnSelect!==void 0?n.closeOnSelect:!0,this.contentLocation=n.contentLocation||document.body,this.contentPosition=n.contentPosition||"absolute",this.openPosition=n.openPosition||"auto",this.placeholderText=n.placeholderText!==void 0?n.placeholderText:"Select Value",this.allowDeselect=n.allowDeselect!==void 0?n.allowDeselect:!1,this.hideSelected=n.hideSelected!==void 0?n.hideSelected:!1,this.keepOrder=n.keepOrder!==void 0?n.keepOrder:!1,this.showOptionTooltips=n.showOptionTooltips!==void 0?n.showOptionTooltips:!1,this.minSelected=n.minSelected||0,this.maxSelected=n.maxSelected||1e3,this.timeoutDelay=n.timeoutDelay||200,this.maxValuesShown=n.maxValuesShown||20,this.maxValuesMessage=n.maxValuesMessage||"{number} selected",this.addableText=n.addableText||'Press "Enter" to add {value}'}}class _{constructor(n){var o;if(this.events={search:void 0,searchFilter:(w,L)=>w.text.toLowerCase().indexOf(L.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=l(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=l(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=w=>{this.settings.isOpen&&w.target&&!i(w.target,this.settings.id)&&this.close(w.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof n.select=="string"?document.querySelector(n.select):n.select,!this.selectEl){n.events&&n.events.error&&n.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){n.events&&n.events.error&&n.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new v(n.settings),this.cssClasses=new s(n.cssClasses);const u=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const w in n.events)n.events.hasOwnProperty(w)&&(u.indexOf(w)!==-1?this.events[w]=l(n.events[w],100):this.events[w]=n.events[w]);this.settings.disabled=!((o=n.settings)===null||o===void 0)&&o.disabled?n.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new y(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=w=>{this.setSelected(w.map(L=>L.id))},this.select.onClassChange=w=>{this.settings.class=w,this.render.updateClassStyles()},this.select.onDisabledChange=w=>{w?this.disable():this.enable()},this.select.onOptionsChange=w=>{this.setData(w)},this.store=new b(this.settings.isMultiple?"multiple":"single",n.data?n.data:this.select.getData()),n.data&&this.select.updateOptions(this.store.getData());const d={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new k(this.settings,this.cssClasses,this.store,d),this.render.renderValues(),this.render.renderOptions(this.store.getData());const m=this.selectEl.getAttribute("aria-label"),g=this.selectEl.getAttribute("aria-labelledby");m?this.render.main.main.setAttribute("aria-label",m):g&&this.render.main.main.setAttribute("aria-labelledby",g),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(n){const o=this.store.getSelected(),u=this.store.validateDataArray(n);if(u){this.events.error&&this.events.error(u);return}this.store.setData(n);const d=this.store.getData();this.select.updateOptions(d),this.render.renderValues(),this.render.renderOptions(d),this.events.afterChange&&!r(o,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let n=this.store.getSelectedOptions();return this.settings.keepOrder&&(n=this.store.selectedOrderOptions(n)),n.map(o=>o.value)}setSelected(n,o=!0){const u=this.store.getSelected(),d=this.store.getDataOptions();n=Array.isArray(n)?n:[n];const m=[];for(const w of n){if(d.find(L=>L.id==w)){m.push(w);continue}for(const L of d.filter(R=>R.value==w))m.push(L.id)}this.store.setSelectedBy("id",m);const g=this.store.getData();this.select.updateOptions(g),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(g),o&&this.events.afterChange&&!r(u,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(n){const o=this.store.getSelected();this.store.getDataOptions().some(d=>{var m;return d.value===((m=n.value)!==null&&m!==void 0?m:n.text)})||this.store.addOption(n);const u=this.store.getData();this.select.updateOptions(u),this.render.renderValues(),this.render.renderOptions(u),this.events.afterChange&&!r(o,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(n=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(n),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(n){if(this.render.content.search.input.value!==n&&(this.render.content.search.input.value=n),!this.events.search){this.render.renderOptions(n===""?this.store.getData():this.store.search(n,this.events.searchFilter));return}this.render.renderSearching();const o=this.events.search(n,this.store.getSelectedOptions());if(o instanceof Promise){o.then(u=>{this.render.renderOptions(this.store.partialToFullData(u))}).catch(u=>{this.render.renderError(typeof u=="string"?u:u.message)});return}else Array.isArray(o)?this.render.renderOptions(this.store.partialToFullData(o)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return _})})(Pn);var ha=Pn.exports;const ua=Rn(ha);function sn(a){let e,s;return{c(){e=D("span"),s=Oe(a[0]),this.h()},l(t){e=M(t,"SPAN",{style:!0,class:!0});var i=j(e);s=Se(i,a[0]),i.forEach(S),this.h()},h(){Ns(e,"background-color",a[2](a[0])),F(e,"class","badge rounded-pill coloured-badge text-dark")},m(t,i){q(t,e,i),x(e,s)},p(t,i){i&1&&De(s,t[0]),i&1&&Ns(e,"background-color",t[2](t[0]))},d(t){t&&S(e)}}}function pa(a){let e,s=a[0]&&a[1]&&sn(a);return{c(){s&&s.c(),e=We()},l(t){s&&s.l(t),e=We()},m(t,i){s&&s.m(t,i),q(t,e,i)},p(t,[i]){t[0]&&t[1]?s?s.p(t,i):(s=sn(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:Qe,o:Qe,d(t){t&&S(e),s&&s.d(t)}}}function da(a,e,s){let{value:t}=e,i;function l(p){return new i({lightness:.8,saturation:.95}).hex(p)}let r=!1;return wn(async()=>{i=(await ei(async()=>{const{default:p}=await import("../chunks/esm.B-bOhdOb.js");return{default:p}},[],import.meta.url)).default,s(1,r=!0)}),a.$$set=p=>{"value"in p&&s(0,t=p.value)},[t,r,l]}class Fn extends rs{constructor(e){super(),cs(this,e,da,pa,os,{value:0})}}function nn(a,e,s){const t=a.slice();return t[32]=e[s],t}function an(a,e,s){const t=a.slice();return t[35]=e[s],t[36]=e,t[37]=s,t}const fa=a=>({task:a[0]&2}),ln=a=>({task:a[35].taskVersions[a[35].selectedVersion]});function on(a,e,s){const t=a.slice();return t[38]=e[s],t}const ma=a=>({}),rn=a=>({}),ga=a=>({}),cn=a=>({});function ba(a){let e,s,t,i,l,r,p,c,h,b,k,y,v,_,C,n,o,u,d=a[7][$n]+"",m,g,w,L="Category",R,N,V="Modality",T,P,B="Metadata",Z,J,pe="Version",xe,Le,O,G,U,Ue,ie,Me,ae,Be,Ge=a[5]===1?"task":"tasks",Ye,be;const nt=a[15]["extra-columns-colgroup"],de=Qt(nt,a,a[14],cn),Ne=a[15]["extra-columns-header"],he=Qt(Ne,a,a[14],rn);let ke=ht(a[1]),se=[];for(let z=0;z<ke.length;z+=1)se[z]=mn(nn(a,ke,z));const ut=z=>ce(se[z],1,1,()=>{se[z]=null});return{c(){e=D("div"),s=D("div"),t=D("table"),i=D("colgroup"),l=D("col"),r=W(),p=D("col"),c=W(),h=D("col"),b=W(),k=D("col"),y=W(),v=D("col"),_=W(),de&&de.c(),C=W(),n=D("thead"),o=D("tr"),u=D("th"),m=Oe(d),g=W(),w=D("th"),w.textContent=L,R=W(),N=D("th"),N.textContent=V,T=W(),P=D("th"),P.textContent=B,Z=W(),J=D("th"),J.textContent=pe,xe=W(),he&&he.c(),Le=W(),O=D("tbody");for(let z=0;z<se.length;z+=1)se[z].c();G=W(),U=D("p"),Ue=Oe("Showing "),ie=Oe(a[6]),Me=Oe(" of "),ae=Oe(a[5]),Be=W(),Ye=Oe(Ge),this.h()},l(z){e=M(z,"DIV",{class:!0});var te=j(e);s=M(te,"DIV",{class:!0});var ne=j(s);t=M(ne,"TABLE",{class:!0,id:!0});var Ce=j(t);i=M(Ce,"COLGROUP",{});var _e=j(i);l=M(_e,"COL",{}),r=Y(_e),p=M(_e,"COL",{}),c=Y(_e),h=M(_e,"COL",{}),b=Y(_e),k=M(_e,"COL",{}),y=Y(_e),v=M(_e,"COL",{width:!0}),_=Y(_e),de&&de.l(_e),_e.forEach(S),C=Y(Ce),n=M(Ce,"THEAD",{});var wt=j(n);o=M(wt,"TR",{});var fe=j(o);u=M(fe,"TH",{class:!0});var qe=j(u);m=Se(qe,d),qe.forEach(S),g=Y(fe),w=M(fe,"TH",{class:!0,"data-svelte-h":!0}),He(w)!=="svelte-10ppr1q"&&(w.textContent=L),R=Y(fe),N=M(fe,"TH",{class:!0,"data-svelte-h":!0}),He(N)!=="svelte-slk3w9"&&(N.textContent=V),T=Y(fe),P=M(fe,"TH",{class:!0,"data-svelte-h":!0}),He(P)!=="svelte-v7n8cf"&&(P.textContent=B),Z=Y(fe),J=M(fe,"TH",{class:!0,"data-svelte-h":!0}),He(J)!=="svelte-1mhdjxa"&&(J.textContent=pe),xe=Y(fe),he&&he.l(fe),fe.forEach(S),wt.forEach(S),Le=Y(Ce),O=M(Ce,"TBODY",{});var je=j(O);for(let it=0;it<se.length;it+=1)se[it].l(je);je.forEach(S),Ce.forEach(S),ne.forEach(S),te.forEach(S),G=Y(z),U=M(z,"P",{class:!0});var Ee=j(U);Ue=Se(Ee,"Showing "),ie=Se(Ee,a[6]),Me=Se(Ee," of "),ae=Se(Ee,a[5]),Be=Y(Ee),Ye=Se(Ee,Ge),Ee.forEach(S),this.h()},h(){F(v,"width","120"),F(u,"class","svelte-1h5c2ka"),F(w,"class","svelte-1h5c2ka"),F(N,"class","svelte-1h5c2ka"),F(P,"class","svelte-1h5c2ka"),F(J,"class","svelte-1h5c2ka"),F(t,"class","table table-borderless svelte-1h5c2ka"),F(t,"id","filtered-tasks-table"),F(s,"class","card-body p-0"),F(e,"class","card"),F(U,"class","mt-3 text-center mb-0")},m(z,te){q(z,e,te),x(e,s),x(s,t),x(t,i),x(i,l),x(i,r),x(i,p),x(i,c),x(i,h),x(i,b),x(i,k),x(i,y),x(i,v),x(i,_),de&&de.m(i,null),x(t,C),x(t,n),x(n,o),x(o,u),x(u,m),x(o,g),x(o,w),x(o,R),x(o,N),x(o,T),x(o,P),x(o,Z),x(o,J),x(o,xe),he&&he.m(o,null),x(t,Le),x(t,O);for(let ne=0;ne<se.length;ne+=1)se[ne]&&se[ne].m(O,null);q(z,G,te),q(z,U,te),x(U,Ue),x(U,ie),x(U,Me),x(U,ae),x(U,Be),x(U,Ye),be=!0},p(z,te){if(de&&de.p&&(!be||te[0]&16384)&&Kt(de,nt,z,z[14],be?ts(nt,z[14],te,ga):es(z[14]),cn),he&&he.p&&(!be||te[0]&16384)&&Kt(he,Ne,z,z[14],be?ts(Ne,z[14],te,ma):es(z[14]),rn),te[0]&16410){ke=ht(z[1]);let ne;for(ne=0;ne<ke.length;ne+=1){const Ce=nn(z,ke,ne);se[ne]?(se[ne].p(Ce,te),oe(se[ne],1)):(se[ne]=mn(Ce),se[ne].c(),oe(se[ne],1),se[ne].m(O,null))}for(rt(),ne=ke.length;ne<se.length;ne+=1)ut(ne);ct()}(!be||te[0]&64)&&De(ie,z[6]),(!be||te[0]&32)&&De(ae,z[5]),(!be||te[0]&32)&&Ge!==(Ge=z[5]===1?"task":"tasks")&&De(Ye,Ge)},i(z){if(!be){oe(de,z),oe(he,z);for(let te=0;te<ke.length;te+=1)oe(se[te]);be=!0}},o(z){ce(de,z),ce(he,z),se=se.filter(Boolean);for(let te=0;te<se.length;te+=1)ce(se[te]);be=!1},d(z){z&&(S(e),S(G),S(U)),de&&de.d(z),he&&he.d(z),hs(se,z)}}}function ka(a){let e,s=`There are no available tasks. You can add new tasks on the
		<a href="/v2/tasks/management">Tasks management</a> page.`;return{c(){e=D("p"),e.innerHTML=s},l(t){e=M(t,"P",{"data-svelte-h":!0}),He(e)!=="svelte-1jz05g4"&&(e.innerHTML=s)},m(t,i){q(t,e,i)},p:Qe,i:Qe,o:Qe,d(t){t&&S(e)}}}function hn(a){let e,s,t,i,l,r,p,c,h=bn(a[35].taskVersions[a[35].selectedVersion])+"",b,k,y,v,_,C,n;function o(T,P){return T[35].taskVersions[T[35].selectedVersion].docs_link?wa:_a}let u=o(a),d=u(a),m=a[35].taskVersions[a[35].selectedVersion].category&&un(a),g=a[35].taskVersions[a[35].selectedVersion].modality&&pn(a);function w(T,P){return P[0]&2&&(v=null),v==null&&(v=Object.keys(T[35].taskVersions).length>1),v?va:ya}let L=w(a,[-1,-1]),R=L(a);const N=a[15]["extra-columns"],V=Qt(N,a,a[14],ln);return{c(){e=D("tr"),s=D("td"),d.c(),t=W(),i=D("td"),m&&m.c(),l=W(),r=D("td"),g&&g.c(),p=W(),c=D("td"),b=Oe(h),k=W(),y=D("td"),R.c(),_=W(),V&&V.c(),C=W(),this.h()},l(T){e=M(T,"TR",{});var P=j(e);s=M(P,"TD",{class:!0});var B=j(s);d.l(B),B.forEach(S),t=Y(P),i=M(P,"TD",{class:!0});var Z=j(i);m&&m.l(Z),Z.forEach(S),l=Y(P),r=M(P,"TD",{class:!0});var J=j(r);g&&g.l(J),J.forEach(S),p=Y(P),c=M(P,"TD",{class:!0});var pe=j(c);b=Se(pe,h),pe.forEach(S),k=Y(P),y=M(P,"TD",{class:!0});var xe=j(y);R.l(xe),xe.forEach(S),_=Y(P),V&&V.l(P),C=Y(P),P.forEach(S),this.h()},h(){F(s,"class","task-name-col svelte-1h5c2ka"),F(i,"class","svelte-1h5c2ka"),F(r,"class","svelte-1h5c2ka"),F(c,"class","metadata-col svelte-1h5c2ka"),F(y,"class","version-col svelte-1h5c2ka")},m(T,P){q(T,e,P),x(e,s),d.m(s,null),x(e,t),x(e,i),m&&m.m(i,null),x(e,l),x(e,r),g&&g.m(r,null),x(e,p),x(e,c),x(c,b),x(e,k),x(e,y),R.m(y,null),x(e,_),V&&V.m(e,null),x(e,C),n=!0},p(T,P){u===(u=o(T))&&d?d.p(T,P):(d.d(1),d=u(T),d&&(d.c(),d.m(s,null))),T[35].taskVersions[T[35].selectedVersion].category?m?(m.p(T,P),P[0]&2&&oe(m,1)):(m=un(T),m.c(),oe(m,1),m.m(i,null)):m&&(rt(),ce(m,1,1,()=>{m=null}),ct()),T[35].taskVersions[T[35].selectedVersion].modality?g?(g.p(T,P),P[0]&2&&oe(g,1)):(g=pn(T),g.c(),oe(g,1),g.m(r,null)):g&&(rt(),ce(g,1,1,()=>{g=null}),ct()),(!n||P[0]&2)&&h!==(h=bn(T[35].taskVersions[T[35].selectedVersion])+"")&&De(b,h),L===(L=w(T,P))&&R?R.p(T,P):(R.d(1),R=L(T),R&&(R.c(),R.m(y,null))),V&&V.p&&(!n||P[0]&16386)&&Kt(V,N,T,T[14],n?ts(N,T[14],P,fa):es(T[14]),ln)},i(T){n||(oe(m),oe(g),oe(V,T),n=!0)},o(T){ce(m),ce(g),ce(V,T),n=!1},d(T){T&&S(e),d.d(),m&&m.d(),g&&g.d(),R.d(),V&&V.d(T)}}}function _a(a){let e=a[35].taskVersions[a[35].selectedVersion].task_name+"",s;return{c(){s=Oe(e)},l(t){s=Se(t,e)},m(t,i){q(t,s,i)},p(t,i){i[0]&2&&e!==(e=t[35].taskVersions[t[35].selectedVersion].task_name+"")&&De(s,e)},d(t){t&&S(s)}}}function wa(a){let e,s=a[35].taskVersions[a[35].selectedVersion].task_name+"",t,i;return{c(){e=D("a"),t=Oe(s),this.h()},l(l){e=M(l,"A",{href:!0,target:!0});var r=j(e);t=Se(r,s),r.forEach(S),this.h()},h(){F(e,"href",i=a[35].taskVersions[a[35].selectedVersion].docs_link),F(e,"target","_blank")},m(l,r){q(l,e,r),x(e,t)},p(l,r){r[0]&2&&s!==(s=l[35].taskVersions[l[35].selectedVersion].task_name+"")&&De(t,s),r[0]&2&&i!==(i=l[35].taskVersions[l[35].selectedVersion].docs_link)&&F(e,"href",i)},d(l){l&&S(e)}}}function un(a){let e,s,t,i,l;s=new Fn({props:{value:a[35].taskVersions[a[35].selectedVersion].category}});function r(){return a[17](a[35])}return{c(){e=D("button"),us(s.$$.fragment),this.h()},l(p){e=M(p,"BUTTON",{class:!0});var c=j(e);ps(s.$$.fragment,c),c.forEach(S),this.h()},h(){F(e,"class","btn btn-link p-0")},m(p,c){q(p,e,c),ds(s,e,null),t=!0,i||(l=Ke(e,"click",r),i=!0)},p(p,c){a=p;const h={};c[0]&2&&(h.value=a[35].taskVersions[a[35].selectedVersion].category),s.$set(h)},i(p){t||(oe(s.$$.fragment,p),t=!0)},o(p){ce(s.$$.fragment,p),t=!1},d(p){p&&S(e),fs(s),i=!1,l()}}}function pn(a){let e,s,t,i,l;s=new Fn({props:{value:a[35].taskVersions[a[35].selectedVersion].modality}});function r(){return a[18](a[35])}return{c(){e=D("button"),us(s.$$.fragment),this.h()},l(p){e=M(p,"BUTTON",{class:!0});var c=j(e);ps(s.$$.fragment,c),c.forEach(S),this.h()},h(){F(e,"class","btn btn-link p-0")},m(p,c){q(p,e,c),ds(s,e,null),t=!0,i||(l=Ke(e,"click",r),i=!0)},p(p,c){a=p;const h={};c[0]&2&&(h.value=a[35].taskVersions[a[35].selectedVersion].modality),s.$set(h)},i(p){t||(oe(s.$$.fragment,p),t=!0)},o(p){ce(s.$$.fragment,p),t=!1},d(p){p&&S(e),fs(s),i=!1,l()}}}function ya(a){let e=a[35].taskVersions[a[35].selectedVersion].version+"",s;return{c(){s=Oe(e)},l(t){s=Se(t,e)},m(t,i){q(t,s,i)},p(t,i){i[0]&2&&e!==(e=t[35].taskVersions[t[35].selectedVersion].version+"")&&De(s,e)},d(t){t&&S(s)}}}function va(a){let e,s,t,i,l=ht(ls(Object.keys(a[35].taskVersions))),r=[];for(let c=0;c<l.length;c+=1)r[c]=dn(on(a,l,c));function p(){a[19].call(e,a[36],a[37])}return{c(){e=D("select");for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=M(c,"SELECT",{class:!0,"aria-label":!0});var h=j(e);for(let b=0;b<r.length;b+=1)r[b].l(h);h.forEach(S),this.h()},h(){F(e,"class","form-select"),F(e,"aria-label",s="Version for task "+a[35].taskVersions[a[35].selectedVersion].task_name),a[35].selectedVersion===void 0&&Yn(p)},m(c,h){q(c,e,h);for(let b=0;b<r.length;b+=1)r[b]&&r[b].m(e,null);Ps(e,a[35].selectedVersion,!0),t||(i=Ke(e,"change",p),t=!0)},p(c,h){if(a=c,h[0]&2){l=ht(ls(Object.keys(a[35].taskVersions)));let b;for(b=0;b<l.length;b+=1){const k=on(a,l,b);r[b]?r[b].p(k,h):(r[b]=dn(k),r[b].c(),r[b].m(e,null))}for(;b<r.length;b+=1)r[b].d(1);r.length=l.length}h[0]&2&&s!==(s="Version for task "+a[35].taskVersions[a[35].selectedVersion].task_name)&&F(e,"aria-label",s),h[0]&2&&Ps(e,a[35].selectedVersion)},d(c){c&&S(e),hs(r,c),t=!1,i()}}}function dn(a){let e,s=(a[38]||"None")+"",t,i;return{c(){e=D("option"),t=Oe(s),this.h()},l(l){e=M(l,"OPTION",{});var r=j(e);t=Se(r,s),r.forEach(S),this.h()},h(){e.__value=i=a[38],Ft(e,e.__value)},m(l,r){q(l,e,r),x(e,t)},p(l,r){r[0]&2&&s!==(s=(l[38]||"None")+"")&&De(t,s),r[0]&2&&i!==(i=l[38])&&(e.__value=i,Ft(e,e.__value))},d(l){l&&S(e)}}}function fn(a){let e,s,t=a[35].taskVersions[a[35].selectedVersion]&&hn(a);return{c(){t&&t.c(),e=We()},l(i){t&&t.l(i),e=We()},m(i,l){t&&t.m(i,l),q(i,e,l),s=!0},p(i,l){i[35].taskVersions[i[35].selectedVersion]?t?(t.p(i,l),l[0]&2&&oe(t,1)):(t=hn(i),t.c(),oe(t,1),t.m(e.parentNode,e)):t&&(rt(),ce(t,1,1,()=>{t=null}),ct())},i(i){s||(oe(t),s=!0)},o(i){ce(t),s=!1},d(i){i&&S(e),t&&t.d(i)}}}function mn(a){let e,s,t=a[32].groupTitle+"",i,l,r,p,c=ht(a[32].tasks),h=[];for(let k=0;k<c.length;k+=1)h[k]=fn(an(a,c,k));const b=k=>ce(h[k],1,1,()=>{h[k]=null});return{c(){e=D("tr"),s=D("th"),i=Oe(t),l=W();for(let k=0;k<h.length;k+=1)h[k].c();r=We(),this.h()},l(k){e=M(k,"TR",{class:!0});var y=j(e);s=M(y,"TH",{colspan:!0,class:!0});var v=j(s);i=Se(v,t),v.forEach(S),y.forEach(S),l=Y(k);for(let _=0;_<h.length;_+=1)h[_].l(k);r=We(),this.h()},h(){F(s,"colspan","3"),F(s,"class","svelte-1h5c2ka"),F(e,"class","border-top")},m(k,y){q(k,e,y),x(e,s),x(s,i),q(k,l,y);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(k,y);q(k,r,y),p=!0},p(k,y){if((!p||y[0]&2)&&t!==(t=k[32].groupTitle+"")&&De(i,t),y[0]&16410){c=ht(k[32].tasks);let v;for(v=0;v<c.length;v+=1){const _=an(k,c,v);h[v]?(h[v].p(_,y),oe(h[v],1)):(h[v]=fn(_),h[v].c(),oe(h[v],1),h[v].m(r.parentNode,r))}for(rt(),v=c.length;v<h.length;v+=1)b(v);ct()}},i(k){if(!p){for(let y=0;y<c.length;y+=1)oe(h[y]);p=!0}},o(k){h=h.filter(Boolean);for(let y=0;y<h.length;y+=1)ce(h[y]);p=!1},d(k){k&&(S(e),S(l),S(r)),hs(h,k)}}}function Ea(a){let e,s,t,i,l="Filter tasks",r,p,c,h,b,k,y,v,_,C="Reset",n,o,u='<div class="col"><select id="package-filter" class="invisible"></select></div> <div class="col"><select id="category-filter" class="invisible"></select></div> <div class="col"><select id="modality-filter" class="invisible"></select></div> <div class="col"><select id="tag-filter" class="invisible"></select></div>',d,m,g,w,L,R,N;const V=[ka,ba],T=[];function P(B,Z){return B[0].length===0?0:1}return m=P(a),g=T[m]=V[m](a),{c(){e=D("div"),s=D("div"),t=D("div"),i=D("div"),i.textContent=l,r=W(),p=D("div"),c=D("div"),h=D("div"),b=D("div"),k=D("input"),y=W(),v=D("div"),_=D("button"),_.textContent=C,n=W(),o=D("div"),o.innerHTML=u,d=W(),g.c(),w=We(),this.h()},l(B){e=M(B,"DIV",{class:!0});var Z=j(e);s=M(Z,"DIV",{class:!0});var J=j(s);t=M(J,"DIV",{class:!0});var pe=j(t);i=M(pe,"DIV",{class:!0,"data-svelte-h":!0}),He(i)!=="svelte-gyxyme"&&(i.textContent=l),r=Y(pe),p=M(pe,"DIV",{class:!0});var xe=j(p);c=M(xe,"DIV",{class:!0});var Le=j(c);h=M(Le,"DIV",{class:!0});var O=j(h);b=M(O,"DIV",{class:!0});var G=j(b);k=M(G,"INPUT",{type:!0,class:!0,placeholder:!0}),G.forEach(S),O.forEach(S),y=Y(Le),v=M(Le,"DIV",{});var U=j(v);_=M(U,"BUTTON",{class:!0,"data-svelte-h":!0}),He(_)!=="svelte-1iagwg6"&&(_.textContent=C),U.forEach(S),Le.forEach(S),xe.forEach(S),pe.forEach(S),n=Y(J),o=M(J,"DIV",{class:!0,"data-svelte-h":!0}),He(o)!=="svelte-1t55mms"&&(o.innerHTML=u),J.forEach(S),Z.forEach(S),d=Y(B),g.l(B),w=We(),this.h()},h(){F(i,"class","col-3 col-lg-6"),F(k,"type","text"),F(k,"class","form-control ms-auto"),F(k,"placeholder","Search..."),F(b,"class","input-group input-group-sm"),F(h,"class","flex-fill"),F(_,"class","btn btn-outline-secondary btn-sm ms-3"),F(c,"class","d-flex"),F(p,"class","col-9 col-lg-6"),F(t,"class","row mb-2"),F(o,"class","row"),F(s,"class","card-body"),F(e,"class","card mb-2"),xt(e,"invisible",a[0].length===0),xt(e,"collapse",a[0].length===0)},m(B,Z){q(B,e,Z),x(e,s),x(s,t),x(t,i),x(t,r),x(t,p),x(p,c),x(c,h),x(h,b),x(b,k),Ft(k,a[2]),x(c,y),x(c,v),x(v,_),x(s,n),x(s,o),q(B,d,Z),T[m].m(B,Z),q(B,w,Z),L=!0,R||(N=[Ke(k,"input",a[16]),Ke(_,"click",a[8])],R=!0)},p(B,Z){Z[0]&4&&k.value!==B[2]&&Ft(k,B[2]),(!L||Z[0]&1)&&xt(e,"invisible",B[0].length===0),(!L||Z[0]&1)&&xt(e,"collapse",B[0].length===0);let J=m;m=P(B),m===J?T[m].p(B,Z):(rt(),ce(T[J],1,1,()=>{T[J]=null}),ct(),g=T[m],g?g.p(B,Z):(g=T[m]=V[m](B),g.c()),oe(g,1),g.m(w.parentNode,w))},i(B){L||(oe(g),L=!0)},o(B){ce(g),L=!1},d(B){B&&(S(e),S(d),S(w)),T[m].d(B),R=!1,Wn(N)}}}let $n="pkg_name",Ta="";function Oa(a){return!0}function Dt(a,e,s){a==null||a.setData([{text:s,placeholder:!0},...e])}function gn(a,e){return[...new Set(a.flatMap(s=>s.task_list).map(e).filter(s=>s!==null))]}function Mt(a){return a.map(e=>({text:e,value:e}))}function bn(a){const e=[];return e.push(...a.tags),a.authors&&e.push(a.authors),e.join(", ")}function Sa(a,e,s){let t,i,{$$slots:l={},$$scope:r}=e,{taskGroups:p}=e,c=[],h=[],b="",k,y="",v,_="",C,n="",o,u="",d={pkg_name:"Task"};function m(){p&&(B(p),s(0,c=oa(p,$n)),g())}function g(){s(1,h=c.map(O=>{const G=O.tasks.filter(U=>w(U.taskVersions[U.selectedVersion]));return{...O,tasks:G}}).filter(O=>O.tasks.length>0))}function w(O){return L(O)&&R(O)&&N(O)&&T(O)&&V(O)&&Oa()}function L(O){if(!b)return!0;const G=b.toLowerCase();return O.task_name.toLowerCase().includes(G)||O.pkg_name.toLowerCase().includes(G)||O.category&&O.category.toLowerCase().includes(G)||O.modality&&O.modality.toLowerCase().includes(G)||O.authors&&O.authors.toLowerCase().includes(G)||Object.keys(O.input_types).find(U=>U.toLowerCase().includes(G))!==void 0||O.tags.find(U=>U.toLowerCase().includes(G))!==void 0}function R(O){return y?O.category!==null&&O.category===y:!0}function N(O){return _?O.modality!==null&&O.modality===_:!0}function V(O){return n?O.pkg_name===n:!0}function T(O){return u?O.tags.find(G=>G===u)!==void 0:!0}function P(){s(2,b=""),s(10,y=""),k==null||k.setSelected(""),v==null||v.setSelected(""),C==null||C.setSelected(""),o==null||o.setSelected("")}function B(O){Dt(k,Mt(gn(O,G=>G.category)),"Category"),Dt(v,Mt(gn(O,G=>G.modality)),"Modality"),Dt(C,Mt([...new Set(O.map(G=>G.pkg_name))]),"Package"),Dt(o,Mt([...new Set(O.flatMap(G=>G.task_list).flatMap(G=>G.tags).filter(G=>G!==null))]),"Tag")}wn(()=>{s(3,k=Z("category-filter","Select category","Category",O=>{s(10,y=O)})),s(4,v=Z("modality-filter","Select modality","Modality",O=>{s(11,_=O)})),C=Z("package-filter","Select package","Package",O=>{s(12,n=O)}),o=Z("tag-filter","Select tag","Tag",O=>{s(13,u=O)}),m()});function Z(O,G,U,Ue){const ie=document.getElementById(O);return ie==null||ie.classList.remove("invisible"),new ua({select:`#${O}`,settings:{showSearch:!0,allowDeselect:!0,ariaLabel:G},events:{afterChange:Me=>{Me.length===0||Me[0].value===U?Ue(""):Ue(Me[0].value)}}})}function J(){b=this.value,s(2,b)}const pe=O=>k==null?void 0:k.setSelected(O.taskVersions[O.selectedVersion].category),xe=O=>v==null?void 0:v.setSelected(O.taskVersions[O.selectedVersion].modality);function Le(O,G){O[G].selectedVersion=Jn(this),s(1,h),s(2,b),s(10,y),s(11,_),s(12,n),s(13,u),s(0,c)}return a.$$set=O=>{"taskGroups"in O&&s(9,p=O.taskGroups),"$$scope"in O&&s(14,r=O.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&512&&p&&m(),a.$$.dirty[0]&15365&&(b||y||_||n||u||Ta?g():s(1,h=c)),a.$$.dirty[0]&2&&s(6,t=h.reduce((O,G)=>O+G.tasks.length,0)),a.$$.dirty[0]&1&&s(5,i=c.reduce((O,G)=>O+G.tasks.length,0))},[c,h,b,k,v,i,t,d,P,p,y,_,n,u,r,l,J,pe,xe,Le]}class xa extends rs{constructor(e){super(),cs(this,e,Sa,Ea,os,{taskGroups:9},null,[-1,-1])}}function La(a){let e,s,t;return{c(){e=D("col"),s=W(),t=D("col"),this.h()},l(i){e=M(i,"COL",{width:!0}),s=Y(i),t=M(i,"COL",{width:!0}),this.h()},h(){F(e,"width","60"),F(t,"width","60")},m(i,l){q(i,e,l),q(i,s,l),q(i,t,l)},p:Qe,d(i){i&&(S(e),S(s),S(t))}}}function Aa(a){let e,s,t;return{c(){e=D("th"),s=W(),t=D("th")},l(i){e=M(i,"TH",{}),j(e).forEach(S),s=Y(i),t=M(i,"TH",{}),j(t).forEach(S)},m(i,l){q(i,e,l),q(i,s,l),q(i,t,l)},p:Qe,d(i){i&&(S(e),S(s),S(t))}}}function kn(a){let e,s='<i class="bi bi-info-circle"></i>',t,i;function l(){return a[4](a[6])}return{c(){e=D("button"),e.innerHTML=s,this.h()},l(r){e=M(r,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-bdzzj"&&(e.innerHTML=s),this.h()},h(){F(e,"class","btn btn-info")},m(r,p){q(r,e,p),t||(i=Ke(e,"click",l),t=!0)},p(r,p){a=r},d(r){r&&S(e),t=!1,i()}}}function _n(a){let e,s='<i class="bi bi-plus-circle"></i>',t,i;function l(){return a[5](a[6])}return{c(){e=D("button"),e.innerHTML=s,this.h()},l(r){e=M(r,"BUTTON",{class:!0,"data-svelte-h":!0}),He(e)!=="svelte-p07edj"&&(e.innerHTML=s),this.h()},h(){F(e,"class","btn btn-primary me-2")},m(r,p){q(r,e,p),t||(i=Ke(e,"click",l),t=!0)},p(r,p){a=r},d(r){r&&S(e),t=!1,i()}}}function Ca(a){let e,s,t,i=a[6].docs_info&&kn(a),l=a[6].install_instructions&&_n(a);return{c(){e=D("td"),i&&i.c(),s=W(),t=D("td"),l&&l.c()},l(r){e=M(r,"TD",{});var p=j(e);i&&i.l(p),p.forEach(S),s=Y(r),t=M(r,"TD",{});var c=j(t);l&&l.l(c),c.forEach(S)},m(r,p){q(r,e,p),i&&i.m(e,null),q(r,s,p),q(r,t,p),l&&l.m(t,null)},p(r,p){r[6].docs_info?i?i.p(r,p):(i=kn(r),i.c(),i.m(e,null)):i&&(i.d(1),i=null),r[6].install_instructions?l?l.p(r,p):(l=_n(r),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},d(r){r&&(S(e),S(s),S(t)),i&&i.d(),l&&l.d()}}}function Ra(a){var o;let e,s,t,i,l,r,p,c=((o=a[1])==null?void 0:o.task_name)+"",h,b,k,y,v,_,C=a[0](a[2])+"",n;return e=new xa({props:{taskGroups:Fi,$$slots:{"extra-columns":[Ca,({task:u})=>({6:u}),({task:u})=>u?64:0],"extra-columns-header":[Aa],"extra-columns-colgroup":[La]},$$scope:{ctx:a}}}),{c(){us(e.$$.fragment),s=W(),t=D("div"),i=D("div"),l=D("div"),r=D("div"),p=D("h5"),h=Oe(c),b=W(),k=D("button"),y=W(),v=D("div"),_=new Qn(!1),this.h()},l(u){ps(e.$$.fragment,u),s=Y(u),t=M(u,"DIV",{class:!0,id:!0,tabindex:!0});var d=j(t);i=M(d,"DIV",{class:!0});var m=j(i);l=M(m,"DIV",{class:!0});var g=j(l);r=M(g,"DIV",{class:!0});var w=j(r);p=M(w,"H5",{class:!0});var L=j(p);h=Se(L,c),L.forEach(S),b=Y(w),k=M(w,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),j(k).forEach(S),w.forEach(S),y=Y(g),v=M(g,"DIV",{class:!0});var R=j(v);_=Kn(R,!1),R.forEach(S),g.forEach(S),m.forEach(S),d.forEach(S),this.h()},h(){F(p,"class","modal-title"),F(k,"type","button"),F(k,"class","btn-close"),F(k,"data-bs-dismiss","modal"),F(k,"aria-label","Close"),F(r,"class","modal-header"),_.a=null,F(v,"class","modal-body"),F(l,"class","modal-content"),F(i,"class","modal-dialog modal-dialog-scrollable"),F(t,"class","modal modal-xl"),F(t,"id","task-info-modal"),F(t,"tabindex","-1")},m(u,d){ds(e,u,d),q(u,s,d),q(u,t,d),x(t,i),x(i,l),x(l,r),x(r,p),x(p,h),x(r,b),x(r,k),x(l,y),x(l,v),_.m(C,v),n=!0},p(u,[d]){var g;const m={};d&192&&(m.$$scope={dirty:d,ctx:u}),e.$set(m),(!n||d&2)&&c!==(c=((g=u[1])==null?void 0:g.task_name)+"")&&De(h,c),(!n||d&4)&&C!==(C=u[0](u[2])+"")&&_.p(C)},i(u){n||(oe(e.$$.fragment,u),n=!0)},o(u){ce(e.$$.fragment,u),n=!1},d(u){u&&(S(s),S(t)),fs(e,u)}}}function Ia(a){const e=document.getElementById(a),s=bootstrap.Modal.getInstance(e);return s||new bootstrap.Modal(e)}function Da(a,e,s){let t=null,i="";function l(h,b){s(1,t=h),s(2,i=b),Ia("task-info-modal").show()}function r(h){return h?Pi.sanitize(K.parse(h)):""}return[r,t,i,l,h=>l(h,h.docs_info),h=>l(h,h.install_instructions)]}class $a extends rs{constructor(e){super(),cs(this,e,Da,Ra,os,{formatMarkdown:0})}get formatMarkdown(){return this.$$.ctx[0]}}export{$a as component};
